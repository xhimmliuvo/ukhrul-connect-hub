var Gy=e=>{throw TypeError(e)};var _m=(e,t,r)=>t.has(e)||Gy("Cannot "+r);var K=(e,t,r)=>(_m(e,t,"read from private field"),r?r.call(e):t.get(e)),Ye=(e,t,r)=>t.has(e)?Gy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),De=(e,t,r,s)=>(_m(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),ur=(e,t,r)=>(_m(e,t,"access private method"),r);var qd=(e,t,r,s)=>({set _(a){De(e,t,a,r)},get _(){return K(e,t,s)}});function Tb(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ld(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var Ab={exports:{}},df={},Rb={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),WT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),HT=Symbol.for("react.strict_mode"),KT=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),QT=Symbol.for("react.forward_ref"),ZT=Symbol.for("react.suspense"),JT=Symbol.for("react.memo"),XT=Symbol.for("react.lazy"),Yy=Symbol.iterator;function eA(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var Ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Db=Object.assign,Mb={};function El(e,t,r){this.props=e,this.context=t,this.refs=Mb,this.updater=r||Ob}El.prototype.isReactComponent={};El.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};El.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ib(){}Ib.prototype=El.prototype;function Sv(e,t,r){this.props=e,this.context=t,this.refs=Mb,this.updater=r||Ob}var kv=Sv.prototype=new Ib;kv.constructor=Sv;Db(kv,El.prototype);kv.isPureReactComponent=!0;var Qy=Array.isArray,Fb=Object.prototype.hasOwnProperty,Cv={current:null},Lb={key:!0,ref:!0,__self:!0,__source:!0};function $b(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Fb.call(t,s)&&!Lb.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:cd,type:e,key:i,ref:o,props:a,_owner:Cv.current}}function tA(e,t){return{$$typeof:cd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ev(e){return typeof e=="object"&&e!==null&&e.$$typeof===cd}function rA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zy=/\/+/g;function Nm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rA(""+e.key):t.toString(36)}function Au(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cd:case WT:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Nm(o,0):s,Qy(a)?(r="",e!=null&&(r=e.replace(Zy,"$&/")+"/"),Au(a,t,r,"",function(d){return d})):a!=null&&(Ev(a)&&(a=tA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Zy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Qy(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Nm(i,l);o+=Au(i,t,r,c,a)}else if(c=eA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Nm(i,l++),o+=Au(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(e,t,r){if(e==null)return e;var s=[],a=0;return Au(e,s,"","",function(i){return t.call(r,i,a++)}),s}function sA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Ru={transition:null},nA={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:Cv};function Ub(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Hd,forEach:function(e,t,r){Hd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hd(e,function(){t++}),t},toArray:function(e){return Hd(e,function(t){return t})||[]},only:function(e){if(!Ev(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=El;ze.Fragment=qT;ze.Profiler=KT;ze.PureComponent=Sv;ze.StrictMode=HT;ze.Suspense=ZT;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nA;ze.act=Ub;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Db({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fb.call(t,c)&&!Lb.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:cd,type:e.type,key:a,ref:i,props:s,_owner:o}};ze.createContext=function(e){return e={$$typeof:YT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GT,_context:e},e.Consumer=e};ze.createElement=$b;ze.createFactory=function(e){var t=$b.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:QT,render:e}};ze.isValidElement=Ev;ze.lazy=function(e){return{$$typeof:XT,_payload:{_status:-1,_result:e},_init:sA}};ze.memo=function(e,t){return{$$typeof:JT,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=Ru.transition;Ru.transition={};try{e()}finally{Ru.transition=t}};ze.unstable_act=Ub;ze.useCallback=function(e,t){return Ar.current.useCallback(e,t)};ze.useContext=function(e){return Ar.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};ze.useEffect=function(e,t){return Ar.current.useEffect(e,t)};ze.useId=function(){return Ar.current.useId()};ze.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return Ar.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};ze.useRef=function(e){return Ar.current.useRef(e)};ze.useState=function(e){return Ar.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return Ar.current.useTransition()};ze.version="18.3.1";Rb.exports=ze;var f=Rb.exports;const q=Nv(f),Pv=Tb({__proto__:null,default:q},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=f,iA=Symbol.for("react.element"),oA=Symbol.for("react.fragment"),lA=Object.prototype.hasOwnProperty,cA=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dA={key:!0,ref:!0,__self:!0,__source:!0};function Bb(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)lA.call(t,s)&&!dA.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:iA,type:e,key:i,ref:o,props:a,_owner:cA.current}}df.Fragment=oA;df.jsx=Bb;df.jsxs=Bb;Ab.exports=df;var n=Ab.exports,zb={exports:{}},hs={},Vb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var Q=E.length;E.push(M);e:for(;0<Q;){var oe=Q-1>>>1,de=E[oe];if(0<a(de,M))E[oe]=M,E[Q]=de,Q=oe;else break e}}function r(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var M=E[0],Q=E.pop();if(Q!==M){E[0]=Q;e:for(var oe=0,de=E.length,_e=de>>>1;oe<_e;){var ge=2*(oe+1)-1,ne=E[ge],Pe=ge+1,H=E[Pe];if(0>a(ne,Q))Pe<de&&0>a(H,ne)?(E[oe]=H,E[Pe]=Q,oe=Pe):(E[oe]=ne,E[ge]=Q,oe=ge);else if(Pe<de&&0>a(H,Q))E[oe]=H,E[Pe]=Q,oe=Pe;else break e}}return M}function a(E,M){var Q=E.sortIndex-M.sortIndex;return Q!==0?Q:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(E){for(var M=r(d);M!==null;){if(M.callback===null)s(d);else if(M.startTime<=E)s(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(d)}}function _(E){if(v=!1,j(E),!g)if(r(c)!==null)g=!0,D(S);else{var M=r(d);M!==null&&$(_,M.startTime-E)}}function S(E,M){g=!1,v&&(v=!1,w(b),b=-1),p=!0;var Q=h;try{for(j(M),m=r(c);m!==null&&(!(m.expirationTime>M)||E&&!A());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,h=m.priorityLevel;var de=oe(m.expirationTime<=M);M=e.unstable_now(),typeof de=="function"?m.callback=de:m===r(c)&&s(c),j(M)}else s(c);m=r(c)}if(m!==null)var _e=!0;else{var ge=r(d);ge!==null&&$(_,ge.startTime-M),_e=!1}return _e}finally{m=null,h=Q,p=!1}}var N=!1,k=null,b=-1,C=5,I=-1;function A(){return!(e.unstable_now()-I<C)}function L(){if(k!==null){var E=e.unstable_now();I=E;var M=!0;try{M=k(!0,E)}finally{M?Z():(N=!1,k=null)}}else N=!1}var Z;if(typeof x=="function")Z=function(){x(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,R=z.port2;z.port1.onmessage=L,Z=function(){R.postMessage(null)}}else Z=function(){y(L,0)};function D(E){k=E,N||(N=!0,Z())}function $(E,M){b=y(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,D(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var Q=h;h=M;try{return E()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var Q=h;h=E;try{return M()}finally{h=Q}},e.unstable_scheduleCallback=function(E,M,Q){var oe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,E){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,E={id:u++,callback:M,priorityLevel:E,startTime:Q,expirationTime:de,sortIndex:-1},Q>oe?(E.sortIndex=Q,t(d,E),r(c)===null&&E===r(d)&&(v?(w(b),b=-1):v=!0,$(_,Q-oe))):(E.sortIndex=de,t(c,E),g||p||(g=!0,D(S))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var M=h;return function(){var Q=h;h=M;try{return E.apply(this,arguments)}finally{h=Q}}}})(Wb);Vb.exports=Wb;var uA=Vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=f,ls=uA;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qb=new Set,Tc={};function eo(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Tc[e]=t,e=0;e<t.length;e++)qb.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,fA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jy={},Xy={};function mA(e){return Ap.call(Xy,e)?!0:Ap.call(Jy,e)?!1:fA.test(e)?Xy[e]=!0:(Jy[e]=!0,!1)}function pA(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gA(e,t,r,s){if(t===null||typeof t>"u"||pA(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rr(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new Rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new Rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new Rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new Rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new Rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new Rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new Rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new Rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new Rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function Av(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tv,Av);cr[t]=new Rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tv,Av);cr[t]=new Rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tv,Av);cr[t]=new Rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new Rr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rv(e,t,r,s){var a=cr.hasOwnProperty(t)?cr[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gA(t,r,a,s)&&(r=null),s||a===null?mA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var na=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kd=Symbol.for("react.element"),So=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Kb=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),Mv=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),ew=Symbol.iterator;function Wl(e){return e===null||typeof e!="object"?null:(e=ew&&e[ew]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Object.assign,Sm;function nc(e){if(Sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sm=t&&t[1]||""}return`
`+Sm+e}var km=!1;function Cm(e,t){if(!e||km)return"";km=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{km=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nc(e):""}function vA(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=Cm(e.type,!1),e;case 11:return e=Cm(e.type.render,!1),e;case 1:return e=Cm(e.type,!0),e;default:return""}}function Mp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case So:return"Portal";case Rp:return"Profiler";case Ov:return"StrictMode";case Op:return"Suspense";case Dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kb:return(e.displayName||"Context")+".Consumer";case Hb:return(e._context.displayName||"Context")+".Provider";case Dv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mv:return t=e.displayName||null,t!==null?t:Mp(e.type)||"Memo";case va:t=e._payload,e=e._init;try{return Mp(e(t))}catch{}}return null}function xA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mp(t);case 8:return t===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yA(e){var t=Yb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gd(e){e._valueTracker||(e._valueTracker=yA(e))}function Qb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Yb(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function nh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ip(e,t){var r=t.checked;return _t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tw(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zb(e,t){t=t.checked,t!=null&&Rv(e,"checked",t,!1)}function Fp(e,t){Zb(e,t);var r=Wa(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lp(e,t.type,Wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lp(e,t,r){(t!=="number"||nh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ac=Array.isArray;function Fo(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Wa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $p(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return _t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(ac(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wa(r)}}function Jb(e,t){var r=Wa(t.value),s=Wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function nw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yd,e_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yd=Yd||document.createElement("div"),Yd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ac(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wA=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){wA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function t_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function r_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=t_(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var jA=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(jA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function zp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function Iv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wp=null,Lo=null,$o=null;function aw(e){if(e=hd(e)){if(typeof Wp!="function")throw Error(X(280));var t=e.stateNode;t&&(t=pf(t),Wp(e.stateNode,e.type,t))}}function s_(e){Lo?$o?$o.push(e):$o=[e]:Lo=e}function n_(){if(Lo){var e=Lo,t=$o;if($o=Lo=null,aw(e),t)for(e=0;e<t.length;e++)aw(t[e])}}function a_(e,t){return e(t)}function i_(){}var Em=!1;function o_(e,t,r){if(Em)return e(t,r);Em=!0;try{return a_(e,t,r)}finally{Em=!1,(Lo!==null||$o!==null)&&(i_(),n_())}}function Rc(e,t){var r=e.stateNode;if(r===null)return null;var s=pf(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var qp=!1;if(Kn)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){qp=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{qp=!1}function bA(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var gc=!1,ah=null,ih=!1,Hp=null,_A={onError:function(e){gc=!0,ah=e}};function NA(e,t,r,s,a,i,o,l,c){gc=!1,ah=null,bA.apply(_A,arguments)}function SA(e,t,r,s,a,i,o,l,c){if(NA.apply(this,arguments),gc){if(gc){var d=ah;gc=!1,ah=null}else throw Error(X(198));ih||(ih=!0,Hp=d)}}function to(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function l_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iw(e){if(to(e)!==e)throw Error(X(188))}function kA(e){var t=e.alternate;if(!t){if(t=to(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return iw(a),e;if(i===s)return iw(a),t;i=i.sibling}throw Error(X(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==s)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function c_(e){return e=kA(e),e!==null?d_(e):null}function d_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d_(e);if(t!==null)return t;e=e.sibling}return null}var u_=ls.unstable_scheduleCallback,ow=ls.unstable_cancelCallback,CA=ls.unstable_shouldYield,EA=ls.unstable_requestPaint,Tt=ls.unstable_now,PA=ls.unstable_getCurrentPriorityLevel,Fv=ls.unstable_ImmediatePriority,h_=ls.unstable_UserBlockingPriority,oh=ls.unstable_NormalPriority,TA=ls.unstable_LowPriority,f_=ls.unstable_IdlePriority,uf=null,_n=null;function AA(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(uf,e,void 0,(e.current.flags&128)===128)}catch{}}var Gs=Math.clz32?Math.clz32:DA,RA=Math.log,OA=Math.LN2;function DA(e){return e>>>=0,e===0?32:31-(RA(e)/OA|0)|0}var Qd=64,Zd=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lh(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=ic(l):(i&=o,i!==0&&(s=ic(i)))}else o=r&~a,o!==0?s=ic(o):i!==0&&(s=ic(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Gs(t),a=1<<r,s|=e[r],t&=~a;return s}function MA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IA(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Gs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=MA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m_(){var e=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),e}function Pm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gs(t),e[t]=r}function FA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Gs(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Lv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Gs(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var rt=0;function p_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g_,$v,v_,x_,y_,Gp=!1,Jd=[],Oa=null,Da=null,Ma=null,Oc=new Map,Dc=new Map,wa=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lw(e,t){switch(e){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(t.pointerId)}}function Hl(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=hd(t),t!==null&&$v(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $A(e,t,r,s,a){switch(t){case"focusin":return Oa=Hl(Oa,e,t,r,s,a),!0;case"dragenter":return Da=Hl(Da,e,t,r,s,a),!0;case"mouseover":return Ma=Hl(Ma,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Oc.set(i,Hl(Oc.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Dc.set(i,Hl(Dc.get(i)||null,e,t,r,s,a)),!0}return!1}function w_(e){var t=Ni(e.target);if(t!==null){var r=to(t);if(r!==null){if(t=r.tag,t===13){if(t=l_(r),t!==null){e.blockedOn=t,y_(e.priority,function(){v_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Vp=s,r.target.dispatchEvent(s),Vp=null}else return t=hd(r),t!==null&&$v(t),e.blockedOn=r,!1;t.shift()}return!0}function cw(e,t,r){Ou(e)&&r.delete(t)}function UA(){Gp=!1,Oa!==null&&Ou(Oa)&&(Oa=null),Da!==null&&Ou(Da)&&(Da=null),Ma!==null&&Ou(Ma)&&(Ma=null),Oc.forEach(cw),Dc.forEach(cw)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Gp||(Gp=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,UA)))}function Mc(e){function t(a){return Kl(a,e)}if(0<Jd.length){Kl(Jd[0],e);for(var r=1;r<Jd.length;r++){var s=Jd[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Oa!==null&&Kl(Oa,e),Da!==null&&Kl(Da,e),Ma!==null&&Kl(Ma,e),Oc.forEach(t),Dc.forEach(t),r=0;r<wa.length;r++)s=wa[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<wa.length&&(r=wa[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&wa.shift()}var Uo=na.ReactCurrentBatchConfig,ch=!0;function BA(e,t,r,s){var a=rt,i=Uo.transition;Uo.transition=null;try{rt=1,Uv(e,t,r,s)}finally{rt=a,Uo.transition=i}}function zA(e,t,r,s){var a=rt,i=Uo.transition;Uo.transition=null;try{rt=4,Uv(e,t,r,s)}finally{rt=a,Uo.transition=i}}function Uv(e,t,r,s){if(ch){var a=Yp(e,t,r,s);if(a===null)$m(e,t,s,dh,r),lw(e,s);else if($A(a,e,t,r,s))s.stopPropagation();else if(lw(e,s),t&4&&-1<LA.indexOf(e)){for(;a!==null;){var i=hd(a);if(i!==null&&g_(i),i=Yp(e,t,r,s),i===null&&$m(e,t,s,dh,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else $m(e,t,s,null,r)}}var dh=null;function Yp(e,t,r,s){if(dh=null,e=Iv(s),e=Ni(e),e!==null)if(t=to(e),t===null)e=null;else if(r=t.tag,r===13){if(e=l_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function j_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PA()){case Fv:return 1;case h_:return 4;case oh:case TA:return 16;case f_:return 536870912;default:return 16}default:return 16}}var Pa=null,Bv=null,Du=null;function b_(){if(Du)return Du;var e,t=Bv,r=t.length,s,a="value"in Pa?Pa.value:Pa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Du=a.slice(e,1<s?1-s:void 0)}function Mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xd(){return!0}function dw(){return!1}function fs(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xd:dw,this.isPropagationStopped=dw,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=fs(Pl),ud=_t({},Pl,{view:0,detail:0}),VA=fs(ud),Tm,Am,Gl,hf=_t({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(Tm=e.screenX-Gl.screenX,Am=e.screenY-Gl.screenY):Am=Tm=0,Gl=e),Tm)},movementY:function(e){return"movementY"in e?e.movementY:Am}}),uw=fs(hf),WA=_t({},hf,{dataTransfer:0}),qA=fs(WA),HA=_t({},ud,{relatedTarget:0}),Rm=fs(HA),KA=_t({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),GA=fs(KA),YA=_t({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QA=fs(YA),ZA=_t({},Pl,{data:0}),hw=fs(ZA),JA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eR[e])?!!t[e]:!1}function Vv(){return tR}var rR=_t({},ud,{key:function(e){if(e.key){var t=JA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(e){return e.type==="keypress"?Mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sR=fs(rR),nR=_t({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fw=fs(nR),aR=_t({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),iR=fs(aR),oR=_t({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lR=fs(oR),cR=_t({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dR=fs(cR),uR=[9,13,27,32],Wv=Kn&&"CompositionEvent"in window,vc=null;Kn&&"documentMode"in document&&(vc=document.documentMode);var hR=Kn&&"TextEvent"in window&&!vc,__=Kn&&(!Wv||vc&&8<vc&&11>=vc),mw=" ",pw=!1;function N_(e,t){switch(e){case"keyup":return uR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function fR(e,t){switch(e){case"compositionend":return S_(t);case"keypress":return t.which!==32?null:(pw=!0,mw);case"textInput":return e=t.data,e===mw&&pw?null:e;default:return null}}function mR(e,t){if(Co)return e==="compositionend"||!Wv&&N_(e,t)?(e=b_(),Du=Bv=Pa=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return __&&t.locale!=="ko"?null:t.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pR[e.type]:t==="textarea"}function k_(e,t,r,s){s_(s),t=uh(t,"onChange"),0<t.length&&(r=new zv("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var xc=null,Ic=null;function gR(e){F_(e,0)}function ff(e){var t=To(e);if(Qb(t))return e}function vR(e,t){if(e==="change")return t}var C_=!1;if(Kn){var Om;if(Kn){var Dm="oninput"in document;if(!Dm){var vw=document.createElement("div");vw.setAttribute("oninput","return;"),Dm=typeof vw.oninput=="function"}Om=Dm}else Om=!1;C_=Om&&(!document.documentMode||9<document.documentMode)}function xw(){xc&&(xc.detachEvent("onpropertychange",E_),Ic=xc=null)}function E_(e){if(e.propertyName==="value"&&ff(Ic)){var t=[];k_(t,Ic,e,Iv(e)),o_(gR,t)}}function xR(e,t,r){e==="focusin"?(xw(),xc=t,Ic=r,xc.attachEvent("onpropertychange",E_)):e==="focusout"&&xw()}function yR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ff(Ic)}function wR(e,t){if(e==="click")return ff(t)}function jR(e,t){if(e==="input"||e==="change")return ff(t)}function bR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Js=typeof Object.is=="function"?Object.is:bR;function Fc(e,t){if(Js(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Ap.call(t,a)||!Js(e[a],t[a]))return!1}return!0}function yw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var r=yw(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yw(r)}}function P_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T_(){for(var e=window,t=nh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nh(e.document)}return t}function qv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _R(e){var t=T_(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P_(r.ownerDocument.documentElement,r)){if(s!==null&&qv(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=ww(r,i);var o=ww(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NR=Kn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Qp=null,yc=null,Zp=!1;function jw(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zp||Eo==null||Eo!==nh(s)||(s=Eo,"selectionStart"in s&&qv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yc&&Fc(yc,s)||(yc=s,s=uh(Qp,"onSelect"),0<s.length&&(t=new zv("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Eo)))}function eu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Po={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Mm={},A_={};Kn&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function mf(e){if(Mm[e])return Mm[e];if(!Po[e])return e;var t=Po[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A_)return Mm[e]=t[r];return e}var R_=mf("animationend"),O_=mf("animationiteration"),D_=mf("animationstart"),M_=mf("transitionend"),I_=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ja(e,t){I_.set(e,t),eo(t,[e])}for(var Im=0;Im<bw.length;Im++){var Fm=bw[Im],SR=Fm.toLowerCase(),kR=Fm[0].toUpperCase()+Fm.slice(1);Ja(SR,"on"+kR)}Ja(R_,"onAnimationEnd");Ja(O_,"onAnimationIteration");Ja(D_,"onAnimationStart");Ja("dblclick","onDoubleClick");Ja("focusin","onFocus");Ja("focusout","onBlur");Ja(M_,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function _w(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,SA(s,t,void 0,e),e.currentTarget=null}function F_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;_w(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;_w(a,l,d),i=c}}}if(ih)throw e=Hp,ih=!1,Hp=null,e}function ft(e,t){var r=t[rg];r===void 0&&(r=t[rg]=new Set);var s=e+"__bubble";r.has(s)||(L_(t,e,2,!1),r.add(s))}function Lm(e,t,r){var s=0;t&&(s|=4),L_(r,e,s,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[tu]){e[tu]=!0,qb.forEach(function(r){r!=="selectionchange"&&(CR.has(r)||Lm(r,!1,e),Lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,Lm("selectionchange",!1,t))}}function L_(e,t,r,s){switch(j_(t)){case 1:var a=BA;break;case 4:a=zA;break;default:a=Uv}r=a.bind(null,t,r,e),a=void 0,!qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $m(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ni(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}o_(function(){var d=i,u=Iv(r),m=[];e:{var h=I_.get(e);if(h!==void 0){var p=zv,g=e;switch(e){case"keypress":if(Mu(r)===0)break e;case"keydown":case"keyup":p=sR;break;case"focusin":g="focus",p=Rm;break;case"focusout":g="blur",p=Rm;break;case"beforeblur":case"afterblur":p=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iR;break;case R_:case O_:case D_:p=GA;break;case M_:p=lR;break;case"scroll":p=VA;break;case"wheel":p=dR;break;case"copy":case"cut":case"paste":p=QA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fw}var v=(t&4)!==0,y=!v&&e==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var x=d,j;x!==null;){j=x;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,w!==null&&(_=Rc(x,w),_!=null&&v.push($c(x,_,j)))),y)break;x=x.return}0<v.length&&(h=new p(h,g,null,r,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Vp&&(g=r.relatedTarget||r.fromElement)&&(Ni(g)||g[Gn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?Ni(g):null,g!==null&&(y=to(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=uw,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=fw,_="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?h:To(p),j=g==null?h:To(g),h=new v(_,x+"leave",p,r,u),h.target=y,h.relatedTarget=j,_=null,Ni(u)===d&&(v=new v(w,x+"enter",g,r,u),v.target=j,v.relatedTarget=y,_=v),y=_,p&&g)t:{for(v=p,w=g,x=0,j=v;j;j=ho(j))x++;for(j=0,_=w;_;_=ho(_))j++;for(;0<x-j;)v=ho(v),x--;for(;0<j-x;)w=ho(w),j--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=ho(v),w=ho(w)}v=null}else v=null;p!==null&&Nw(m,h,p,v,!1),g!==null&&y!==null&&Nw(m,y,g,v,!0)}}e:{if(h=d?To(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=vR;else if(gw(h))if(C_)S=jR;else{S=yR;var N=xR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=wR);if(S&&(S=S(e,d))){k_(m,S,r,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Lp(h,"number",h.value)}switch(N=d?To(d):window,e){case"focusin":(gw(N)||N.contentEditable==="true")&&(Eo=N,Qp=d,yc=null);break;case"focusout":yc=Qp=Eo=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,jw(m,r,u);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":jw(m,r,u)}var k;if(Wv)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Co?N_(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(__&&r.locale!=="ko"&&(Co||b!=="onCompositionStart"?b==="onCompositionEnd"&&Co&&(k=b_()):(Pa=u,Bv="value"in Pa?Pa.value:Pa.textContent,Co=!0)),N=uh(d,b),0<N.length&&(b=new hw(b,e,null,r,u),m.push({event:b,listeners:N}),k?b.data=k:(k=S_(r),k!==null&&(b.data=k)))),(k=hR?fR(e,r):mR(e,r))&&(d=uh(d,"onBeforeInput"),0<d.length&&(u=new hw("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=k))}F_(m,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uh(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Rc(e,r),i!=null&&s.unshift($c(e,i,a)),i=Rc(e,t),i!=null&&s.push($c(e,i,a))),e=e.return}return s}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nw(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Rc(r,i),c!=null&&o.unshift($c(r,c,l))):a||(c=Rc(r,i),c!=null&&o.push($c(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ER=/\r\n?/g,PR=/\u0000|\uFFFD/g;function Sw(e){return(typeof e=="string"?e:""+e).replace(ER,`
`).replace(PR,"")}function ru(e,t,r){if(t=Sw(t),Sw(e)!==t&&r)throw Error(X(425))}function hh(){}var Jp=null,Xp=null;function eg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(e){return kw.resolve(null).then(e).catch(RR)}:tg;function RR(e){setTimeout(function(){throw e})}function Um(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Mc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Mc(t)}function Ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),xn="__reactFiber$"+Tl,Uc="__reactProps$"+Tl,Gn="__reactContainer$"+Tl,rg="__reactEvents$"+Tl,OR="__reactListeners$"+Tl,DR="__reactHandles$"+Tl;function Ni(e){var t=e[xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gn]||r[xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cw(e);e!==null;){if(r=e[xn])return r;e=Cw(e)}return t}e=r,r=e.parentNode}return null}function hd(e){return e=e[xn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function pf(e){return e[Uc]||null}var sg=[],Ao=-1;function Xa(e){return{current:e}}function mt(e){0>Ao||(e.current=sg[Ao],sg[Ao]=null,Ao--)}function ct(e,t){Ao++,sg[Ao]=e.current,e.current=t}var qa={},yr=Xa(qa),Yr=Xa(!1),Bi=qa;function nl(e,t){var r=e.type.contextTypes;if(!r)return qa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qr(e){return e=e.childContextTypes,e!=null}function fh(){mt(Yr),mt(yr)}function Ew(e,t,r){if(yr.current!==qa)throw Error(X(168));ct(yr,t),ct(Yr,r)}function $_(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(X(108,xA(e)||"Unknown",a));return _t({},r,s)}function mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qa,Bi=yr.current,ct(yr,e),ct(Yr,Yr.current),!0}function Pw(e,t,r){var s=e.stateNode;if(!s)throw Error(X(169));r?(e=$_(e,t,Bi),s.__reactInternalMemoizedMergedChildContext=e,mt(Yr),mt(yr),ct(yr,e)):mt(Yr),ct(Yr,r)}var Bn=null,gf=!1,Bm=!1;function U_(e){Bn===null?Bn=[e]:Bn.push(e)}function MR(e){gf=!0,U_(e)}function ei(){if(!Bm&&Bn!==null){Bm=!0;var e=0,t=rt;try{var r=Bn;for(rt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Bn=null,gf=!1}catch(a){throw Bn!==null&&(Bn=Bn.slice(e+1)),u_(Fv,ei),a}finally{rt=t,Bm=!1}}return null}var Ro=[],Oo=0,ph=null,gh=0,xs=[],ys=0,zi=null,Wn=1,qn="";function gi(e,t){Ro[Oo++]=gh,Ro[Oo++]=ph,ph=e,gh=t}function B_(e,t,r){xs[ys++]=Wn,xs[ys++]=qn,xs[ys++]=zi,zi=e;var s=Wn;e=qn;var a=32-Gs(s)-1;s&=~(1<<a),r+=1;var i=32-Gs(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Wn=1<<32-Gs(t)+a|r<<a|s,qn=i+e}else Wn=1<<i|r<<a|s,qn=e}function Hv(e){e.return!==null&&(gi(e,1),B_(e,1,0))}function Kv(e){for(;e===ph;)ph=Ro[--Oo],Ro[Oo]=null,gh=Ro[--Oo],Ro[Oo]=null;for(;e===zi;)zi=xs[--ys],xs[ys]=null,qn=xs[--ys],xs[ys]=null,Wn=xs[--ys],xs[ys]=null}var is=null,as=null,xt=!1,qs=null;function z_(e,t){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Tw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,is=e,as=Ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,is=e,as=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zi!==null?{id:Wn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,is=e,as=null,!0):!1;default:return!1}}function ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ag(e){if(xt){var t=as;if(t){var r=t;if(!Tw(e,t)){if(ng(e))throw Error(X(418));t=Ia(r.nextSibling);var s=is;t&&Tw(e,t)?z_(s,r):(e.flags=e.flags&-4097|2,xt=!1,is=e)}}else{if(ng(e))throw Error(X(418));e.flags=e.flags&-4097|2,xt=!1,is=e}}}function Aw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;is=e}function su(e){if(e!==is)return!1;if(!xt)return Aw(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eg(e.type,e.memoizedProps)),t&&(t=as)){if(ng(e))throw V_(),Error(X(418));for(;t;)z_(e,t),t=Ia(t.nextSibling)}if(Aw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){as=Ia(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}as=null}}else as=is?Ia(e.stateNode.nextSibling):null;return!0}function V_(){for(var e=as;e;)e=Ia(e.nextSibling)}function al(){as=is=null,xt=!1}function Gv(e){qs===null?qs=[e]:qs.push(e)}var IR=na.ReactCurrentBatchConfig;function Yl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var s=r.stateNode}if(!s)throw Error(X(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function nu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rw(e){var t=e._init;return t(e._payload)}function W_(e){function t(w,x){if(e){var j=w.deletions;j===null?(w.deletions=[x],w.flags|=16):j.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function s(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function a(w,x){return w=Ua(w,x),w.index=0,w.sibling=null,w}function i(w,x,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<x?(w.flags|=2,x):j):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,j,_){return x===null||x.tag!==6?(x=Gm(j,w.mode,_),x.return=w,x):(x=a(x,j),x.return=w,x)}function c(w,x,j,_){var S=j.type;return S===ko?u(w,x,j.props.children,_,j.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===va&&Rw(S)===x.type)?(_=a(x,j.props),_.ref=Yl(w,x,j),_.return=w,_):(_=zu(j.type,j.key,j.props,null,w.mode,_),_.ref=Yl(w,x,j),_.return=w,_)}function d(w,x,j,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=Ym(j,w.mode,_),x.return=w,x):(x=a(x,j.children||[]),x.return=w,x)}function u(w,x,j,_,S){return x===null||x.tag!==7?(x=Ii(j,w.mode,_,S),x.return=w,x):(x=a(x,j),x.return=w,x)}function m(w,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Gm(""+x,w.mode,j),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kd:return j=zu(x.type,x.key,x.props,null,w.mode,j),j.ref=Yl(w,null,x),j.return=w,j;case So:return x=Ym(x,w.mode,j),x.return=w,x;case va:var _=x._init;return m(w,_(x._payload),j)}if(ac(x)||Wl(x))return x=Ii(x,w.mode,j,null),x.return=w,x;nu(w,x)}return null}function h(w,x,j,_){var S=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(w,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Kd:return j.key===S?c(w,x,j,_):null;case So:return j.key===S?d(w,x,j,_):null;case va:return S=j._init,h(w,x,S(j._payload),_)}if(ac(j)||Wl(j))return S!==null?null:u(w,x,j,_,null);nu(w,j)}return null}function p(w,x,j,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(j)||null,l(x,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Kd:return w=w.get(_.key===null?j:_.key)||null,c(x,w,_,S);case So:return w=w.get(_.key===null?j:_.key)||null,d(x,w,_,S);case va:var N=_._init;return p(w,x,j,N(_._payload),S)}if(ac(_)||Wl(_))return w=w.get(j)||null,u(x,w,_,S,null);nu(x,_)}return null}function g(w,x,j,_){for(var S=null,N=null,k=x,b=x=0,C=null;k!==null&&b<j.length;b++){k.index>b?(C=k,k=null):C=k.sibling;var I=h(w,k,j[b],_);if(I===null){k===null&&(k=C);break}e&&k&&I.alternate===null&&t(w,k),x=i(I,x,b),N===null?S=I:N.sibling=I,N=I,k=C}if(b===j.length)return r(w,k),xt&&gi(w,b),S;if(k===null){for(;b<j.length;b++)k=m(w,j[b],_),k!==null&&(x=i(k,x,b),N===null?S=k:N.sibling=k,N=k);return xt&&gi(w,b),S}for(k=s(w,k);b<j.length;b++)C=p(k,w,b,j[b],_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?b:C.key),x=i(C,x,b),N===null?S=C:N.sibling=C,N=C);return e&&k.forEach(function(A){return t(w,A)}),xt&&gi(w,b),S}function v(w,x,j,_){var S=Wl(j);if(typeof S!="function")throw Error(X(150));if(j=S.call(j),j==null)throw Error(X(151));for(var N=S=null,k=x,b=x=0,C=null,I=j.next();k!==null&&!I.done;b++,I=j.next()){k.index>b?(C=k,k=null):C=k.sibling;var A=h(w,k,I.value,_);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&t(w,k),x=i(A,x,b),N===null?S=A:N.sibling=A,N=A,k=C}if(I.done)return r(w,k),xt&&gi(w,b),S;if(k===null){for(;!I.done;b++,I=j.next())I=m(w,I.value,_),I!==null&&(x=i(I,x,b),N===null?S=I:N.sibling=I,N=I);return xt&&gi(w,b),S}for(k=s(w,k);!I.done;b++,I=j.next())I=p(k,w,b,I.value,_),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?b:I.key),x=i(I,x,b),N===null?S=I:N.sibling=I,N=I);return e&&k.forEach(function(L){return t(w,L)}),xt&&gi(w,b),S}function y(w,x,j,_){if(typeof j=="object"&&j!==null&&j.type===ko&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Kd:e:{for(var S=j.key,N=x;N!==null;){if(N.key===S){if(S=j.type,S===ko){if(N.tag===7){r(w,N.sibling),x=a(N,j.props.children),x.return=w,w=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===va&&Rw(S)===N.type){r(w,N.sibling),x=a(N,j.props),x.ref=Yl(w,N,j),x.return=w,w=x;break e}r(w,N);break}else t(w,N);N=N.sibling}j.type===ko?(x=Ii(j.props.children,w.mode,_,j.key),x.return=w,w=x):(_=zu(j.type,j.key,j.props,null,w.mode,_),_.ref=Yl(w,x,j),_.return=w,w=_)}return o(w);case So:e:{for(N=j.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){r(w,x.sibling),x=a(x,j.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Ym(j,w.mode,_),x.return=w,w=x}return o(w);case va:return N=j._init,y(w,x,N(j._payload),_)}if(ac(j))return g(w,x,j,_);if(Wl(j))return v(w,x,j,_);nu(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(r(w,x.sibling),x=a(x,j),x.return=w,w=x):(r(w,x),x=Gm(j,w.mode,_),x.return=w,w=x),o(w)):r(w,x)}return y}var il=W_(!0),q_=W_(!1),vh=Xa(null),xh=null,Do=null,Yv=null;function Qv(){Yv=Do=xh=null}function Zv(e){var t=vh.current;mt(vh),e._currentValue=t}function ig(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Bo(e,t){xh=e,Yv=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kr=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(Yv!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(xh===null)throw Error(X(308));Do=e,xh.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Si=null;function Jv(e){Si===null?Si=[e]:Si.push(e)}function H_(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Jv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Yn(e,s)}function Yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xa=!1;function Xv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ke&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Yn(e,r)}return a=s.interleaved,a===null?(t.next=t,Jv(s)):(t.next=a.next,a.next=t),s.interleaved=t,Yn(e,r)}function Iu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Lv(e,r)}}function Ow(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yh(e,t,r,s){var a=e.updateQueue;xa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){m=g.call(p,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,m,h):g,h==null)break e;m=_t({},m,h);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Wi|=o,e.lanes=o,e.memoizedState=m}}function Dw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(X(191,a));a.call(s)}}}var fd={},Nn=Xa(fd),Bc=Xa(fd),zc=Xa(fd);function ki(e){if(e===fd)throw Error(X(174));return e}function ex(e,t){switch(ct(zc,t),ct(Bc,e),ct(Nn,fd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}mt(Nn),ct(Nn,t)}function ol(){mt(Nn),mt(Bc),mt(zc)}function G_(e){ki(zc.current);var t=ki(Nn.current),r=Up(t,e.type);t!==r&&(ct(Bc,e),ct(Nn,r))}function tx(e){Bc.current===e&&(mt(Nn),mt(Bc))}var jt=Xa(0);function wh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zm=[];function rx(){for(var e=0;e<zm.length;e++)zm[e]._workInProgressVersionPrimary=null;zm.length=0}var Fu=na.ReactCurrentDispatcher,Vm=na.ReactCurrentBatchConfig,Vi=0,bt=null,Kt=null,Zt=null,jh=!1,wc=!1,Vc=0,FR=0;function hr(){throw Error(X(321))}function sx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Js(e[r],t[r]))return!1;return!0}function nx(e,t,r,s,a,i){if(Vi=i,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fu.current=e===null||e.memoizedState===null?BR:zR,e=r(s,a),wc){i=0;do{if(wc=!1,Vc=0,25<=i)throw Error(X(301));i+=1,Zt=Kt=null,t.updateQueue=null,Fu.current=VR,e=r(s,a)}while(wc)}if(Fu.current=bh,t=Kt!==null&&Kt.next!==null,Vi=0,Zt=Kt=bt=null,jh=!1,t)throw Error(X(300));return e}function ax(){var e=Vc!==0;return Vc=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?bt.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function ks(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=Zt===null?bt.memoizedState:Zt.next;if(t!==null)Zt=t,Kt=e;else{if(e===null)throw Error(X(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Zt===null?bt.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Wc(e,t){return typeof t=="function"?t(e):t}function Wm(e){var t=ks(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var s=Kt,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Vi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,bt.lanes|=u,Wi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Js(s,t.memoizedState)||(Kr=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,bt.lanes|=i,Wi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qm(e){var t=ks(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Js(i,t.memoizedState)||(Kr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Y_(){}function Q_(e,t){var r=bt,s=ks(),a=t(),i=!Js(s.memoizedState,a);if(i&&(s.memoizedState=a,Kr=!0),s=s.queue,ix(X_.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,qc(9,J_.bind(null,r,s,a,t),void 0,null),Jt===null)throw Error(X(349));Vi&30||Z_(r,t,a)}return a}function Z_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J_(e,t,r,s){t.value=r,t.getSnapshot=s,e1(t)&&t1(e)}function X_(e,t,r){return r(function(){e1(t)&&t1(e)})}function e1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Js(e,r)}catch{return!0}}function t1(e){var t=Yn(e,1);t!==null&&Ys(t,e,1,-1)}function Mw(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:e},t.queue=e,e=e.dispatch=UR.bind(null,bt,e),[t.memoizedState,e]}function qc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function r1(){return ks().memoizedState}function Lu(e,t,r,s){var a=fn();bt.flags|=e,a.memoizedState=qc(1|t,r,void 0,s===void 0?null:s)}function vf(e,t,r,s){var a=ks();s=s===void 0?null:s;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,s!==null&&sx(s,o.deps)){a.memoizedState=qc(t,r,i,s);return}}bt.flags|=e,a.memoizedState=qc(1|t,r,i,s)}function Iw(e,t){return Lu(8390656,8,e,t)}function ix(e,t){return vf(2048,8,e,t)}function s1(e,t){return vf(4,2,e,t)}function n1(e,t){return vf(4,4,e,t)}function a1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i1(e,t,r){return r=r!=null?r.concat([e]):null,vf(4,4,a1.bind(null,t,e),r)}function ox(){}function o1(e,t){var r=ks();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&sx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function l1(e,t){var r=ks();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&sx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function c1(e,t,r){return Vi&21?(Js(r,t)||(r=m_(),bt.lanes|=r,Wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kr=!0),e.memoizedState=r)}function LR(e,t){var r=rt;rt=r!==0&&4>r?r:4,e(!0);var s=Vm.transition;Vm.transition={};try{e(!1),t()}finally{rt=r,Vm.transition=s}}function d1(){return ks().memoizedState}function $R(e,t,r){var s=$a(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},u1(e))h1(t,r);else if(r=H_(e,t,r,s),r!==null){var a=Er();Ys(r,e,s,a),f1(r,t,s)}}function UR(e,t,r){var s=$a(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(u1(e))h1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Js(l,o)){var c=t.interleaved;c===null?(a.next=a,Jv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=H_(e,t,a,s),r!==null&&(a=Er(),Ys(r,e,s,a),f1(r,t,s))}}function u1(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function h1(e,t){wc=jh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function f1(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Lv(e,r)}}var bh={readContext:Ss,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},BR={readContext:Ss,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Ss,useEffect:Iw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lu(4194308,4,a1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lu(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=fn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$R.bind(null,bt,e),[s.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Mw,useDebugValue:ox,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Mw(!1),t=e[0];return e=LR.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=bt,a=fn();if(xt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Jt===null)throw Error(X(349));Vi&30||Z_(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Iw(X_.bind(null,s,i,e),[e]),s.flags|=2048,qc(9,J_.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=fn(),t=Jt.identifierPrefix;if(xt){var r=qn,s=Wn;r=(s&~(1<<32-Gs(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zR={readContext:Ss,useCallback:o1,useContext:Ss,useEffect:ix,useImperativeHandle:i1,useInsertionEffect:s1,useLayoutEffect:n1,useMemo:l1,useReducer:Wm,useRef:r1,useState:function(){return Wm(Wc)},useDebugValue:ox,useDeferredValue:function(e){var t=ks();return c1(t,Kt.memoizedState,e)},useTransition:function(){var e=Wm(Wc)[0],t=ks().memoizedState;return[e,t]},useMutableSource:Y_,useSyncExternalStore:Q_,useId:d1,unstable_isNewReconciler:!1},VR={readContext:Ss,useCallback:o1,useContext:Ss,useEffect:ix,useImperativeHandle:i1,useInsertionEffect:s1,useLayoutEffect:n1,useMemo:l1,useReducer:qm,useRef:r1,useState:function(){return qm(Wc)},useDebugValue:ox,useDeferredValue:function(e){var t=ks();return Kt===null?t.memoizedState=e:c1(t,Kt.memoizedState,e)},useTransition:function(){var e=qm(Wc)[0],t=ks().memoizedState;return[e,t]},useMutableSource:Y_,useSyncExternalStore:Q_,useId:d1,unstable_isNewReconciler:!1};function Ls(e,t){if(e&&e.defaultProps){t=_t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function og(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:_t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={isMounted:function(e){return(e=e._reactInternals)?to(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Er(),a=$a(e),i=Hn(s,a);i.payload=t,r!=null&&(i.callback=r),t=Fa(e,i,a),t!==null&&(Ys(t,e,a,s),Iu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Er(),a=$a(e),i=Hn(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Fa(e,i,a),t!==null&&(Ys(t,e,a,s),Iu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Er(),s=$a(e),a=Hn(r,s);a.tag=2,t!=null&&(a.callback=t),t=Fa(e,a,s),t!==null&&(Ys(t,e,s,r),Iu(t,e,s))}};function Fw(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fc(r,s)||!Fc(a,i):!0}function m1(e,t,r){var s=!1,a=qa,i=t.contextType;return typeof i=="object"&&i!==null?i=Ss(i):(a=Qr(t)?Bi:yr.current,s=t.contextTypes,i=(s=s!=null)?nl(e,a):qa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lw(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function lg(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Xv(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ss(i):(i=Qr(t)?Bi:yr.current,a.context=nl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(og(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&xf.enqueueReplaceState(a,a.state,null),yh(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var r="",s=t;do r+=vA(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Hm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WR=typeof WeakMap=="function"?WeakMap:Map;function p1(e,t,r){r=Hn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Nh||(Nh=!0,yg=s),cg(e,t)},r}function g1(e,t,r){r=Hn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){cg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cg(e,t),typeof s!="function"&&(La===null?La=new Set([this]):La.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $w(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new WR;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=nO.bind(null,e,t,r),t.then(e,e))}function Uw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bw(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hn(-1,1),t.tag=2,Fa(r,t,1))),r.lanes|=1),e)}var qR=na.ReactCurrentOwner,Kr=!1;function _r(e,t,r,s){t.child=e===null?q_(t,null,r,s):il(t,e.child,r,s)}function zw(e,t,r,s,a){r=r.render;var i=t.ref;return Bo(t,a),s=nx(e,t,r,s,i,a),r=ax(),e!==null&&!Kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qn(e,t,a)):(xt&&r&&Hv(t),t.flags|=1,_r(e,t,s,a),t.child)}function Vw(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!px(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,v1(e,t,i,s,a)):(e=zu(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fc,r(o,s)&&e.ref===t.ref)return Qn(e,t,a)}return t.flags|=1,e=Ua(i,s),e.ref=t.ref,e.return=t,t.child=e}function v1(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Fc(i,s)&&e.ref===t.ref)if(Kr=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Kr=!0);else return t.lanes=e.lanes,Qn(e,t,a)}return dg(e,t,r,s,a)}function x1(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Io,ts),ts|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(Io,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,ct(Io,ts),ts|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,ct(Io,ts),ts|=s;return _r(e,t,a,r),t.child}function y1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dg(e,t,r,s,a){var i=Qr(r)?Bi:yr.current;return i=nl(t,i),Bo(t,a),r=nx(e,t,r,s,i,a),s=ax(),e!==null&&!Kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qn(e,t,a)):(xt&&s&&Hv(t),t.flags|=1,_r(e,t,r,a),t.child)}function Ww(e,t,r,s,a){if(Qr(r)){var i=!0;mh(t)}else i=!1;if(Bo(t,a),t.stateNode===null)$u(e,t),m1(t,r,s),lg(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ss(d):(d=Qr(r)?Bi:yr.current,d=nl(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Lw(t,o,s,d),xa=!1;var h=t.memoizedState;o.state=h,yh(t,s,o,a),c=t.memoizedState,l!==s||h!==c||Yr.current||xa?(typeof u=="function"&&(og(t,r,u,s),c=t.memoizedState),(l=xa||Fw(t,r,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,K_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ls(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ss(c):(c=Qr(r)?Bi:yr.current,c=nl(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Lw(t,o,s,c),xa=!1,h=t.memoizedState,o.state=h,yh(t,s,o,a);var g=t.memoizedState;l!==m||h!==g||Yr.current||xa?(typeof p=="function"&&(og(t,r,p,s),g=t.memoizedState),(d=xa||Fw(t,r,d,s,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return ug(e,t,r,s,i,a)}function ug(e,t,r,s,a,i){y1(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Pw(t,r,!1),Qn(e,t,i);s=t.stateNode,qR.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=il(t,e.child,null,i),t.child=il(t,null,l,i)):_r(e,t,l,i),t.memoizedState=s.state,a&&Pw(t,r,!0),t.child}function w1(e){var t=e.stateNode;t.pendingContext?Ew(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ew(e,t.context,!1),ex(e,t.containerInfo)}function qw(e,t,r,s,a){return al(),Gv(a),t.flags|=256,_r(e,t,r,s),t.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function j1(e,t,r){var s=t.pendingProps,a=jt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ct(jt,a&1),e===null)return ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jf(o,s,0,null),e=Ii(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fg(r),t.memoizedState=hg,e):lx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return HR(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ua(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ua(l,i):(i=Ii(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?fg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hg,s}return i=e.child,e=i.sibling,s=Ua(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function lx(e,t){return t=jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function au(e,t,r,s){return s!==null&&Gv(s),il(t,e.child,null,r),e=lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HR(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Hm(Error(X(422))),au(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=jf({mode:"visible",children:s.children},a,0,null),i=Ii(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&il(t,e.child,null,o),t.child.memoizedState=fg(o),t.memoizedState=hg,i);if(!(t.mode&1))return au(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(X(419)),s=Hm(i,s,void 0),au(e,t,o,s)}if(l=(o&e.childLanes)!==0,Kr||l){if(s=Jt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Yn(e,a),Ys(s,e,a,-1))}return mx(),s=Hm(Error(X(421))),au(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=aO.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,as=Ia(a.nextSibling),is=t,xt=!0,qs=null,e!==null&&(xs[ys++]=Wn,xs[ys++]=qn,xs[ys++]=zi,Wn=e.id,qn=e.overflow,zi=t),t=lx(t,s.children),t.flags|=4096,t)}function Hw(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ig(e.return,t,r)}function Km(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function b1(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(_r(e,t,s.children,r),s=jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hw(e,r,t);else if(e.tag===19)Hw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ct(jt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&wh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Km(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Km(t,!0,r,null,i);break;case"together":Km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $u(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Ua(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ua(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KR(e,t,r){switch(t.tag){case 3:w1(t),al();break;case 5:G_(t);break;case 1:Qr(t.type)&&mh(t);break;case 4:ex(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ct(vh,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ct(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?j1(e,t,r):(ct(jt,jt.current&1),e=Qn(e,t,r),e!==null?e.sibling:null);ct(jt,jt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return b1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ct(jt,jt.current),s)break;return null;case 22:case 23:return t.lanes=0,x1(e,t,r)}return Qn(e,t,r)}var _1,mg,N1,S1;_1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mg=function(){};N1=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ki(Nn.current);var i=null;switch(r){case"input":a=Ip(e,a),s=Ip(e,s),i=[];break;case"select":a=_t({},a,{value:void 0}),s=_t({},s,{value:void 0}),i=[];break;case"textarea":a=$p(e,a),s=$p(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hh)}Bp(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Tc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ft("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};S1=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ql(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function fr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function GR(e,t,r){var s=t.pendingProps;switch(Kv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(t),null;case 1:return Qr(t.type)&&fh(),fr(t),null;case 3:return s=t.stateNode,ol(),mt(Yr),mt(yr),rx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qs!==null&&(bg(qs),qs=null))),mg(e,t),fr(t),null;case 5:tx(t);var a=ki(zc.current);if(r=t.type,e!==null&&t.stateNode!=null)N1(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(X(166));return fr(t),null}if(e=ki(Nn.current),su(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[xn]=t,s[Uc]=i,e=(t.mode&1)!==0,r){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(a=0;a<oc.length;a++)ft(oc[a],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":tw(s,i),ft("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ft("invalid",s);break;case"textarea":sw(s,i),ft("invalid",s)}Bp(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ru(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ru(s.textContent,l,e),a=["children",""+l]):Tc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ft("scroll",s)}switch(r){case"input":Gd(s),rw(s,i,!0);break;case"textarea":Gd(s),nw(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hh)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[xn]=t,e[Uc]=s,_1(e,t,!1,!1),t.stateNode=e;e:{switch(o=zp(r,s),r){case"dialog":ft("cancel",e),ft("close",e),a=s;break;case"iframe":case"object":case"embed":ft("load",e),a=s;break;case"video":case"audio":for(a=0;a<oc.length;a++)ft(oc[a],e);a=s;break;case"source":ft("error",e),a=s;break;case"img":case"image":case"link":ft("error",e),ft("load",e),a=s;break;case"details":ft("toggle",e),a=s;break;case"input":tw(e,s),a=Ip(e,s),ft("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=_t({},s,{value:void 0}),ft("invalid",e);break;case"textarea":sw(e,s),a=$p(e,s),ft("invalid",e);break;default:a=s}Bp(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?r_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&e_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ac(e,c):typeof c=="number"&&Ac(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ft("scroll",e):c!=null&&Rv(e,i,c,o))}switch(r){case"input":Gd(e),rw(e,s,!1);break;case"textarea":Gd(e),nw(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Wa(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Fo(e,!!s.multiple,i,!1):s.defaultValue!=null&&Fo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=hh)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fr(t),null;case 6:if(e&&t.stateNode!=null)S1(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(X(166));if(r=ki(zc.current),ki(Nn.current),su(t)){if(s=t.stateNode,r=t.memoizedProps,s[xn]=t,(i=s.nodeValue!==r)&&(e=is,e!==null))switch(e.tag){case 3:ru(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ru(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[xn]=t,t.stateNode=s}return fr(t),null;case 13:if(mt(jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&as!==null&&t.mode&1&&!(t.flags&128))V_(),al(),t.flags|=98560,i=!1;else if(i=su(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[xn]=t}else al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fr(t),i=!1}else qs!==null&&(bg(qs),qs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Gt===0&&(Gt=3):mx())),t.updateQueue!==null&&(t.flags|=4),fr(t),null);case 4:return ol(),mg(e,t),e===null&&Lc(t.stateNode.containerInfo),fr(t),null;case 10:return Zv(t.type._context),fr(t),null;case 17:return Qr(t.type)&&fh(),fr(t),null;case 19:if(mt(jt),i=t.memoizedState,i===null)return fr(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ql(i,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wh(e),o!==null){for(t.flags|=128,Ql(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ct(jt,jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>cl&&(t.flags|=128,s=!0,Ql(i,!1),t.lanes=4194304)}else{if(!s)if(e=wh(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xt)return fr(t),null}else 2*Tt()-i.renderingStartTime>cl&&r!==1073741824&&(t.flags|=128,s=!0,Ql(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,r=jt.current,ct(jt,s?r&1|2:r&1),t):(fr(t),null);case 22:case 23:return fx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ts&1073741824&&(fr(t),t.subtreeFlags&6&&(t.flags|=8192)):fr(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function YR(e,t){switch(Kv(t),t.tag){case 1:return Qr(t.type)&&fh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),mt(Yr),mt(yr),rx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tx(t),null;case 13:if(mt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(jt),null;case 4:return ol(),null;case 10:return Zv(t.type._context),null;case 22:case 23:return fx(),null;case 24:return null;default:return null}}var iu=!1,gr=!1,QR=typeof WeakSet=="function"?WeakSet:Set,me=null;function Mo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){kt(e,t,s)}else r.current=null}function pg(e,t,r){try{r()}catch(s){kt(e,t,s)}}var Kw=!1;function ZR(e,t){if(Jp=ch,e=T_(),qv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xp={focusedElem:e,selectionRange:r},ch=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ls(t.type,v),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){kt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return g=Kw,Kw=!1,g}function jc(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&pg(t,r,i)}a=a.next}while(a!==s)}}function yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function gg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k1(e){var t=e.alternate;t!==null&&(e.alternate=null,k1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Uc],delete t[rg],delete t[OR],delete t[DR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C1(e){return e.tag===5||e.tag===3||e.tag===4}function Gw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vg(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hh));else if(s!==4&&(e=e.child,e!==null))for(vg(e,t,r),e=e.sibling;e!==null;)vg(e,t,r),e=e.sibling}function xg(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var sr=null,Vs=!1;function ua(e,t,r){for(r=r.child;r!==null;)E1(e,t,r),r=r.sibling}function E1(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(uf,r)}catch{}switch(r.tag){case 5:gr||Mo(r,t);case 6:var s=sr,a=Vs;sr=null,ua(e,t,r),sr=s,Vs=a,sr!==null&&(Vs?(e=sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):sr.removeChild(r.stateNode));break;case 18:sr!==null&&(Vs?(e=sr,r=r.stateNode,e.nodeType===8?Um(e.parentNode,r):e.nodeType===1&&Um(e,r),Mc(e)):Um(sr,r.stateNode));break;case 4:s=sr,a=Vs,sr=r.stateNode.containerInfo,Vs=!0,ua(e,t,r),sr=s,Vs=a;break;case 0:case 11:case 14:case 15:if(!gr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pg(r,t,o),a=a.next}while(a!==s)}ua(e,t,r);break;case 1:if(!gr&&(Mo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){kt(r,t,l)}ua(e,t,r);break;case 21:ua(e,t,r);break;case 22:r.mode&1?(gr=(s=gr)||r.memoizedState!==null,ua(e,t,r),gr=s):ua(e,t,r);break;default:ua(e,t,r)}}function Yw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QR),t.forEach(function(s){var a=iO.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Ds(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:sr=l.stateNode,Vs=!1;break e;case 3:sr=l.stateNode.containerInfo,Vs=!0;break e;case 4:sr=l.stateNode.containerInfo,Vs=!0;break e}l=l.return}if(sr===null)throw Error(X(160));E1(i,o,a),sr=null,Vs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){kt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P1(t,e),t=t.sibling}function P1(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ds(t,e),hn(e),s&4){try{jc(3,e,e.return),yf(3,e)}catch(v){kt(e,e.return,v)}try{jc(5,e,e.return)}catch(v){kt(e,e.return,v)}}break;case 1:Ds(t,e),hn(e),s&512&&r!==null&&Mo(r,r.return);break;case 5:if(Ds(t,e),hn(e),s&512&&r!==null&&Mo(r,r.return),e.flags&32){var a=e.stateNode;try{Ac(a,"")}catch(v){kt(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zb(a,i),zp(l,o);var d=zp(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?r_(a,m):u==="dangerouslySetInnerHTML"?e_(a,m):u==="children"?Ac(a,m):Rv(a,u,m,d)}switch(l){case"input":Fp(a,i);break;case"textarea":Jb(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fo(a,!!i.multiple,i.defaultValue,!0):Fo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Uc]=i}catch(v){kt(e,e.return,v)}}break;case 6:if(Ds(t,e),hn(e),s&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){kt(e,e.return,v)}}break;case 3:if(Ds(t,e),hn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Mc(t.containerInfo)}catch(v){kt(e,e.return,v)}break;case 4:Ds(t,e),hn(e);break;case 13:Ds(t,e),hn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ux=Tt())),s&4&&Yw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(gr=(d=gr)||u,Ds(t,e),gr=d):Ds(t,e),hn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(m=me=u;me!==null;){switch(h=me,p=h.child,h.tag){case 0:case 11:case 14:case 15:jc(4,h,h.return);break;case 1:Mo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){kt(s,r,v)}}break;case 5:Mo(h,h.return);break;case 22:if(h.memoizedState!==null){Zw(m);continue}}p!==null?(p.return=h,me=p):Zw(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=t_("display",o))}catch(v){kt(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){kt(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ds(t,e),hn(e),s&4&&Yw(e);break;case 21:break;default:Ds(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(C1(r)){var s=r;break e}r=r.return}throw Error(X(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ac(a,""),s.flags&=-33);var i=Gw(e);xg(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Gw(e);vg(e,l,o);break;default:throw Error(X(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JR(e,t,r){me=e,T1(e)}function T1(e,t,r){for(var s=(e.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||iu;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||gr;l=iu;var d=gr;if(iu=o,(gr=c)&&!d)for(me=a;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?Jw(a):c!==null?(c.return=o,me=c):Jw(a);for(;i!==null;)me=i,T1(i),i=i.sibling;me=a,iu=l,gr=d}Qw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):Qw(e)}}function Qw(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||yf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!gr)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ls(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dw(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Mc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}gr||t.flags&512&&gg(t)}catch(h){kt(t,t.return,h)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Zw(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function Jw(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yf(4,t)}catch(c){kt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){kt(t,a,c)}}var i=t.return;try{gg(t)}catch(c){kt(t,i,c)}break;case 5:var o=t.return;try{gg(t)}catch(c){kt(t,o,c)}}}catch(c){kt(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var XR=Math.ceil,_h=na.ReactCurrentDispatcher,cx=na.ReactCurrentOwner,bs=na.ReactCurrentBatchConfig,Ke=0,Jt=null,Vt=null,lr=0,ts=0,Io=Xa(0),Gt=0,Hc=null,Wi=0,wf=0,dx=0,bc=null,qr=null,ux=0,cl=1/0,Un=null,Nh=!1,yg=null,La=null,ou=!1,Ta=null,Sh=0,_c=0,wg=null,Uu=-1,Bu=0;function Er(){return Ke&6?Tt():Uu!==-1?Uu:Uu=Tt()}function $a(e){return e.mode&1?Ke&2&&lr!==0?lr&-lr:IR.transition!==null?(Bu===0&&(Bu=m_()),Bu):(e=rt,e!==0||(e=window.event,e=e===void 0?16:j_(e.type)),e):1}function Ys(e,t,r,s){if(50<_c)throw _c=0,wg=null,Error(X(185));dd(e,r,s),(!(Ke&2)||e!==Jt)&&(e===Jt&&(!(Ke&2)&&(wf|=r),Gt===4&&ja(e,lr)),Zr(e,s),r===1&&Ke===0&&!(t.mode&1)&&(cl=Tt()+500,gf&&ei()))}function Zr(e,t){var r=e.callbackNode;IA(e,t);var s=lh(e,e===Jt?lr:0);if(s===0)r!==null&&ow(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ow(r),t===1)e.tag===0?MR(Xw.bind(null,e)):U_(Xw.bind(null,e)),AR(function(){!(Ke&6)&&ei()}),r=null;else{switch(p_(s)){case 1:r=Fv;break;case 4:r=h_;break;case 16:r=oh;break;case 536870912:r=f_;break;default:r=oh}r=L1(r,A1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function A1(e,t){if(Uu=-1,Bu=0,Ke&6)throw Error(X(327));var r=e.callbackNode;if(zo()&&e.callbackNode!==r)return null;var s=lh(e,e===Jt?lr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=kh(e,s);else{t=s;var a=Ke;Ke|=2;var i=O1();(Jt!==e||lr!==t)&&(Un=null,cl=Tt()+500,Mi(e,t));do try{rO();break}catch(l){R1(e,l)}while(!0);Qv(),_h.current=i,Ke=a,Vt!==null?t=0:(Jt=null,lr=0,t=Gt)}if(t!==0){if(t===2&&(a=Kp(e),a!==0&&(s=a,t=jg(e,a))),t===1)throw r=Hc,Mi(e,0),ja(e,s),Zr(e,Tt()),r;if(t===6)ja(e,s);else{if(a=e.current.alternate,!(s&30)&&!eO(a)&&(t=kh(e,s),t===2&&(i=Kp(e),i!==0&&(s=i,t=jg(e,i))),t===1))throw r=Hc,Mi(e,0),ja(e,s),Zr(e,Tt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(X(345));case 2:vi(e,qr,Un);break;case 3:if(ja(e,s),(s&130023424)===s&&(t=ux+500-Tt(),10<t)){if(lh(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Er(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tg(vi.bind(null,e,qr,Un),t);break}vi(e,qr,Un);break;case 4:if(ja(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Gs(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Tt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*XR(s/1960))-s,10<s){e.timeoutHandle=tg(vi.bind(null,e,qr,Un),s);break}vi(e,qr,Un);break;case 5:vi(e,qr,Un);break;default:throw Error(X(329))}}}return Zr(e,Tt()),e.callbackNode===r?A1.bind(null,e):null}function jg(e,t){var r=bc;return e.current.memoizedState.isDehydrated&&(Mi(e,t).flags|=256),e=kh(e,t),e!==2&&(t=qr,qr=r,t!==null&&bg(t)),e}function bg(e){qr===null?qr=e:qr.push.apply(qr,e)}function eO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Js(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ja(e,t){for(t&=~dx,t&=~wf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gs(t),s=1<<r;e[r]=-1,t&=~s}}function Xw(e){if(Ke&6)throw Error(X(327));zo();var t=lh(e,0);if(!(t&1))return Zr(e,Tt()),null;var r=kh(e,t);if(e.tag!==0&&r===2){var s=Kp(e);s!==0&&(t=s,r=jg(e,s))}if(r===1)throw r=Hc,Mi(e,0),ja(e,t),Zr(e,Tt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vi(e,qr,Un),Zr(e,Tt()),null}function hx(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(cl=Tt()+500,gf&&ei())}}function qi(e){Ta!==null&&Ta.tag===0&&!(Ke&6)&&zo();var t=Ke;Ke|=1;var r=bs.transition,s=rt;try{if(bs.transition=null,rt=1,e)return e()}finally{rt=s,bs.transition=r,Ke=t,!(Ke&6)&&ei()}}function fx(){ts=Io.current,mt(Io)}function Mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,TR(r)),Vt!==null)for(r=Vt.return;r!==null;){var s=r;switch(Kv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fh();break;case 3:ol(),mt(Yr),mt(yr),rx();break;case 5:tx(s);break;case 4:ol();break;case 13:mt(jt);break;case 19:mt(jt);break;case 10:Zv(s.type._context);break;case 22:case 23:fx()}r=r.return}if(Jt=e,Vt=e=Ua(e.current,null),lr=ts=t,Gt=0,Hc=null,dx=wf=Wi=0,qr=bc=null,Si!==null){for(t=0;t<Si.length;t++)if(r=Si[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Si=null}return e}function R1(e,t){do{var r=Vt;try{if(Qv(),Fu.current=bh,jh){for(var s=bt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}jh=!1}if(Vi=0,Zt=Kt=bt=null,wc=!1,Vc=0,cx.current=null,r===null||r.return===null){Gt=1,Hc=t,Vt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=lr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Uw(o);if(p!==null){p.flags&=-257,Bw(p,o,l,i,t),p.mode&1&&$w(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){$w(i,d,t),mx();break e}c=Error(X(426))}}else if(xt&&l.mode&1){var y=Uw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Bw(y,o,l,i,t),Gv(ll(c,l));break e}}i=c=ll(c,l),Gt!==4&&(Gt=2),bc===null?bc=[i]:bc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=p1(i,c,t);Ow(i,w);break e;case 1:l=c;var x=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(La===null||!La.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=g1(i,l,t);Ow(i,_);break e}}i=i.return}while(i!==null)}M1(r)}catch(S){t=S,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function O1(){var e=_h.current;return _h.current=bh,e===null?bh:e}function mx(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Jt===null||!(Wi&268435455)&&!(wf&268435455)||ja(Jt,lr)}function kh(e,t){var r=Ke;Ke|=2;var s=O1();(Jt!==e||lr!==t)&&(Un=null,Mi(e,t));do try{tO();break}catch(a){R1(e,a)}while(!0);if(Qv(),Ke=r,_h.current=s,Vt!==null)throw Error(X(261));return Jt=null,lr=0,Gt}function tO(){for(;Vt!==null;)D1(Vt)}function rO(){for(;Vt!==null&&!CA();)D1(Vt)}function D1(e){var t=F1(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?M1(e):Vt=t,cx.current=null}function M1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=YR(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Vt=null;return}}else if(r=GR(r,t,ts),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Gt===0&&(Gt=5)}function vi(e,t,r){var s=rt,a=bs.transition;try{bs.transition=null,rt=1,sO(e,t,r,s)}finally{bs.transition=a,rt=s}return null}function sO(e,t,r,s){do zo();while(Ta!==null);if(Ke&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(FA(e,i),e===Jt&&(Vt=Jt=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ou||(ou=!0,L1(oh,function(){return zo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=bs.transition,bs.transition=null;var o=rt;rt=1;var l=Ke;Ke|=4,cx.current=null,ZR(e,r),P1(r,e),_R(Xp),ch=!!Jp,Xp=Jp=null,e.current=r,JR(r),EA(),Ke=l,rt=o,bs.transition=i}else e.current=r;if(ou&&(ou=!1,Ta=e,Sh=a),i=e.pendingLanes,i===0&&(La=null),AA(r.stateNode),Zr(e,Tt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Nh)throw Nh=!1,e=yg,yg=null,e;return Sh&1&&e.tag!==0&&zo(),i=e.pendingLanes,i&1?e===wg?_c++:(_c=0,wg=e):_c=0,ei(),null}function zo(){if(Ta!==null){var e=p_(Sh),t=bs.transition,r=rt;try{if(bs.transition=null,rt=16>e?16:e,Ta===null)var s=!1;else{if(e=Ta,Ta=null,Sh=0,Ke&6)throw Error(X(331));var a=Ke;for(Ke|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(me=d;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:jc(8,u,i)}var m=u.child;if(m!==null)m.return=u,me=m;else for(;me!==null;){u=me;var h=u.sibling,p=u.return;if(k1(u),u===d){me=null;break}if(h!==null){h.return=p,me=h;break}me=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,me=w;break e}me=i.return}}var x=e.current;for(me=x;me!==null;){o=me;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,me=j;else e:for(o=x;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yf(9,l)}}catch(S){kt(l,l.return,S)}if(l===o){me=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,me=_;break e}me=l.return}}if(Ke=a,ei(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(uf,e)}catch{}s=!0}return s}finally{rt=r,bs.transition=t}}return!1}function e0(e,t,r){t=ll(r,t),t=p1(e,t,1),e=Fa(e,t,1),t=Er(),e!==null&&(dd(e,1,t),Zr(e,t))}function kt(e,t,r){if(e.tag===3)e0(e,e,r);else for(;t!==null;){if(t.tag===3){e0(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(La===null||!La.has(s))){e=ll(r,e),e=g1(t,e,1),t=Fa(t,e,1),e=Er(),t!==null&&(dd(t,1,e),Zr(t,e));break}}t=t.return}}function nO(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Er(),e.pingedLanes|=e.suspendedLanes&r,Jt===e&&(lr&r)===r&&(Gt===4||Gt===3&&(lr&130023424)===lr&&500>Tt()-ux?Mi(e,0):dx|=r),Zr(e,t)}function I1(e,t){t===0&&(e.mode&1?(t=Zd,Zd<<=1,!(Zd&130023424)&&(Zd=4194304)):t=1);var r=Er();e=Yn(e,t),e!==null&&(dd(e,t,r),Zr(e,r))}function aO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),I1(e,r)}function iO(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(X(314))}s!==null&&s.delete(t),I1(e,r)}var F1;F1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yr.current)Kr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kr=!1,KR(e,t,r);Kr=!!(e.flags&131072)}else Kr=!1,xt&&t.flags&1048576&&B_(t,gh,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;$u(e,t),e=t.pendingProps;var a=nl(t,yr.current);Bo(t,r),a=nx(null,t,s,e,a,r);var i=ax();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(s)?(i=!0,mh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xv(t),a.updater=xf,t.stateNode=a,a._reactInternals=t,lg(t,s,e,r),t=ug(null,t,s,!0,i,r)):(t.tag=0,xt&&i&&Hv(t),_r(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch($u(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=lO(s),e=Ls(s,e),a){case 0:t=dg(null,t,s,e,r);break e;case 1:t=Ww(null,t,s,e,r);break e;case 11:t=zw(null,t,s,e,r);break e;case 14:t=Vw(null,t,s,Ls(s.type,e),r);break e}throw Error(X(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ls(s,a),dg(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ls(s,a),Ww(e,t,s,a,r);case 3:e:{if(w1(t),e===null)throw Error(X(387));s=t.pendingProps,i=t.memoizedState,a=i.element,K_(e,t),yh(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ll(Error(X(423)),t),t=qw(e,t,s,r,a);break e}else if(s!==a){a=ll(Error(X(424)),t),t=qw(e,t,s,r,a);break e}else for(as=Ia(t.stateNode.containerInfo.firstChild),is=t,xt=!0,qs=null,r=q_(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(al(),s===a){t=Qn(e,t,r);break e}_r(e,t,s,r)}t=t.child}return t;case 5:return G_(t),e===null&&ag(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,eg(s,a)?o=null:i!==null&&eg(s,i)&&(t.flags|=32),y1(e,t),_r(e,t,o,r),t.child;case 6:return e===null&&ag(t),null;case 13:return j1(e,t,r);case 4:return ex(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=il(t,null,s,r):_r(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ls(s,a),zw(e,t,s,a,r);case 7:return _r(e,t,t.pendingProps,r),t.child;case 8:return _r(e,t,t.pendingProps.children,r),t.child;case 12:return _r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ct(vh,s._currentValue),s._currentValue=o,i!==null)if(Js(i.value,o)){if(i.children===a.children&&!Yr.current){t=Qn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Hn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ig(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ig(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_r(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Bo(t,r),a=Ss(a),s=s(a),t.flags|=1,_r(e,t,s,r),t.child;case 14:return s=t.type,a=Ls(s,t.pendingProps),a=Ls(s.type,a),Vw(e,t,s,a,r);case 15:return v1(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ls(s,a),$u(e,t),t.tag=1,Qr(s)?(e=!0,mh(t)):e=!1,Bo(t,r),m1(t,s,a),lg(t,s,a,r),ug(null,t,s,!0,e,r);case 19:return b1(e,t,r);case 22:return x1(e,t,r)}throw Error(X(156,t.tag))};function L1(e,t){return u_(e,t)}function oO(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,r,s){return new oO(e,t,r,s)}function px(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lO(e){if(typeof e=="function")return px(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dv)return 11;if(e===Mv)return 14}return 2}function Ua(e,t){var r=e.alternate;return r===null?(r=js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zu(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")px(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ko:return Ii(r.children,a,i,t);case Ov:o=8,a|=8;break;case Rp:return e=js(12,r,t,a|2),e.elementType=Rp,e.lanes=i,e;case Op:return e=js(13,r,t,a),e.elementType=Op,e.lanes=i,e;case Dp:return e=js(19,r,t,a),e.elementType=Dp,e.lanes=i,e;case Gb:return jf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hb:o=10;break e;case Kb:o=9;break e;case Dv:o=11;break e;case Mv:o=14;break e;case va:o=16,s=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=js(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Ii(e,t,r,s){return e=js(7,e,s,t),e.lanes=r,e}function jf(e,t,r,s){return e=js(22,e,s,t),e.elementType=Gb,e.lanes=r,e.stateNode={isHidden:!1},e}function Gm(e,t,r){return e=js(6,e,null,t),e.lanes=r,e}function Ym(e,t,r){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cO(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gx(e,t,r,s,a,i,o,l,c){return e=new cO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(i),e}function dO(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function $1(e){if(!e)return qa;e=e._reactInternals;e:{if(to(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Qr(r))return $_(e,r,t)}return t}function U1(e,t,r,s,a,i,o,l,c){return e=gx(r,s,!0,e,a,i,o,l,c),e.context=$1(null),r=e.current,s=Er(),a=$a(r),i=Hn(s,a),i.callback=t??null,Fa(r,i,a),e.current.lanes=a,dd(e,a,s),Zr(e,s),e}function bf(e,t,r,s){var a=t.current,i=Er(),o=$a(a);return r=$1(r),t.context===null?t.context=r:t.pendingContext=r,t=Hn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Fa(a,t,o),e!==null&&(Ys(e,a,o,i),Iu(e,a,o)),o}function Ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vx(e,t){t0(e,t),(e=e.alternate)&&t0(e,t)}function uO(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function xx(e){this._internalRoot=e}_f.prototype.render=xx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));bf(e,t,null,null)};_f.prototype.unmount=xx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qi(function(){bf(null,e,null,null)}),t[Gn]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=x_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wa.length&&t!==0&&t<wa[r].priority;r++);wa.splice(r,0,e),r===0&&w_(e)}};function yx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r0(){}function hO(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Ch(o);i.call(d)}}var o=U1(t,s,e,0,null,!1,!1,"",r0);return e._reactRootContainer=o,e[Gn]=o.current,Lc(e.nodeType===8?e.parentNode:e),qi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Ch(c);l.call(d)}}var c=gx(e,0,!1,null,null,!1,!1,"",r0);return e._reactRootContainer=c,e[Gn]=c.current,Lc(e.nodeType===8?e.parentNode:e),qi(function(){bf(t,c,r,s)}),c}function Sf(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ch(o);l.call(c)}}bf(t,o,e,a)}else o=hO(r,t,e,a,s);return Ch(o)}g_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ic(t.pendingLanes);r!==0&&(Lv(t,r|1),Zr(t,Tt()),!(Ke&6)&&(cl=Tt()+500,ei()))}break;case 13:qi(function(){var s=Yn(e,1);if(s!==null){var a=Er();Ys(s,e,1,a)}}),vx(e,1)}};$v=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var r=Er();Ys(t,e,134217728,r)}vx(e,134217728)}};v_=function(e){if(e.tag===13){var t=$a(e),r=Yn(e,t);if(r!==null){var s=Er();Ys(r,e,t,s)}vx(e,t)}};x_=function(){return rt};y_=function(e,t){var r=rt;try{return rt=e,t()}finally{rt=r}};Wp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=pf(s);if(!a)throw Error(X(90));Qb(s),Fp(s,a)}}}break;case"textarea":Jb(e,r);break;case"select":t=r.value,t!=null&&Fo(e,!!r.multiple,t,!1)}};a_=hx;i_=qi;var fO={usingClientEntryPoint:!1,Events:[hd,To,pf,s_,n_,hx]},Zl={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mO={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c_(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||uO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{uf=lu.inject(mO),_n=lu}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fO;hs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yx(t))throw Error(X(200));return dO(e,t,null,r)};hs.createRoot=function(e,t){if(!yx(e))throw Error(X(299));var r=!1,s="",a=B1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gx(e,1,!1,null,null,r,!1,s,a),e[Gn]=t.current,Lc(e.nodeType===8?e.parentNode:e),new xx(t)};hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=c_(t),e=e===null?null:e.stateNode,e};hs.flushSync=function(e){return qi(e)};hs.hydrate=function(e,t,r){if(!Nf(t))throw Error(X(200));return Sf(null,e,t,!0,r)};hs.hydrateRoot=function(e,t,r){if(!yx(e))throw Error(X(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=B1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=U1(t,null,e,1,r??null,a,!1,i,o),e[Gn]=t.current,Lc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new _f(t)};hs.render=function(e,t,r){if(!Nf(t))throw Error(X(200));return Sf(null,e,t,!1,r)};hs.unmountComponentAtNode=function(e){if(!Nf(e))throw Error(X(40));return e._reactRootContainer?(qi(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};hs.unstable_batchedUpdates=hx;hs.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Nf(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Sf(e,t,r,!1,s)};hs.version="18.3.1-next-f1338f8080-20240426";function z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z1)}catch(e){console.error(e)}}z1(),zb.exports=hs;var ro=zb.exports;const V1=Nv(ro);var W1,s0=ro;W1=s0.createRoot,s0.hydrateRoot;const pO=1,gO=1e6;let Qm=0;function vO(){return Qm=(Qm+1)%Number.MAX_SAFE_INTEGER,Qm.toString()}const Zm=new Map,n0=e=>{if(Zm.has(e))return;const t=setTimeout(()=>{Zm.delete(e),Nc({type:"REMOVE_TOAST",toastId:e})},gO);Zm.set(e,t)},xO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?n0(r):e.toasts.forEach(s=>{n0(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vu=[];let Wu={toasts:[]};function Nc(e){Wu=xO(Wu,e),Vu.forEach(t=>{t(Wu)})}function qu({...e}){const t=vO(),r=a=>Nc({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Nc({type:"DISMISS_TOAST",toastId:t});return Nc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function q1(){const[e,t]=f.useState(Wu);return f.useEffect(()=>(Vu.push(t),()=>{const r=Vu.indexOf(t);r>-1&&Vu.splice(r,1)}),[e]),{...e,toast:qu,dismiss:r=>Nc({type:"DISMISS_TOAST",toastId:r})}}function ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function a0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kf(...e){return t=>{let r=!1;const s=e.map(a=>{const i=a0(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():a0(e[a],null)}}}}function Ee(...e){return f.useCallback(kf(...e),e)}function yO(e,t){const r=f.createContext(t),s=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function wr(e,t=[]){let r=[];function s(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=m=>{var w;const{scope:h,children:p,...g}=m,v=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return n.jsx(v.Provider,{value:y,children:p})};d.displayName=i+"Provider";function u(m,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=f.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,wO(a,...t)]}function wO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ha(e){const t=jO(e),r=f.forwardRef((s,a)=>{const{children:i,...o}=s,l=f.Children.toArray(i),c=l.find(bO);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var H1=Ha("Slot");function jO(e){const t=f.forwardRef((r,s)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=NO(a),l=_O(i,a.props);return a.type!==f.Fragment&&(l.ref=s?kf(s,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K1=Symbol("radix.slottable");function G1(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=K1,t}function bO(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K1}function _O(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function NO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cf(e){const t=e+"CollectionProvider",[r,s]=wr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:w}=v,x=q.useRef(null),j=q.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:j,collectionRef:x,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=Ha(l),d=q.forwardRef((v,y)=>{const{scope:w,children:x}=v,j=i(l,w),_=Ee(y,j.collectionRef);return n.jsx(c,{ref:_,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=Ha(u),p=q.forwardRef((v,y)=>{const{scope:w,children:x,...j}=v,_=q.useRef(null),S=Ee(y,_),N=i(u,w);return q.useEffect(()=>(N.itemMap.set(_,{ref:_,...j}),()=>void N.itemMap.delete(_))),n.jsx(h,{[m]:"",ref:S,children:x})});p.displayName=u;function g(v){const y=i(e+"CollectionConsumer",v);return q.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((N,k)=>j.indexOf(N.ref.current)-j.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,s]}var SO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=SO.reduce((e,t)=>{const r=Ha(`Primitive.${t}`),s=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function wx(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function Ct(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function kO(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e);f.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var CO="DismissableLayer",_g="dismissableLayer.update",EO="dismissableLayer.pointerDownOutside",PO="dismissableLayer.focusOutside",i0,Y1=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),so=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(Y1),[u,m]=f.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),g=Ee(t,k=>m(k)),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),x=u?v.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=AO(k=>{const b=k.target,C=[...d.branches].some(I=>I.contains(b));!_||C||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),N=RO(k=>{const b=k.target;[...d.branches].some(I=>I.contains(b))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return kO(k=>{x===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(i0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),o0(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=i0)}},[u,h,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),o0())},[u,d]),f.useEffect(()=>{const k=()=>p({});return document.addEventListener(_g,k),()=>document.removeEventListener(_g,k)},[]),n.jsx(ye.div,{...c,ref:g,style:{pointerEvents:j?_?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});so.displayName=CO;var TO="DismissableLayerBranch",Q1=f.forwardRef((e,t)=>{const r=f.useContext(Y1),s=f.useRef(null),a=Ee(t,s);return f.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ye.div,{...e,ref:a})});Q1.displayName=TO;function AO(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),s=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Z1(EO,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function RO(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),s=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!s.current&&Z1(PO,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o0(){const e=new CustomEvent(_g);document.dispatchEvent(e)}function Z1(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?wx(a,i):a.dispatchEvent(i)}var OO=so,DO=Q1,Mt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},MO="Portal",Al=f.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=f.useState(!1);Mt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?V1.createPortal(n.jsx(ye.div,{...s,ref:t}),o):null});Al.displayName=MO;function IO(e,t){return f.useReducer((r,s)=>t[r][s]??r,e)}var Xt=e=>{const{present:t,children:r}=e,s=FO(t),a=typeof r=="function"?r({present:s.isPresent}):f.Children.only(r),i=Ee(s.ref,LO(a));return typeof r=="function"||s.isPresent?f.cloneElement(a,{ref:i}):null};Xt.displayName="Presence";function FO(e){const[t,r]=f.useState(),s=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=IO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=cu(s.current);i.current=l==="mounted"?d:"none"},[l]),Mt(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,p=cu(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Mt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=p=>{const v=cu(s.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=cu(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function cu(e){return(e==null?void 0:e.animationName)||"none"}function LO(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $O=Pv[" useInsertionEffect ".trim().toString()]||Mt;function Pn({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=UO({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=f.useCallback(u=>{var m;if(l){const h=BO(u)?u(e):u;h!==e&&((m=o.current)==null||m.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function UO({defaultProp:e,onChange:t}){const[r,s]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return $O(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function BO(e){return typeof e=="function"}var J1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zO="VisuallyHidden",Ef=f.forwardRef((e,t)=>n.jsx(ye.span,{...e,ref:t,style:{...J1,...e.style}}));Ef.displayName=zO;var VO=Ef,jx="ToastProvider",[bx,WO,qO]=Cf("Toast"),[X1,zW]=wr("Toast",[qO]),[HO,Pf]=X1(jx),eN=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),m=f.useRef(!1),h=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jx}\`. Expected non-empty \`string\`.`),n.jsx(bx.Provider,{scope:t,children:n.jsx(HO,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};eN.displayName=jx;var tN="ToastViewport",KO=["F8"],Ng="toast.viewportPause",Sg="toast.viewportResume",rN=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=KO,label:a="Notifications ({hotkey})",...i}=e,o=Pf(tN,r),l=WO(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),m=f.useRef(null),h=Ee(t,m,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;f.useEffect(()=>{const y=w=>{var j;s.length!==0&&s.every(_=>w[_]||w.code===_)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),f.useEffect(()=>{const y=c.current,w=m.current;if(g&&y&&w){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Ng);w.dispatchEvent(N),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Sg);w.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!y.contains(N.relatedTarget)&&j()},S=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",x),y.addEventListener("focusout",_),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:y})=>{const x=l().map(j=>{const _=j.ref.current,S=[_,...i4(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const y=m.current;if(y){const w=x=>{var S,N,k;const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const b=document.activeElement,C=x.shiftKey;if(x.target===y&&C){(S=d.current)==null||S.focus();return}const L=v({tabbingDirection:C?"backwards":"forwards"}),Z=L.findIndex(z=>z===b);Jm(L.slice(Z+1))?x.preventDefault():C?(N=d.current)==null||N.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,v]),n.jsxs(DO,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&n.jsx(kg,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Jm(y)}}),n.jsx(bx.Slot,{scope:r,children:n.jsx(ye.ol,{tabIndex:-1,...i,ref:h})}),g&&n.jsx(kg,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Jm(y)}})]})});rN.displayName=tN;var sN="ToastFocusProxy",kg=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Pf(sN,r);return n.jsx(Ef,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});kg.displayName=sN;var md="Toast",GO="toast.swipeStart",YO="toast.swipeMove",QO="toast.swipeCancel",ZO="toast.swipeEnd",nN=f.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Pn({prop:s,defaultProp:a??!0,onChange:i,caller:md});return n.jsx(Xt,{present:r||l,children:n.jsx(e4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ct(e.onPause),onResume:Ct(e.onResume),onSwipeStart:ee(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ee(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});nN.displayName=md;var[JO,XO]=X1(md,{onClose(){}}),e4=f.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...g}=e,v=Pf(md,r),[y,w]=f.useState(null),x=Ee(t,z=>w(z)),j=f.useRef(null),_=f.useRef(null),S=a||v.duration,N=f.useRef(0),k=f.useRef(S),b=f.useRef(0),{onToastAdd:C,onToastRemove:I}=v,A=Ct(()=>{var R;(y==null?void 0:y.contains(document.activeElement))&&((R=v.viewport)==null||R.focus()),o()}),L=f.useCallback(z=>{!z||z===1/0||(window.clearTimeout(b.current),N.current=new Date().getTime(),b.current=window.setTimeout(A,z))},[A]);f.useEffect(()=>{const z=v.viewport;if(z){const R=()=>{L(k.current),d==null||d()},D=()=>{const $=new Date().getTime()-N.current;k.current=k.current-$,window.clearTimeout(b.current),c==null||c()};return z.addEventListener(Ng,D),z.addEventListener(Sg,R),()=>{z.removeEventListener(Ng,D),z.removeEventListener(Sg,R)}}},[v.viewport,S,c,d,L]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&L(S)},[i,S,v.isClosePausedRef,L]),f.useEffect(()=>(C(),()=>I()),[C,I]);const Z=f.useMemo(()=>y?uN(y):null,[y]);return v.viewport?n.jsxs(n.Fragment,{children:[Z&&n.jsx(t4,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),n.jsx(JO,{scope:r,onClose:A,children:ro.createPortal(n.jsx(bx.ItemSlot,{scope:r,children:n.jsx(OO,{asChild:!0,onEscapeKeyDown:ee(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ee(e.onPointerDown,z=>{z.button===0&&(j.current={x:z.clientX,y:z.clientY})}),onPointerMove:ee(e.onPointerMove,z=>{if(!j.current)return;const R=z.clientX-j.current.x,D=z.clientY-j.current.y,$=!!_.current,E=["left","right"].includes(v.swipeDirection),M=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Q=E?M(0,R):0,oe=E?0:M(0,D),de=z.pointerType==="touch"?10:2,_e={x:Q,y:oe},ge={originalEvent:z,delta:_e};$?(_.current=_e,du(YO,m,ge,{discrete:!1})):l0(_e,v.swipeDirection,de)?(_.current=_e,du(GO,u,ge,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(R)>de||Math.abs(D)>de)&&(j.current=null)}),onPointerUp:ee(e.onPointerUp,z=>{const R=_.current,D=z.target;if(D.hasPointerCapture(z.pointerId)&&D.releasePointerCapture(z.pointerId),_.current=null,j.current=null,R){const $=z.currentTarget,E={originalEvent:z,delta:R};l0(R,v.swipeDirection,v.swipeThreshold)?du(ZO,p,E,{discrete:!0}):du(QO,h,E,{discrete:!0}),$.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),t4=e=>{const{__scopeToast:t,children:r,...s}=e,a=Pf(md,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return n4(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Al,{asChild:!0,children:n.jsx(Ef,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},r4="ToastTitle",aN=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ye.div,{...s,ref:t})});aN.displayName=r4;var s4="ToastDescription",iN=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ye.div,{...s,ref:t})});iN.displayName=s4;var oN="ToastAction",lN=f.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(dN,{altText:r,asChild:!0,children:n.jsx(_x,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${oN}\`. Expected non-empty \`string\`.`),null)});lN.displayName=oN;var cN="ToastClose",_x=f.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=XO(cN,r);return n.jsx(dN,{asChild:!0,children:n.jsx(ye.button,{type:"button",...s,ref:t,onClick:ee(e.onClick,a.onClose)})})});_x.displayName=cN;var dN=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function uN(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),a4(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...uN(s))}}),t}function du(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?wx(a,i):a.dispatchEvent(i)}var l0=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function n4(e=()=>{}){const t=Ct(e);Mt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function a4(e){return e.nodeType===e.ELEMENT_NODE}function i4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var o4=eN,hN=rN,fN=nN,mN=aN,pN=iN,gN=lN,vN=_x;function xN(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=xN(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function yN(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=xN(e))&&(s&&(s+=" "),s+=t);return s}const c0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,d0=yN,Rl=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return d0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const h=c0(u)||c0(m);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(g=>{let[v,y]=g;return Array.isArray(y)?y.includes({...i,...l}[v]):{...i,...l}[v]===y})?[...d,m,h]:d},[]);return d0(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wN=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...c4,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:wN("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=f.forwardRef(({className:s,...a},i)=>f.createElement(d4,{ref:i,iconNode:t,className:wN(`lucide-${l4(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=se("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=se("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=se("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=se("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=se("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=se("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=se("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=se("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=se("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=se("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=se("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=se("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=se("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=se("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=se("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=se("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=se("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=se("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=se("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=se("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=se("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Cx="-",W4=e=>{const t=H4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Cx);return l[0]===""&&l.length!==1&&l.shift(),RN(l,t)||q4(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},RN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?RN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Cx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},u0=/^\[(.+)\]$/,q4=e=>{if(u0.test(e)){const t=u0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},H4=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return G4(Object.entries(e.classGroups),r).forEach(([i,o])=>{Tg(o,s,i,t)}),s},Tg=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:h0(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(K4(a)){Tg(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Tg(o,h0(t,i),r,s)})})},h0=(e,t)=>{let r=e;return t.split(Cx).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},K4=e=>e.isThemeGetter,G4=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Y4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},ON="!",Q4=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let y=0;y<l.length;y++){let w=l[y];if(d===0){if(w===a&&(s||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(w==="/"){m=y;continue}}w==="["?d++:w==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(ON),g=p?h.substring(1):h,v=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},Z4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},J4=e=>({cache:Y4(e.cacheSize),parseClassName:Q4(e),...W4(e)}),X4=/\s+/,eD=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(X4);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let g=!!p,v=s(g?h.substring(0,p):h);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=s(h),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=Z4(u).join(":"),w=m?y+ON:y,x=w+v;if(i.includes(x))continue;i.push(x);const j=a(v,g);for(let _=0;_<j.length;++_){const S=j[_];i.push(w+S)}l=d+(l.length>0?" "+l:l)}return l};function tD(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=DN(t))&&(s&&(s+=" "),s+=r);return s}const DN=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=DN(e[s]))&&(r&&(r+=" "),r+=t);return r};function rD(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return r=J4(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=eD(c,r);return a(c,u),u}return function(){return i(tD.apply(null,arguments))}}const ht=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},MN=/^\[(?:([a-z-]+):)?(.+)\]$/i,sD=/^\d+\/\d+$/,nD=new Set(["px","full","screen"]),aD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=e=>Vo(e)||nD.has(e)||sD.test(e),ha=e=>Ml(e,"length",vD),Vo=e=>!!e&&!Number.isNaN(Number(e)),ep=e=>Ml(e,"number",Vo),Jl=e=>!!e&&Number.isInteger(Number(e)),dD=e=>e.endsWith("%")&&Vo(e.slice(0,-1)),Me=e=>MN.test(e),fa=e=>aD.test(e),uD=new Set(["length","size","percentage"]),hD=e=>Ml(e,uD,IN),fD=e=>Ml(e,"position",IN),mD=new Set(["image","url"]),pD=e=>Ml(e,mD,yD),gD=e=>Ml(e,"",xD),Xl=()=>!0,Ml=(e,t,r)=>{const s=MN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},vD=e=>iD.test(e)&&!oD.test(e),IN=()=>!1,xD=e=>lD.test(e),yD=e=>cD.test(e),wD=()=>{const e=ht("colors"),t=ht("spacing"),r=ht("blur"),s=ht("brightness"),a=ht("borderColor"),i=ht("borderRadius"),o=ht("borderSpacing"),l=ht("borderWidth"),c=ht("contrast"),d=ht("grayscale"),u=ht("hueRotate"),m=ht("invert"),h=ht("gap"),p=ht("gradientColorStops"),g=ht("gradientColorStopPositions"),v=ht("inset"),y=ht("margin"),w=ht("opacity"),x=ht("padding"),j=ht("saturate"),_=ht("scale"),S=ht("sepia"),N=ht("skew"),k=ht("space"),b=ht("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Me,t],L=()=>[Me,t],Z=()=>["",In,ha],z=()=>["auto",Vo,Me],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Me],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Vo,Me];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[In,ha],blur:["none","",fa,Me],brightness:oe(),borderColor:[e],borderRadius:["none","","full",fa,Me],borderSpacing:L(),borderWidth:Z(),contrast:oe(),grayscale:M(),hueRotate:oe(),invert:M(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[dD,ha],inset:A(),margin:A(),opacity:oe(),padding:L(),saturate:oe(),scale:oe(),sepia:M(),skew:oe(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[fa]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),Me]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jl,Me]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Jl,Me]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Jl,Me]},Me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Jl,Me]},Me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[fa]},fa]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fa,ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ep]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Vo,ep]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",In,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",In,ha]}],"underline-offset":[{"underline-offset":["auto",In,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),fD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[In,Me]}],"outline-w":[{outline:[In,ha]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[In,ha]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fa,gD]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fa,Me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Jl,Me]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[In,ha,ep]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jD=rD(wD);function W(...e){return jD(yN(e))}const bD=o4,FN=f.forwardRef(({className:e,...t},r)=>n.jsx(hN,{ref:r,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));FN.displayName=hN.displayName;const _D=Rl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LN=f.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(fN,{ref:s,className:W(_D({variant:t}),e),...r}));LN.displayName=fN.displayName;const ND=f.forwardRef(({className:e,...t},r)=>n.jsx(gN,{ref:r,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));ND.displayName=gN.displayName;const $N=f.forwardRef(({className:e,...t},r)=>n.jsx(vN,{ref:r,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ri,{className:"h-4 w-4"})}));$N.displayName=vN.displayName;const UN=f.forwardRef(({className:e,...t},r)=>n.jsx(mN,{ref:r,className:W("text-sm font-semibold",e),...t}));UN.displayName=mN.displayName;const BN=f.forwardRef(({className:e,...t},r)=>n.jsx(pN,{ref:r,className:W("text-sm opacity-90",e),...t}));BN.displayName=pN.displayName;function SD(){const{toasts:e}=q1();return n.jsxs(bD,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(LN,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(UN,{children:r}),s&&n.jsx(BN,{children:s})]}),a,n.jsx($N,{})]},t)}),n.jsx(FN,{})]})}var f0=["light","dark"],kD="(prefers-color-scheme: dark)",CD=f.createContext(void 0),ED={setTheme:e=>{},themes:[]},PD=()=>{var e;return(e=f.useContext(CD))!=null?e:ED};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=a?f0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,v=!1,y=!0)=>{let w=o?o[g]:g,x=v?g+"|| ''":`'${w}'`,j="";return a&&y&&!v&&f0.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),r==="class"?v||w?j+=`c.add(${x})`:j+="null":w&&(j+=`d[s](n,${x})`),j},p=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${kD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var TD=e=>{switch(e){case"success":return OD;case"info":return MD;case"warning":return DD;case"error":return ID;default:return null}},AD=Array(12).fill(0),RD=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},AD.map((r,s)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),OD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ID=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LD=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ag=1,$D=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ag++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],q.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(BD(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ag++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wr=new $D,UD=(e,t)=>{let r=(t==null?void 0:t.id)||Ag++;return Wr.addToast({title:e,...t,id:r}),r},BD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zD=UD,VD=()=>Wr.toasts,WD=()=>Wr.getActiveToasts(),F=Object.assign(zD,{success:Wr.success,info:Wr.info,warning:Wr.warning,error:Wr.error,custom:Wr.custom,message:Wr.message,promise:Wr.promise,dismiss:Wr.dismiss,loading:Wr.loading},{getHistory:VD,getToasts:WD});function qD(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}qD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uu(e){return e.label!==void 0}var HD=3,KD="32px",GD="16px",m0=4e3,YD=356,QD=14,ZD=20,JD=200;function Ms(...e){return e.filter(Boolean).join(" ")}function XD(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}var eM=e=>{var t,r,s,a,i,o,l,c,d,u,m;let{invert:h,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:x,index:j,toasts:_,expanded:S,removeToast:N,defaultRichColors:k,closeButton:b,style:C,cancelButtonStyle:I,actionButtonStyle:A,className:L="",descriptionClassName:Z="",duration:z,position:R,gap:D,loadingIcon:$,expandByDefault:E,classNames:M,icons:Q,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:de}=e,[_e,ge]=q.useState(null),[ne,Pe]=q.useState(null),[H,Le]=q.useState(!1),[Te,ke]=q.useState(!1),[$e,Be]=q.useState(!1),[$t,er]=q.useState(!1),[ps,gs]=q.useState(!1),[ce,ut]=q.useState(0),[Ts,T]=q.useState(0),U=q.useRef(p.duration||z||m0),V=q.useRef(null),ie=q.useRef(null),ae=j===0,te=j+1<=w,he=p.type,Ve=p.dismissible!==!1,at=p.className||"",Br=p.descriptionClassName||"",Dn=q.useMemo(()=>x.findIndex(Oe=>Oe.toastId===p.id)||0,[x,p.id]),dn=q.useMemo(()=>{var Oe;return(Oe=p.closeButton)!=null?Oe:b},[p.closeButton,b]),zd=q.useMemo(()=>p.duration||z||m0,[p.duration,z]),hi=q.useRef(0),un=q.useRef(0),Vd=q.useRef(0),Mn=q.useRef(null),[jm,Wd]=R.split("-"),Hy=q.useMemo(()=>x.reduce((Oe,it,gt)=>gt>=Dn?Oe:Oe+it.height,0),[x,Dn]),Ky=LD(),zT=p.invert||h,bm=he==="loading";un.current=q.useMemo(()=>Dn*D+Hy,[Dn,Hy]),q.useEffect(()=>{U.current=zd},[zd]),q.useEffect(()=>{Le(!0)},[]),q.useEffect(()=>{let Oe=ie.current;if(Oe){let it=Oe.getBoundingClientRect().height;return T(it),y(gt=>[{toastId:p.id,height:it,position:p.position},...gt]),()=>y(gt=>gt.filter(As=>As.toastId!==p.id))}},[y,p.id]),q.useLayoutEffect(()=>{if(!H)return;let Oe=ie.current,it=Oe.style.height;Oe.style.height="auto";let gt=Oe.getBoundingClientRect().height;Oe.style.height=it,T(gt),y(As=>As.find(Rs=>Rs.toastId===p.id)?As.map(Rs=>Rs.toastId===p.id?{...Rs,height:gt}:Rs):[{toastId:p.id,height:gt,position:p.position},...As])},[H,p.title,p.description,y,p.id]);let la=q.useCallback(()=>{ke(!0),ut(un.current),y(Oe=>Oe.filter(it=>it.toastId!==p.id)),setTimeout(()=>{N(p)},JD)},[p,N,y,un]);q.useEffect(()=>{if(p.promise&&he==="loading"||p.duration===1/0||p.type==="loading")return;let Oe;return S||v||de&&Ky?(()=>{if(Vd.current<hi.current){let it=new Date().getTime()-hi.current;U.current=U.current-it}Vd.current=new Date().getTime()})():U.current!==1/0&&(hi.current=new Date().getTime(),Oe=setTimeout(()=>{var it;(it=p.onAutoClose)==null||it.call(p,p),la()},U.current)),()=>clearTimeout(Oe)},[S,v,p,he,de,Ky,la]),q.useEffect(()=>{p.delete&&la()},[la,p.delete]);function VT(){var Oe,it,gt;return Q!=null&&Q.loading?q.createElement("div",{className:Ms(M==null?void 0:M.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":he==="loading"},Q.loading):$?q.createElement("div",{className:Ms(M==null?void 0:M.loader,(it=p==null?void 0:p.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":he==="loading"},$):q.createElement(RD,{className:Ms(M==null?void 0:M.loader,(gt=p==null?void 0:p.classNames)==null?void 0:gt.loader),visible:he==="loading"})}return q.createElement("li",{tabIndex:0,ref:ie,className:Ms(L,at,M==null?void 0:M.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[he],(r=p==null?void 0:p.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":ps,"data-removed":Te,"data-visible":te,"data-y-position":jm,"data-x-position":Wd,"data-index":j,"data-front":ae,"data-swiping":$e,"data-dismissible":Ve,"data-type":he,"data-invert":zT,"data-swipe-out":$t,"data-swipe-direction":ne,"data-expanded":!!(S||E&&H),style:{"--index":j,"--toasts-before":j,"--z-index":_.length-j,"--offset":`${Te?ce:un.current}px`,"--initial-height":E?"auto":`${Ts}px`,...C,...p.style},onDragEnd:()=>{Be(!1),ge(null),Mn.current=null},onPointerDown:Oe=>{bm||!Ve||(V.current=new Date,ut(un.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Be(!0),Mn.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,it,gt,As;if($t||!Ve)return;Mn.current=null;let Rs=Number(((Oe=ie.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ca=Number(((it=ie.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fi=new Date().getTime()-((gt=V.current)==null?void 0:gt.getTime()),Os=_e==="x"?Rs:ca,da=Math.abs(Os)/fi;if(Math.abs(Os)>=ZD||da>.11){ut(un.current),(As=p.onDismiss)==null||As.call(p,p),Pe(_e==="x"?Rs>0?"right":"left":ca>0?"down":"up"),la(),er(!0),gs(!1);return}Be(!1),ge(null)},onPointerMove:Oe=>{var it,gt,As,Rs;if(!Mn.current||!Ve||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;let ca=Oe.clientY-Mn.current.y,fi=Oe.clientX-Mn.current.x,Os=(gt=e.swipeDirections)!=null?gt:XD(R);!_e&&(Math.abs(fi)>1||Math.abs(ca)>1)&&ge(Math.abs(fi)>Math.abs(ca)?"x":"y");let da={x:0,y:0};_e==="y"?(Os.includes("top")||Os.includes("bottom"))&&(Os.includes("top")&&ca<0||Os.includes("bottom")&&ca>0)&&(da.y=ca):_e==="x"&&(Os.includes("left")||Os.includes("right"))&&(Os.includes("left")&&fi<0||Os.includes("right")&&fi>0)&&(da.x=fi),(Math.abs(da.x)>0||Math.abs(da.y)>0)&&gs(!0),(As=ie.current)==null||As.style.setProperty("--swipe-amount-x",`${da.x}px`),(Rs=ie.current)==null||Rs.style.setProperty("--swipe-amount-y",`${da.y}px`)}},dn&&!p.jsx?q.createElement("button",{"aria-label":oe,"data-disabled":bm,"data-close-button":!0,onClick:bm||!Ve?()=>{}:()=>{var Oe;la(),(Oe=p.onDismiss)==null||Oe.call(p,p)},className:Ms(M==null?void 0:M.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:FD):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,he||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:Ms(M==null?void 0:M.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||VT():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[he])||TD(he):null):null,q.createElement("div",{"data-content":"",className:Ms(M==null?void 0:M.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:Ms(M==null?void 0:M.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:Ms(Z,Br,M==null?void 0:M.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&uu(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Oe=>{var it,gt;uu(p.cancel)&&Ve&&((gt=(it=p.cancel).onClick)==null||gt.call(it,Oe),la())},className:Ms(M==null?void 0:M.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&uu(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:Oe=>{var it,gt;uu(p.action)&&((gt=(it=p.action).onClick)==null||gt.call(it,Oe),!Oe.defaultPrevented&&la())},className:Ms(M==null?void 0:M.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function p0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tM(e,t){let r={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?GD:KD;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}var rM=f.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:h,style:p,visibleToasts:g=HD,toastOptions:v,dir:y=p0(),gap:w=QD,loadingIcon:x,icons:j,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,k]=q.useState([]),b=q.useMemo(()=>Array.from(new Set([s].concat(N.filter(de=>de.position).map(de=>de.position)))),[N,s]),[C,I]=q.useState([]),[A,L]=q.useState(!1),[Z,z]=q.useState(!1),[R,D]=q.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=q.useRef(null),E=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=q.useRef(null),Q=q.useRef(!1),oe=q.useCallback(de=>{k(_e=>{var ge;return(ge=_e.find(ne=>ne.id===de.id))!=null&&ge.delete||Wr.dismiss(de.id),_e.filter(({id:ne})=>ne!==de.id)})},[]);return q.useEffect(()=>Wr.subscribe(de=>{if(de.dismiss){k(_e=>_e.map(ge=>ge.id===de.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{V1.flushSync(()=>{k(_e=>{let ge=_e.findIndex(ne=>ne.id===de.id);return ge!==-1?[..._e.slice(0,ge),{..._e[ge],...de},..._e.slice(ge+1)]:[de,..._e]})})})}),[]),q.useEffect(()=>{if(u!=="system"){D(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:_e})=>{D(_e?"dark":"light")})}catch{de.addListener(({matches:ge})=>{try{D(ge?"dark":"light")}catch(ne){console.error(ne)}})}},[u]),q.useEffect(()=>{N.length<=1&&L(!1)},[N]),q.useEffect(()=>{let de=_e=>{var ge,ne;a.every(Pe=>_e[Pe]||_e.code===Pe)&&(L(!0),(ge=$.current)==null||ge.focus()),_e.code==="Escape"&&(document.activeElement===$.current||(ne=$.current)!=null&&ne.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[a]),q.useEffect(()=>{if($.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,Q.current=!1)}},[$.current]),q.createElement("section",{ref:t,"aria-label":`${_} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((de,_e)=>{var ge;let[ne,Pe]=de.split("-");return N.length?q.createElement("ol",{key:de,dir:y==="auto"?p0():y,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ne,"data-lifted":A&&N.length>1&&!i,"data-x-position":Pe,style:{"--front-toast-height":`${((ge=C[0])==null?void 0:ge.height)||0}px`,"--width":`${YD}px`,"--gap":`${w}px`,...p,...tM(c,d)},onBlur:H=>{Q.current&&!H.currentTarget.contains(H.relatedTarget)&&(Q.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,M.current=H.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{Z||L(!1)},onDragEnd:()=>L(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(H=>!H.position&&_e===0||H.position===de).map((H,Le)=>{var Te,ke;return q.createElement(eM,{key:H.id,icons:j,index:Le,toast:H,defaultRichColors:m,duration:(Te=v==null?void 0:v.duration)!=null?Te:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ke=v==null?void 0:v.closeButton)!=null?ke:o,interacting:Z,position:de,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:oe,toasts:N.filter($e=>$e.position==H.position),heights:C.filter($e=>$e.position==H.position),setHeights:I,expandByDefault:i,gap:w,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const sM=({...e})=>{const{theme:t="system"}=PD();return n.jsx(rM,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var nM=Pv[" useId ".trim().toString()]||(()=>{}),aM=0;function Zs(e){const[t,r]=f.useState(nM());return Mt(()=>{e||r(s=>s??String(aM++))},[e]),e||(t?`radix-${t}`:"")}const iM=["top","right","bottom","left"],Ga=Math.min,ss=Math.max,Ah=Math.round,hu=Math.floor,Cn=e=>({x:e,y:e}),oM={left:"right",right:"left",bottom:"top",top:"bottom"},lM={start:"end",end:"start"};function Rg(e,t,r){return ss(e,Ga(t,r))}function ta(e,t){return typeof e=="function"?e(t):e}function ra(e){return e.split("-")[0]}function Il(e){return e.split("-")[1]}function Ex(e){return e==="x"?"y":"x"}function Px(e){return e==="y"?"height":"width"}const cM=new Set(["top","bottom"]);function yn(e){return cM.has(ra(e))?"y":"x"}function Tx(e){return Ex(yn(e))}function dM(e,t,r){r===void 0&&(r=!1);const s=Il(e),a=Tx(e),i=Px(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Rh(o)),[o,Rh(o)]}function uM(e){const t=Rh(e);return[Og(e),t,Og(t)]}function Og(e){return e.replace(/start|end/g,t=>lM[t])}const g0=["left","right"],v0=["right","left"],hM=["top","bottom"],fM=["bottom","top"];function mM(e,t,r){switch(e){case"top":case"bottom":return r?t?v0:g0:t?g0:v0;case"left":case"right":return t?hM:fM;default:return[]}}function pM(e,t,r,s){const a=Il(e);let i=mM(ra(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Og)))),i}function Rh(e){return e.replace(/left|right|bottom|top/g,t=>oM[t])}function gM(e){return{top:0,right:0,bottom:0,left:0,...e}}function zN(e){return typeof e!="number"?gM(e):{top:e,right:e,bottom:e,left:e}}function Oh(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function x0(e,t,r){let{reference:s,floating:a}=e;const i=yn(t),o=Tx(t),l=Px(o),c=ra(t),d=i==="y",u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:m};break;case"left":p={x:s.x-a.width,y:m};break;default:p={x:s.x,y:s.y}}switch(Il(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const vM=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=x0(d,s,c),h=s,p={},g=0;for(let v=0;v<l.length;v++){const{name:y,fn:w}=l[v],{x,y:j,data:_,reset:S}=await w({x:u,y:m,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,m=j??m,p={...p,[y]:{...p[y],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:m}=x0(d,h,c)),v=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:p}};async function Kc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=ta(t,e),g=zN(p),y=l[h?m==="floating"?"reference":"floating":m],w=Oh(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:j,strategy:c}):x);return{top:(w.top-S.top+g.top)/_.y,bottom:(S.bottom-w.bottom+g.bottom)/_.y,left:(w.left-S.left+g.left)/_.x,right:(S.right-w.right+g.right)/_.x}}const xM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ta(e,t)||{};if(d==null)return{};const m=zN(u),h={x:r,y:s},p=Tx(a),g=Px(p),v=await o.getDimensions(d),y=p==="y",w=y?"top":"left",x=y?"bottom":"right",j=y?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[j]||i.floating[g]);const b=_/2-S/2,C=k/2-v[g]/2-1,I=Ga(m[w],C),A=Ga(m[x],C),L=I,Z=k-v[g]-A,z=k/2-v[g]/2+b,R=Rg(L,z,Z),D=!c.arrow&&Il(a)!=null&&z!==R&&i.reference[g]/2-(z<L?I:A)-v[g]/2<0,$=D?z<L?z-L:z-Z:0;return{[p]:h[p]+$,data:{[p]:R,centerOffset:z-R-$,...D&&{alignmentOffset:$}},reset:D}}}),yM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=ta(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=ra(a),x=yn(l),j=ra(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=h||(j||!v?[Rh(l)]:uM(l)),N=g!=="none";!h&&N&&S.push(...pM(l,v,g,_));const k=[l,...S],b=await Kc(t,y),C=[];let I=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&C.push(b[w]),m){const z=dM(a,o,_);C.push(b[z[0]],b[z[1]])}if(I=[...I,{placement:a,overflows:C}],!C.every(z=>z<=0)){var A,L;const z=(((A=i.flip)==null?void 0:A.index)||0)+1,R=k[z];if(R&&(!(m==="alignment"?x!==yn(R):!1)||I.every(E=>E.overflows[0]>0&&yn(E.placement)===x)))return{data:{index:z,overflows:I},reset:{placement:R}};let D=(L=I.filter($=>$.overflows[0]<=0).sort(($,E)=>$.overflows[1]-E.overflows[1])[0])==null?void 0:L.placement;if(!D)switch(p){case"bestFit":{var Z;const $=(Z=I.filter(E=>{if(N){const M=yn(E.placement);return M===x||M==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(M=>M>0).reduce((M,Q)=>M+Q,0)]).sort((E,M)=>E[1]-M[1])[0])==null?void 0:Z[0];$&&(D=$);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function y0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function w0(e){return iM.some(t=>e[t]>=0)}const wM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ta(e,t);switch(s){case"referenceHidden":{const i=await Kc(t,{...a,elementContext:"reference"}),o=y0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:w0(o)}}}case"escaped":{const i=await Kc(t,{...a,altBoundary:!0}),o=y0(i,r.floating);return{data:{escapedOffsets:o,escaped:w0(o)}}}default:return{}}}}},VN=new Set(["left","top"]);async function jM(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=ra(r),l=Il(r),c=yn(r)==="y",d=VN.has(o)?-1:1,u=i&&c?-1:1,m=ta(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const bM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await jM(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},_M=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=ta(e,t),d={x:r,y:s},u=await Kc(t,c),m=yn(ra(a)),h=Ex(m);let p=d[h],g=d[m];if(i){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=p+u[y],j=p-u[w];p=Rg(x,p,j)}if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=g+u[y],j=g-u[w];g=Rg(x,g,j)}const v=l.fn({...t,[h]:p,[m]:g});return{...v,data:{x:v.x-r,y:v.y-s,enabled:{[h]:i,[m]:o}}}}}},NM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ta(e,t),u={x:r,y:s},m=yn(a),h=Ex(m);let p=u[h],g=u[m];const v=ta(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=h==="y"?"height":"width",_=i.reference[h]-i.floating[j]+y.mainAxis,S=i.reference[h]+i.reference[j]-y.mainAxis;p<_?p=_:p>S&&(p=S)}if(d){var w,x;const j=h==="y"?"width":"height",_=VN.has(ra(a)),S=i.reference[m]-i.floating[j]+(_&&((w=o.offset)==null?void 0:w[m])||0)+(_?0:y.crossAxis),N=i.reference[m]+i.reference[j]+(_?0:((x=o.offset)==null?void 0:x[m])||0)-(_?y.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:p,[m]:g}}}},SM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ta(e,t),u=await Kc(t,d),m=ra(a),h=Il(a),p=yn(a)==="y",{width:g,height:v}=i.floating;let y,w;m==="top"||m==="bottom"?(y=m,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,y=h==="end"?"top":"bottom");const x=v-u.top-u.bottom,j=g-u.left-u.right,_=Ga(v-u[y],x),S=Ga(g-u[w],j),N=!t.middlewareData.shift;let k=_,b=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(b=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=x),N&&!h){const I=ss(u.left,0),A=ss(u.right,0),L=ss(u.top,0),Z=ss(u.bottom,0);p?b=g-2*(I!==0||A!==0?I+A:ss(u.left,u.right)):k=v-2*(L!==0||Z!==0?L+Z:ss(u.top,u.bottom))}await c({...t,availableWidth:b,availableHeight:k});const C=await o.getDimensions(l.floating);return g!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function Of(){return typeof window<"u"}function Fl(e){return WN(e)?(e.nodeName||"").toLowerCase():"#document"}function os(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rn(e){var t;return(t=(WN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WN(e){return Of()?e instanceof Node||e instanceof os(e).Node:!1}function Xs(e){return Of()?e instanceof Element||e instanceof os(e).Element:!1}function An(e){return Of()?e instanceof HTMLElement||e instanceof os(e).HTMLElement:!1}function j0(e){return!Of()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof os(e).ShadowRoot}const kM=new Set(["inline","contents"]);function xd(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=en(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!kM.has(a)}const CM=new Set(["table","td","th"]);function EM(e){return CM.has(Fl(e))}const PM=[":popover-open",":modal"];function Df(e){return PM.some(t=>{try{return e.matches(t)}catch{return!1}})}const TM=["transform","translate","scale","rotate","perspective"],AM=["transform","translate","scale","rotate","perspective","filter"],RM=["paint","layout","strict","content"];function Ax(e){const t=Rx(),r=Xs(e)?en(e):e;return TM.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||AM.some(s=>(r.willChange||"").includes(s))||RM.some(s=>(r.contain||"").includes(s))}function OM(e){let t=Ya(e);for(;An(t)&&!dl(t);){if(Ax(t))return t;if(Df(t))return null;t=Ya(t)}return null}function Rx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DM=new Set(["html","body","#document"]);function dl(e){return DM.has(Fl(e))}function en(e){return os(e).getComputedStyle(e)}function Mf(e){return Xs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ya(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||j0(e)&&e.host||Rn(e);return j0(t)?t.host:t}function qN(e){const t=Ya(e);return dl(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&xd(t)?t:qN(t)}function Gc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=qN(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=os(a);if(i){const l=Dg(o);return t.concat(o,o.visualViewport||[],xd(a)?a:[],l&&r?Gc(l):[])}return t.concat(a,Gc(a,[],r))}function Dg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HN(e){const t=en(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=An(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Ah(r)!==i||Ah(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Ox(e){return Xs(e)?e:e.contextElement}function Wo(e){const t=Ox(e);if(!An(t))return Cn(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=HN(t);let o=(i?Ah(r.width):r.width)/s,l=(i?Ah(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MM=Cn(0);function KN(e){const t=os(e);return!Rx()||!t.visualViewport?MM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==os(e)?!1:t}function Ki(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Ox(e);let o=Cn(1);t&&(s?Xs(s)&&(o=Wo(s)):o=Wo(e));const l=IM(i,r,s)?KN(i):Cn(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,m=a.height/o.y;if(i){const h=os(i),p=s&&Xs(s)?os(s):s;let g=h,v=Dg(g);for(;v&&s&&p!==g;){const y=Wo(v),w=v.getBoundingClientRect(),x=en(v),j=w.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,_=w.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,m*=y.y,c+=j,d+=_,g=os(v),v=Dg(g)}}return Oh({width:u,height:m,x:c,y:d})}function Dx(e,t){const r=Mf(e).scrollLeft;return t?t.left+r:Ki(Rn(e)).left+r}function GN(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:Dx(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function FM(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Rn(s),l=t?Df(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Cn(1);const u=Cn(0),m=An(s);if((m||!m&&!i)&&((Fl(s)!=="body"||xd(o))&&(c=Mf(s)),An(s))){const p=Ki(s);d=Wo(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=o&&!m&&!i?GN(o,c,!0):Cn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function LM(e){return Array.from(e.getClientRects())}function $M(e){const t=Rn(e),r=Mf(e),s=e.ownerDocument.body,a=ss(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=ss(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Dx(e);const l=-r.scrollTop;return en(s).direction==="rtl"&&(o+=ss(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function UM(e,t){const r=os(e),s=Rn(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Rx();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const BM=new Set(["absolute","fixed"]);function zM(e,t){const r=Ki(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=An(e)?Wo(e):Cn(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function b0(e,t,r){let s;if(t==="viewport")s=UM(e,r);else if(t==="document")s=$M(Rn(e));else if(Xs(t))s=zM(t,r);else{const a=KN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Oh(s)}function YN(e,t){const r=Ya(e);return r===t||!Xs(r)||dl(r)?!1:en(r).position==="fixed"||YN(r,t)}function VM(e,t){const r=t.get(e);if(r)return r;let s=Gc(e,[],!1).filter(l=>Xs(l)&&Fl(l)!=="body"),a=null;const i=en(e).position==="fixed";let o=i?Ya(e):e;for(;Xs(o)&&!dl(o);){const l=en(o),c=Ax(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&BM.has(a.position)||xd(o)&&!c&&YN(e,o))?s=s.filter(u=>u!==o):a=l,o=Ya(o)}return t.set(e,s),s}function WM(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Df(t)?[]:VM(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const m=b0(t,u,a);return d.top=ss(m.top,d.top),d.right=Ga(m.right,d.right),d.bottom=Ga(m.bottom,d.bottom),d.left=ss(m.left,d.left),d},b0(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qM(e){const{width:t,height:r}=HN(e);return{width:t,height:r}}function HM(e,t,r){const s=An(t),a=Rn(t),i=r==="fixed",o=Ki(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Cn(0);function d(){c.x=Dx(a)}if(s||!s&&!i)if((Fl(t)!=="body"||xd(a))&&(l=Mf(t)),s){const p=Ki(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?GN(a,l):Cn(0),m=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:o.width,height:o.height}}function tp(e){return en(e).position==="static"}function _0(e,t){if(!An(e)||en(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Rn(e)===r&&(r=r.ownerDocument.body),r}function QN(e,t){const r=os(e);if(Df(e))return r;if(!An(e)){let a=Ya(e);for(;a&&!dl(a);){if(Xs(a)&&!tp(a))return a;a=Ya(a)}return r}let s=_0(e,t);for(;s&&EM(s)&&tp(s);)s=_0(s,t);return s&&dl(s)&&tp(s)&&!Ax(s)?r:s||OM(e)||r}const KM=async function(e){const t=this.getOffsetParent||QN,r=this.getDimensions,s=await r(e.floating);return{reference:HM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function GM(e){return en(e).direction==="rtl"}const YM={convertOffsetParentRelativeRectToViewportRelativeRect:FM,getDocumentElement:Rn,getClippingRect:WM,getOffsetParent:QN,getElementRects:KM,getClientRects:LM,getDimensions:qM,getScale:Wo,isElement:Xs,isRTL:GM};function ZN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QM(e,t){let r=null,s;const a=Rn(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||t(),!h||!p)return;const g=hu(m),v=hu(a.clientWidth-(u+h)),y=hu(a.clientHeight-(m+p)),w=hu(u),j={rootMargin:-g+"px "+-v+"px "+-y+"px "+-w+"px",threshold:ss(0,Ga(1,c))||1};let _=!0;function S(N){const k=N[0].intersectionRatio;if(k!==c){if(!_)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!ZN(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(e)}return o(!0),i}function ZM(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Ox(e),u=a||i?[...d?Gc(d):[],...Gc(t)]:[];u.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const m=d&&l?QM(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let g,v=c?Ki(e):null;c&&y();function y(){const w=Ki(e);v&&!ZN(v,w)&&r(),v=w,g=requestAnimationFrame(y)}return r(),()=>{var w;u.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),m==null||m(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const JM=bM,XM=_M,eI=yM,tI=SM,rI=wM,N0=xM,sI=NM,nI=(e,t,r)=>{const s=new Map,a={platform:YM,...r},i={...a.platform,_c:s};return vM(e,t,{...a,platform:i})};var aI=typeof document<"u",iI=function(){},Hu=aI?f.useLayoutEffect:iI;function Dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Dh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Dh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function JN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function S0(e,t){const r=JN(e);return Math.round(t*r)/r}function rp(e){const t=f.useRef(e);return Hu(()=>{t.current=e}),t}function oI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=f.useState(s);Dh(h,s)||p(s);const[g,v]=f.useState(null),[y,w]=f.useState(null),x=f.useCallback(E=>{E!==N.current&&(N.current=E,v(E))},[]),j=f.useCallback(E=>{E!==k.current&&(k.current=E,w(E))},[]),_=i||g,S=o||y,N=f.useRef(null),k=f.useRef(null),b=f.useRef(u),C=c!=null,I=rp(c),A=rp(a),L=rp(d),Z=f.useCallback(()=>{if(!N.current||!k.current)return;const E={placement:t,strategy:r,middleware:h};A.current&&(E.platform=A.current),nI(N.current,k.current,E).then(M=>{const Q={...M,isPositioned:L.current!==!1};z.current&&!Dh(b.current,Q)&&(b.current=Q,ro.flushSync(()=>{m(Q)}))})},[h,t,r,A,L]);Hu(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,m(E=>({...E,isPositioned:!1})))},[d]);const z=f.useRef(!1);Hu(()=>(z.current=!0,()=>{z.current=!1}),[]),Hu(()=>{if(_&&(N.current=_),S&&(k.current=S),_&&S){if(I.current)return I.current(_,S,Z);Z()}},[_,S,Z,I,C]);const R=f.useMemo(()=>({reference:N,floating:k,setReference:x,setFloating:j}),[x,j]),D=f.useMemo(()=>({reference:_,floating:S}),[_,S]),$=f.useMemo(()=>{const E={position:r,left:0,top:0};if(!D.floating)return E;const M=S0(D.floating,u.x),Q=S0(D.floating,u.y);return l?{...E,transform:"translate("+M+"px, "+Q+"px)",...JN(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:Q}},[r,l,D.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:Z,refs:R,elements:D,floatingStyles:$}),[u,Z,R,D,$])}const lI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?N0({element:s.current,padding:a}).fn(r):{}:s?N0({element:s,padding:a}).fn(r):{}}}},cI=(e,t)=>({...JM(e),options:[e,t]}),dI=(e,t)=>({...XM(e),options:[e,t]}),uI=(e,t)=>({...sI(e),options:[e,t]}),hI=(e,t)=>({...eI(e),options:[e,t]}),fI=(e,t)=>({...tI(e),options:[e,t]}),mI=(e,t)=>({...rI(e),options:[e,t]}),pI=(e,t)=>({...lI(e),options:[e,t]});var gI="Arrow",XN=f.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ye.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});XN.displayName=gI;var vI=XN;function Mx(e){const[t,r]=f.useState(void 0);return Mt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Ix="Popper",[eS,si]=wr(Ix),[xI,tS]=eS(Ix),rS=e=>{const{__scopePopper:t,children:r}=e,[s,a]=f.useState(null);return n.jsx(xI,{scope:t,anchor:s,onAnchorChange:a,children:r})};rS.displayName=Ix;var sS="PopperAnchor",nS=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=tS(sS,r),o=f.useRef(null),l=Ee(t,o);return f.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ye.div,{...a,ref:l})});nS.displayName=sS;var Fx="PopperContent",[yI,wI]=eS(Fx),aS=f.forwardRef((e,t)=>{var H,Le,Te,ke,$e,Be;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,y=tS(Fx,r),[w,x]=f.useState(null),j=Ee(t,$t=>x($t)),[_,S]=f.useState(null),N=Mx(_),k=(N==null?void 0:N.width)??0,b=(N==null?void 0:N.height)??0,C=s+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],L=A.length>0,Z={padding:I,boundary:A.filter(bI),altBoundary:L},{refs:z,floatingStyles:R,placement:D,isPositioned:$,middlewareData:E}=oI({strategy:"fixed",placement:C,whileElementsMounted:(...$t)=>ZM(...$t,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[cI({mainAxis:a+b,alignmentAxis:o}),c&&dI({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?uI():void 0,...Z}),c&&hI({...Z}),fI({...Z,apply:({elements:$t,rects:er,availableWidth:ps,availableHeight:gs})=>{const{width:ce,height:ut}=er.reference,Ts=$t.floating.style;Ts.setProperty("--radix-popper-available-width",`${ps}px`),Ts.setProperty("--radix-popper-available-height",`${gs}px`),Ts.setProperty("--radix-popper-anchor-width",`${ce}px`),Ts.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),_&&pI({element:_,padding:l}),_I({arrowWidth:k,arrowHeight:b}),h&&mI({strategy:"referenceHidden",...Z})]}),[M,Q]=lS(D),oe=Ct(g);Mt(()=>{$&&(oe==null||oe())},[$,oe]);const de=(H=E.arrow)==null?void 0:H.x,_e=(Le=E.arrow)==null?void 0:Le.y,ge=((Te=E.arrow)==null?void 0:Te.centerOffset)!==0,[ne,Pe]=f.useState();return Mt(()=>{w&&Pe(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:$?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ke=E.transformOrigin)==null?void 0:ke.x,($e=E.transformOrigin)==null?void 0:$e.y].join(" "),...((Be=E.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(yI,{scope:r,placedSide:M,onArrowChange:S,arrowX:de,arrowY:_e,shouldHideArrow:ge,children:n.jsx(ye.div,{"data-side":M,"data-align":Q,...v,ref:j,style:{...v.style,animation:$?void 0:"none"}})})})});aS.displayName=Fx;var iS="PopperArrow",jI={top:"bottom",right:"left",bottom:"top",left:"right"},oS=f.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=wI(iS,s),o=jI[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(vI,{...a,ref:r,style:{...a.style,display:"block"}})})});oS.displayName=iS;function bI(e){return e!==null}var _I=e=>({name:"transformOrigin",options:e,fn(t){var y,w,x;const{placement:r,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=lS(r),m={start:"0%",center:"50%",end:"100%"}[u],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?m:`${h}px`,v=`${-c}px`):d==="top"?(g=o?m:`${h}px`,v=`${s.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?m:`${p}px`):d==="left"&&(g=`${s.floating.width+c}px`,v=o?m:`${p}px`),{data:{x:g,y:v}}}});function lS(e){const[t,r="center"]=e.split("-");return[t,r]}var Lx=rS,yd=nS,If=aS,Ff=oS,[Lf,VW]=wr("Tooltip",[si]),$x=si(),cS="TooltipProvider",NI=700,k0="tooltip.open",[SI,dS]=Lf(cS),uS=e=>{const{__scopeTooltip:t,delayDuration:r=NI,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(SI,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};uS.displayName=cS;var hS="Tooltip",[WW,$f]=Lf(hS),Mg="TooltipTrigger",kI=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=$f(Mg,r),i=dS(Mg,r),o=$x(r),l=f.useRef(null),c=Ee(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),m=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(yd,{asChild:!0,...o,children:n.jsx(ye.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ee(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ee(e.onBlur,a.onClose),onClick:ee(e.onClick,a.onClose)})})});kI.displayName=Mg;var CI="TooltipPortal",[qW,EI]=Lf(CI,{forceMount:void 0}),ul="TooltipContent",fS=f.forwardRef((e,t)=>{const r=EI(ul,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=$f(ul,e.__scopeTooltip);return n.jsx(Xt,{present:s||o.open,children:o.disableHoverableContent?n.jsx(mS,{side:a,...i,ref:t}):n.jsx(PI,{side:a,...i,ref:t})})}),PI=f.forwardRef((e,t)=>{const r=$f(ul,e.__scopeTooltip),s=dS(ul,e.__scopeTooltip),a=f.useRef(null),i=Ee(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:m}=s,h=f.useCallback(()=>{l(null),m(!1)},[m]),p=f.useCallback((g,v)=>{const y=g.currentTarget,w={x:g.clientX,y:g.clientY},x=DI(w,y.getBoundingClientRect()),j=MI(w,x),_=II(v.getBoundingClientRect()),S=LI([...j,..._]);l(S),m(!0)},[m]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(c&&u){const g=y=>p(y,u),v=y=>p(y,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,p,h]),f.useEffect(()=>{if(o){const g=v=>{const y=v.target,w={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),j=!FI(w,o);x?h():j&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),n.jsx(mS,{...e,ref:i})}),[TI,AI]=Lf(hS,{isInside:!1}),RI=G1("TooltipContent"),mS=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=$f(ul,r),d=$x(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(k0,u),()=>document.removeEventListener(k0,u)),[u]),f.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),n.jsx(so,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(If,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(RI,{children:s}),n.jsx(TI,{scope:r,isInside:!0,children:n.jsx(VO,{id:c.contentId,role:"tooltip",children:a||s})})]})})});fS.displayName=ul;var pS="TooltipArrow",OI=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=$x(r);return AI(pS,r).isInside?null:n.jsx(Ff,{...a,...s,ref:t})});OI.displayName=pS;function DI(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function MI(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function II(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function FI(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,h=c.y;u>s!=h>s&&r<(m-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function LI(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),$I(t)}function $I(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var UI=uS,gS=fS;const BI=UI,zI=f.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(gS,{ref:s,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));zI.displayName=gS.displayName;var Uf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bf=typeof window>"u"||"Deno"in globalThis;function $s(){}function VI(e,t){return typeof e=="function"?e(t):e}function WI(e){return typeof e=="number"&&e>=0&&e!==1/0}function qI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ig(e,t){return typeof e=="function"?e(t):e}function HI(e,t){return typeof e=="function"?e(t):e}function C0(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Ux(o,t.options))return!1}else if(!Qc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function E0(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Yc(t.options.mutationKey)!==Yc(i))return!1}else if(!Qc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Ux(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yc)(e)}function Yc(e){return JSON.stringify(e,(t,r)=>Fg(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Qc(e[r],t[r])):!1}function vS(e,t){if(e===t)return e;const r=P0(e)&&P0(t);if(r||Fg(e)&&Fg(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const m=r?u:i[u];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=vS(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function P0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fg(e){if(!T0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!T0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function T0(e){return Object.prototype.toString.call(e)==="[object Object]"}function KI(e){return new Promise(t=>{setTimeout(t,e)})}function GI(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vS(e,t):t}function YI(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function QI(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Bx=Symbol();function xS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pi,Na,Yo,bb,ZI=(bb=class extends Uf{constructor(){super();Ye(this,Pi);Ye(this,Na);Ye(this,Yo);De(this,Yo,t=>{if(!Bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Na)||this.setEventListener(K(this,Yo))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Na))==null||t.call(this),De(this,Na,void 0))}setEventListener(t){var r;De(this,Yo,t),(r=K(this,Na))==null||r.call(this),De(this,Na,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){K(this,Pi)!==t&&(De(this,Pi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof K(this,Pi)=="boolean"?K(this,Pi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pi=new WeakMap,Na=new WeakMap,Yo=new WeakMap,bb),yS=new ZI,Qo,Sa,Zo,_b,JI=(_b=class extends Uf{constructor(){super();Ye(this,Qo,!0);Ye(this,Sa);Ye(this,Zo);De(this,Zo,t=>{if(!Bf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){K(this,Sa)||this.setEventListener(K(this,Zo))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Sa))==null||t.call(this),De(this,Sa,void 0))}setEventListener(t){var r;De(this,Zo,t),(r=K(this,Sa))==null||r.call(this),De(this,Sa,t(this.setOnline.bind(this)))}setOnline(t){K(this,Qo)!==t&&(De(this,Qo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return K(this,Qo)}},Qo=new WeakMap,Sa=new WeakMap,Zo=new WeakMap,_b),Mh=new JI;function XI(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function e5(e){return Math.min(1e3*2**e,3e4)}function wS(e){return(e??"online")==="online"?Mh.isOnline():!0}var jS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sp(e){return e instanceof jS}function bS(e){let t=!1,r=0,s=!1,a;const i=XI(),o=v=>{var y;s||(h(new jS(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>yS.isFocused()&&(e.networkMode==="always"||Mh.isOnline())&&e.canRun(),u=()=>wS(e.networkMode)&&e.canRun(),m=v=>{var y;s||(s=!0,(y=e.onSuccess)==null||y.call(e,v),a==null||a(),i.resolve(v))},h=v=>{var y;s||(s=!0,(y=e.onError)==null||y.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var y;a=w=>{(s||d())&&v(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;a=void 0,s||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(s)return;let v;const y=r===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(m).catch(w=>{var N;if(s)return;const x=e.retry??(Bf?0:3),j=e.retryDelay??e5,_=typeof j=="function"?j(r,w):j,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(t||!S){h(w);return}r++,(N=e.onFail)==null||N.call(e,r,w),KI(_).then(()=>d()?void 0:p()).then(()=>{t?h(w):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var t5=e=>setTimeout(e,0);function r5(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=t5;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var kr=r5(),Ti,Nb,_S=(Nb=class{constructor(){Ye(this,Ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WI(this.gcTime)&&De(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bf?1/0:5*60*1e3))}clearGcTimeout(){K(this,Ti)&&(clearTimeout(K(this,Ti)),De(this,Ti,void 0))}},Ti=new WeakMap,Nb),Jo,Ai,vs,Ri,mr,id,Oi,Bs,$n,Sb,s5=(Sb=class extends _S{constructor(t){super();Ye(this,Bs);Ye(this,Jo);Ye(this,Ai);Ye(this,vs);Ye(this,Ri);Ye(this,mr);Ye(this,id);Ye(this,Oi);De(this,Oi,!1),De(this,id,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,Ri,t.client),De(this,vs,K(this,Ri).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Jo,a5(this.options)),this.state=t.state??K(this,Jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,mr))==null?void 0:t.promise}setOptions(t){this.options={...K(this,id),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,vs).remove(this)}setData(t,r){const s=GI(this.state.data,t,this.options);return ur(this,Bs,$n).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){ur(this,Bs,$n).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=K(this,mr))==null?void 0:s.promise;return(a=K(this,mr))==null||a.cancel(t),r?r.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Jo))}isActive(){return this.observers.some(t=>HI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ig(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,mr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=K(this,mr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(K(this,mr)&&(K(this,Oi)?K(this,mr).cancel({revert:!0}):K(this,mr).cancelRetry()),this.scheduleGc()),K(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ur(this,Bs,$n).call(this,{type:"invalidate"})}fetch(t,r){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,mr))return K(this,mr).continueRetry(),K(this,mr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(De(this,Oi,!0),s.signal)})},i=()=>{const h=xS(this.options,r),g=(()=>{const v={client:K(this,Ri),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return De(this,Oi,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,Ri),state:this.state,fetchFn:i};return a(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),De(this,Ai,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ur(this,Bs,$n).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var p,g,v,y;sp(h)&&h.silent||ur(this,Bs,$n).call(this,{type:"error",error:h}),sp(h)||((g=(p=K(this,vs).config).onError)==null||g.call(p,h,this),(y=(v=K(this,vs).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return De(this,mr,bS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,g,v,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(g=(p=K(this,vs).config).onSuccess)==null||g.call(p,h,this),(y=(v=K(this,vs).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{ur(this,Bs,$n).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{ur(this,Bs,$n).call(this,{type:"pause"})},onContinue:()=>{ur(this,Bs,$n).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),K(this,mr).start()}},Jo=new WeakMap,Ai=new WeakMap,vs=new WeakMap,Ri=new WeakMap,mr=new WeakMap,id=new WeakMap,Oi=new WeakMap,Bs=new WeakSet,$n=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...n5(s.data,this.options),fetchMeta:t.meta??null};case"success":return De(this,Ai,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sp(a)&&a.revert&&K(this,Ai)?{...K(this,Ai),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),kr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,vs).notify({query:this,type:"updated",action:t})})},Sb);function n5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function a5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pn,kb,i5=(kb=class extends Uf{constructor(t={}){super();Ye(this,pn);this.config=t,De(this,pn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Ux(a,r);let o=this.get(i);return o||(o=new s5({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){K(this,pn).has(t.queryHash)||(K(this,pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=K(this,pn).get(t.queryHash);r&&(t.destroy(),r===t&&K(this,pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,pn).get(t)}getAll(){return[...K(this,pn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>C0(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>C0(t,s)):r}notify(t){kr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pn=new WeakMap,kb),gn,br,Di,vn,pa,Cb,o5=(Cb=class extends _S{constructor(t){super();Ye(this,vn);Ye(this,gn);Ye(this,br);Ye(this,Di);this.mutationId=t.mutationId,De(this,br,t.mutationCache),De(this,gn,[]),this.state=t.state||l5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,gn).includes(t)||(K(this,gn).push(t),this.clearGcTimeout(),K(this,br).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,gn,K(this,gn).filter(r=>r!==t)),this.scheduleGc(),K(this,br).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,gn).length||(this.state.status==="pending"?this.scheduleGc():K(this,br).remove(this))}continue(){var t;return((t=K(this,Di))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,m,h,p,g,v,y,w,x,j,_,S,N,k,b;const r=()=>{ur(this,vn,pa).call(this,{type:"continue"})};De(this,Di,bS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{ur(this,vn,pa).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{ur(this,vn,pa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,br).canRun(this)}));const s=this.state.status==="pending",a=!K(this,Di).canStart();try{if(s)r();else{ur(this,vn,pa).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=K(this,br).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));I!==this.state.context&&ur(this,vn,pa).call(this,{type:"pending",context:I,variables:t,isPaused:a})}const C=await K(this,Di).start();return await((u=(d=K(this,br).config).onSuccess)==null?void 0:u.call(d,C,t,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,C,t,this.state.context)),await((g=(p=K(this,br).config).onSettled)==null?void 0:g.call(p,C,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,C,null,t,this.state.context)),ur(this,vn,pa).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(w=K(this,br).config).onError)==null?void 0:x.call(w,C,t,this.state.context,this)),await((_=(j=this.options).onError)==null?void 0:_.call(j,C,t,this.state.context)),await((N=(S=K(this,br).config).onSettled)==null?void 0:N.call(S,void 0,C,this.state.variables,this.state.context,this)),await((b=(k=this.options).onSettled)==null?void 0:b.call(k,void 0,C,t,this.state.context)),C}finally{ur(this,vn,pa).call(this,{type:"error",error:C})}}finally{K(this,br).runNext(this)}}},gn=new WeakMap,br=new WeakMap,Di=new WeakMap,vn=new WeakSet,pa=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kr.batch(()=>{K(this,gn).forEach(s=>{s.onMutationUpdate(t)}),K(this,br).notify({mutation:this,type:"updated",action:t})})},Cb);function l5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zn,zs,od,Eb,c5=(Eb=class extends Uf{constructor(t={}){super();Ye(this,zn);Ye(this,zs);Ye(this,od);this.config=t,De(this,zn,new Set),De(this,zs,new Map),De(this,od,0)}build(t,r,s){const a=new o5({mutationCache:this,mutationId:++qd(this,od)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){K(this,zn).add(t);const r=fu(t);if(typeof r=="string"){const s=K(this,zs).get(r);s?s.push(t):K(this,zs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,zn).delete(t)){const r=fu(t);if(typeof r=="string"){const s=K(this,zs).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&K(this,zs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=fu(t);if(typeof r=="string"){const s=K(this,zs).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=fu(t);if(typeof r=="string"){const a=(s=K(this,zs).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kr.batch(()=>{K(this,zn).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,zn).clear(),K(this,zs).clear()})}getAll(){return Array.from(K(this,zn))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>E0(r,s))}findAll(t={}){return this.getAll().filter(r=>E0(t,r))}notify(t){kr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kr.batch(()=>Promise.all(t.map(r=>r.continue().catch($s))))}},zn=new WeakMap,zs=new WeakMap,od=new WeakMap,Eb);function fu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function A0(e){return{onFetch:(t,r)=>{var u,m,h,p,g;const s=t.options,a=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=xS(t.options,t.fetchOptions),x=async(j,_,S)=>{if(v)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const k=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(A),A})(),b=await w(k),{maxPages:C}=t.options,I=S?QI:YI;return{pages:I(j.pages,b,C),pageParams:I(j.pageParams,_,C)}};if(a&&i.length){const j=a==="backward",_=j?d5:R0,S={pages:i,pageParams:o},N=_(s,S);l=await x(S,N,j)}else{const j=e??i.length;do{const _=c===0?o[0]??s.initialPageParam:R0(s,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function R0(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function d5(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Nt,ka,Ca,Xo,el,Ea,tl,rl,Pb,u5=(Pb=class{constructor(e={}){Ye(this,Nt);Ye(this,ka);Ye(this,Ca);Ye(this,Xo);Ye(this,el);Ye(this,Ea);Ye(this,tl);Ye(this,rl);De(this,Nt,e.queryCache||new i5),De(this,ka,e.mutationCache||new c5),De(this,Ca,e.defaultOptions||{}),De(this,Xo,new Map),De(this,el,new Map),De(this,Ea,0)}mount(){qd(this,Ea)._++,K(this,Ea)===1&&(De(this,tl,yS.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,Nt).onFocus())})),De(this,rl,Mh.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,Nt).onOnline())})))}unmount(){var e,t;qd(this,Ea)._--,K(this,Ea)===0&&((e=K(this,tl))==null||e.call(this),De(this,tl,void 0),(t=K(this,rl))==null||t.call(this),De(this,rl,void 0))}isFetching(e){return K(this,Nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ka).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,Nt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=K(this,Nt).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ig(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return K(this,Nt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=K(this,Nt).get(s.queryHash),i=a==null?void 0:a.state.data,o=VI(t,i);if(o!==void 0)return K(this,Nt).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return kr.batch(()=>K(this,Nt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=K(this,Nt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=K(this,Nt);kr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,Nt);return kr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=kr.batch(()=>K(this,Nt).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then($s).catch($s)}invalidateQueries(e,t={}){return kr.batch(()=>(K(this,Nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=kr.batch(()=>K(this,Nt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch($s)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then($s)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,Nt).build(this,t);return r.isStaleByTime(Ig(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($s).catch($s)}fetchInfiniteQuery(e){return e.behavior=A0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($s).catch($s)}ensureInfiniteQueryData(e){return e.behavior=A0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mh.isOnline()?K(this,ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Nt)}getMutationCache(){return K(this,ka)}getDefaultOptions(){return K(this,Ca)}setDefaultOptions(e){De(this,Ca,e)}setQueryDefaults(e,t){K(this,Xo).set(Yc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Xo).values()],r={};return t.forEach(s=>{Qc(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){K(this,el).set(Yc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,el).values()],r={};return t.forEach(s=>{Qc(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Ca).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ux(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Ca).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,Nt).clear(),K(this,ka).clear()}},Nt=new WeakMap,ka=new WeakMap,Ca=new WeakMap,Xo=new WeakMap,el=new WeakMap,Ea=new WeakMap,tl=new WeakMap,rl=new WeakMap,Pb),h5=f.createContext(void 0),f5=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(h5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zc.apply(this,arguments)}var Aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Aa||(Aa={}));const O0="popstate";function m5(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return Lg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Ih(a)}return g5(t,r,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p5(){return Math.random().toString(36).substr(2,8)}function D0(e,t){return{usr:e.state,key:e.key,idx:t}}function Lg(e,t,r,s){return r===void 0&&(r=null),Zc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ll(t):t,{state:r,key:t&&t.key||s||p5()})}function Ih(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function g5(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Aa.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Zc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=Aa.Pop;let y=u(),w=y==null?null:y-d;d=y,c&&c({action:l,location:v.location,delta:w})}function h(y,w){l=Aa.Push;let x=Lg(v.location,y,w);d=u()+1;let j=D0(x,d),_=v.createHref(x);try{o.pushState(j,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(y,w){l=Aa.Replace;let x=Lg(v.location,y,w);d=u();let j=D0(x,d),_=v.createHref(x);o.replaceState(j,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function g(y){let w=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:Ih(y);return x=x.replace(/ $/,"%20"),Wt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(O0,m),c=y,()=>{a.removeEventListener(O0,m),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}var M0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(M0||(M0={}));function v5(e,t,r){return r===void 0&&(r="/"),x5(e,t,r,!1)}function x5(e,t,r,s){let a=typeof t=="string"?Ll(t):t,i=zx(a.pathname||"/",r);if(i==null)return null;let o=SS(e);y5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=T5(i);l=E5(o[c],d,s)}return l}function SS(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Ba([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SS(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:k5(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of kS(i.path))a(i,o,c)}),t}function kS(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=kS(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function y5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:C5(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const w5=/^:[\w-]+$/,j5=3,b5=2,_5=1,N5=10,S5=-2,I0=e=>e==="*";function k5(e,t){let r=e.split("/"),s=r.length;return r.some(I0)&&(s+=S5),t&&(s+=b5),r.filter(a=>!I0(a)).reduce((a,i)=>a+(w5.test(i)?j5:i===""?_5:N5),s)}function C5(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function E5(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=F0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&r&&!s[s.length-1].route.index&&(m=F0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Ba([i,m.pathname]),pathnameBase:D5(Ba([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Ba([i,m.pathnameBase]))}return o}function F0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=P5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,m)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let v=l[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[m];return p&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function P5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),NS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function T5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function A5(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Ll(e):e;return{pathname:r?r.startsWith("/")?r:R5(r,t):t,search:M5(s),hash:I5(a)}}function R5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function np(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function CS(e,t){let r=O5(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function ES(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ll(e):(a=Zc({},e),Wt(!a.pathname||!a.pathname.includes("?"),np("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),np("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),np("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=A5(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ba=e=>e.join("/").replace(/\/\/+/g,"/"),D5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function F5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PS=["post","put","patch","delete"];new Set(PS);const L5=["get",...PS];new Set(L5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jc.apply(this,arguments)}const Vx=f.createContext(null),$5=f.createContext(null),ao=f.createContext(null),zf=f.createContext(null),ni=f.createContext({outlet:null,matches:[],isDataRoute:!1}),TS=f.createContext(null);function U5(e,t){let{relative:r}=t===void 0?{}:t;wd()||Wt(!1);let{basename:s,navigator:a}=f.useContext(ao),{hash:i,pathname:o,search:l}=RS(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Ba([s,o])),a.createHref({pathname:c,search:l,hash:i})}function wd(){return f.useContext(zf)!=null}function ai(){return wd()||Wt(!1),f.useContext(zf).location}function AS(e){f.useContext(ao).static||f.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=f.useContext(ni);return e?X5():B5()}function B5(){wd()||Wt(!1);let e=f.useContext(Vx),{basename:t,future:r,navigator:s}=f.useContext(ao),{matches:a}=f.useContext(ni),{pathname:i}=ai(),o=JSON.stringify(CS(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return AS(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=ES(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ba([t,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[t,s,o,i,e])}function jd(){let{matches:e}=f.useContext(ni),t=e[e.length-1];return t?t.params:{}}function RS(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=f.useContext(ao),{matches:a}=f.useContext(ni),{pathname:i}=ai(),o=JSON.stringify(CS(a,s.v7_relativeSplatPath));return f.useMemo(()=>ES(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function z5(e,t){return V5(e,t)}function V5(e,t,r,s){wd()||Wt(!1);let{navigator:a}=f.useContext(ao),{matches:i}=f.useContext(ni),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ai(),u;if(t){var m;let y=typeof t=="string"?Ll(t):t;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||Wt(!1),u=y}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=v5(e,{pathname:p}),v=G5(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ba([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ba([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,s);return t&&v?f.createElement(zf.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Aa.Pop}},v):v}function W5(){let e=J5(),t=F5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const q5=f.createElement(W5,null);class H5 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ni.Provider,{value:this.props.routeContext},f.createElement(TS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K5(e){let{routeContext:t,match:r,children:s}=e,a=f.useContext(Vx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ni.Provider,{value:t},s)}function G5(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Wt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:p}=r,g=m.route.loader&&h[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let p,g=!1,v=null,y=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||q5,c&&(d<0&&h===0?(g=!0,y=null):d===h&&(g=!0,y=m.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),x=()=>{let j;return p?j=v:g?j=y:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,f.createElement(K5,{match:m,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:j})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?f.createElement(H5,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var OS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OS||{}),Fh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fh||{});function Y5(e){let t=f.useContext(Vx);return t||Wt(!1),t}function Q5(e){let t=f.useContext($5);return t||Wt(!1),t}function Z5(e){let t=f.useContext(ni);return t||Wt(!1),t}function DS(e){let t=Z5(),r=t.matches[t.matches.length-1];return r.route.id||Wt(!1),r.route.id}function J5(){var e;let t=f.useContext(TS),r=Q5(Fh.UseRouteError),s=DS(Fh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function X5(){let{router:e}=Y5(OS.UseNavigateStable),t=DS(Fh.UseNavigateStable),r=f.useRef(!1);return AS(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Jc({fromRouteId:t},i)))},[e,t])}function eF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ie(e){Wt(!1)}function tF(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Aa.Pop,navigator:i,static:o=!1,future:l}=e;wd()&&Wt(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Jc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Ll(s));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:g="default"}=s,v=f.useMemo(()=>{let y=zx(u,c);return y==null?null:{location:{pathname:y,search:m,hash:h,state:p,key:g},navigationType:a}},[c,u,m,h,p,g,a]);return v==null?null:f.createElement(ao.Provider,{value:d},f.createElement(zf.Provider,{children:r,value:v}))}function rF(e){let{children:t,location:r}=e;return z5($g(t),r)}new Promise(()=>{});function $g(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(s,a)=>{if(!f.isValidElement(s))return;let i=[...t,a];if(s.type===f.Fragment){r.push.apply(r,$g(s.props.children,i));return}s.type!==Ie&&Wt(!1),!s.props.index||!s.props.children||Wt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=$g(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ug.apply(this,arguments)}function sF(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aF(e,t){return e.button===0&&(!t||t==="_self")&&!nF(e)}function Bg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function iF(e,t){let r=Bg(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const oF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lF="6";try{window.__reactRouterVersion=lF}catch{}const cF="startTransition",L0=Pv[cF];function dF(e){let{basename:t,children:r,future:s,window:a}=e,i=f.useRef();i.current==null&&(i.current=m5({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=f.useCallback(m=>{d&&L0?L0(()=>c(m)):c(m)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>eF(s),[s]),f.createElement(tF,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const uF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=f.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=sF(t,oF),{basename:p}=f.useContext(ao),g,v=!1;if(typeof d=="string"&&hF.test(d)&&(g=d,uF))try{let j=new URL(window.location.href),_=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=zx(_.pathname,p);_.origin===j.origin&&S!=null?d=S+_.search+_.hash:v=!0}catch{}let y=U5(d,{relative:a}),w=fF(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function x(j){s&&s(j),j.defaultPrevented||w(j)}return f.createElement("a",Ug({},h,{href:g||y,onClick:v||i?s:x,ref:r,target:c}))});var $0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($0||($0={}));var U0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(U0||(U0={}));function fF(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qt(),d=ai(),u=RS(e,{relative:o});return f.useCallback(m=>{if(aF(m,r)){m.preventDefault();let h=s!==void 0?s:Ih(d)===Ih(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function MS(e){let t=f.useRef(Bg(e)),r=f.useRef(!1),s=ai(),a=f.useMemo(()=>iF(s.search,r.current?null:t.current),[s.search]),i=Qt(),o=f.useCallback((l,c)=>{const d=Bg(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var Wx={},Lh={},zg=function(e,t){return zg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},zg(e,t)};function IS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ws=function(){return ws=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ws.apply(this,arguments)};function ii(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function FS(e,t,r,s){var a=arguments.length,i=a<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function LS(e,t){return function(r,s){t(r,s,e)}}function $S(e,t,r,s,a,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=s.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?s.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,s.name):{}),m,h=!1,p=r.length-1;p>=0;p--){var g={};for(var v in s)g[v]=v==="access"?{}:s[v];for(var v in s.access)g.access[v]=s.access[v];g.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var y=(0,r[p])(l==="accessor"?{get:u.get,set:u.set}:u[c],g);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(m=o(y.get))&&(u.get=m),(m=o(y.set))&&(u.set=m),(m=o(y.init))&&a.unshift(m)}else(m=o(y))&&(l==="field"?a.unshift(m):u[c]=m)}d&&Object.defineProperty(d,s.name,u),h=!0}function US(e,t,r){for(var s=arguments.length>2,a=0;a<t.length;a++)r=s?t[a].call(e,r):t[a].call(e);return s?r:void 0}function BS(e){return typeof e=="symbol"?e:"".concat(e)}function zS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function VS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function pe(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(m){o(m)}}function c(u){try{d(s.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function WS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Vf=Object.create?function(e,t,r,s){s===void 0&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]};function qS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vf(t,e,r)}function $h(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function HS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qx(arguments[t]));return e}function KS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)s[a]=i[o];return s}function Hx(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function hl(e){return this instanceof hl?(this.v=e,this):new hl(e)}function GS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(g){return Promise.resolve(g).then(p,m)}}function l(p,g){s[p]&&(a[p]=function(v){return new Promise(function(y,w){i.push([p,v,y,w])>1||c(p,v)})},g&&(a[p]=g(a[p])))}function c(p,g){try{d(s[p](g))}catch(v){h(i[0][3],v)}}function d(p){p.value instanceof hl?Promise.resolve(p.value.v).then(u,m):h(i[0][2],p)}function u(p){c("next",p)}function m(p){c("throw",p)}function h(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function YS(e){var t,r;return t={},s("next"),s("throw",function(a){throw a}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:hl(e[a](o)),done:!1}:i?i(o):o}:i}}function QS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $h=="function"?$h(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},o)}}function ZS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var mF=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Vg=function(e){return Vg=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},Vg(e)};function JS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Vg(e),s=0;s<r.length;s++)r[s]!=="default"&&Vf(t,e,r[s]);return mF(t,e),t}function XS(e){return e&&e.__esModule?e:{default:e}}function ek(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)}function tk(e,t,r,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function rk(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sk(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var s,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=t[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=t[Symbol.dispose],r&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:s,async:r})}else r&&e.stack.push({async:!0});return t}var pF=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var s=new Error(r);return s.name="SuppressedError",s.error=e,s.suppressed=t,s};function nk(e){function t(i){e.error=e.hasError?new pF(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,s=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&s===1)return s=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else s|=1}catch(o){t(o)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function ak(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,a,i,o){return s?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const gF={__extends:IS,__assign:ws,__rest:ii,__decorate:FS,__param:LS,__esDecorate:$S,__runInitializers:US,__propKey:BS,__setFunctionName:zS,__metadata:VS,__awaiter:pe,__generator:WS,__createBinding:Vf,__exportStar:qS,__values:$h,__read:qx,__spread:HS,__spreadArrays:KS,__spreadArray:Hx,__await:hl,__asyncGenerator:GS,__asyncDelegator:YS,__asyncValues:QS,__makeTemplateObject:ZS,__importStar:JS,__importDefault:XS,__classPrivateFieldGet:ek,__classPrivateFieldSet:tk,__classPrivateFieldIn:rk,__addDisposableResource:sk,__disposeResources:nk,__rewriteRelativeImportExtension:ak},vF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sk,get __assign(){return ws},__asyncDelegator:YS,__asyncGenerator:GS,__asyncValues:QS,__await:hl,__awaiter:pe,__classPrivateFieldGet:ek,__classPrivateFieldIn:rk,__classPrivateFieldSet:tk,__createBinding:Vf,__decorate:FS,__disposeResources:nk,__esDecorate:$S,__exportStar:qS,__extends:IS,__generator:WS,__importDefault:XS,__importStar:JS,__makeTemplateObject:ZS,__metadata:VS,__param:LS,__propKey:BS,__read:qx,__rest:ii,__rewriteRelativeImportExtension:ak,__runInitializers:US,__setFunctionName:zS,__spread:HS,__spreadArray:Hx,__spreadArrays:KS,__values:$h,default:gF},Symbol.toStringTag,{value:"Module"})),xF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Wf=class extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}},ik=class extends Wf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Wg=class extends Wf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},qg=class extends Wf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uh||(Uh={}));class yF{constructor(t,{headers:r={},customFetch:s,region:a=Uh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=xF(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pe(this,arguments,void 0,function*(r,s={}){var a;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=s;let h={},{region:p}=s;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(h["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(h["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;let y=u;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:v,signal:y}).catch(S=>{throw new ik(S)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Wg(w);if(!w.ok)throw new qg(w);let j=((a=w.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return j==="application/json"?_=yield w.json():j==="application/octet-stream"||j==="application/pdf"?_=yield w.blob():j==="text/event-stream"?_=w:j==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof qg||l instanceof Wg?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const wF=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Uh},FunctionsClient:yF,FunctionsError:Wf,FunctionsFetchError:ik,FunctionsHttpError:qg,FunctionsRelayError:Wg},Symbol.toStringTag,{value:"Module"})),ok=ld(wF);var vr={};const $l=ld(vF);var mu={},pu={},gu={},vu={},xu={},yu={},B0;function lk(){if(B0)return yu;B0=1,Object.defineProperty(yu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yu.default=e,yu}var z0;function ck(){if(z0)return xu;z0=1,Object.defineProperty(xu,"__esModule",{value:!0});const t=$l.__importDefault(lk());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,m,h;let p=null,g=null,v=null,y=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const j=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");j&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const j=await c.text();try{p=JSON.parse(j),Array.isArray(p)&&c.status===404&&(g=[],p=null,y=200,w="OK")}catch{c.status===404&&j===""?(y=204,w="No Content"):p={message:j}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,y=200,w="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:g,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,m,h,p,g;let v="";const y=c==null?void 0:c.cause;if(y){const w=(d=y==null?void 0:y.message)!==null&&d!==void 0?d:"",x=(u=y==null?void 0:y.code)!==null&&u!==void 0?u:"";v=`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,v+=`

Caused by: ${(h=y==null?void 0:y.name)!==null&&h!==void 0?h:"Error"}: ${w}`,x&&(v+=` (${x})`),y!=null&&y.stack&&(v+=`
${y.stack}`)}else v=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(a,i)}returns(){return this}overrideTypes(){return this}};return xu.default=r,xu}var V0;function dk(){if(V0)return vu;V0=1,Object.defineProperty(vu,"__esModule",{value:!0});const t=$l.__importDefault(ck());let r=class extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const m=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${h}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return vu.default=r,vu}var W0;function Kx(){if(W0)return gu;W0=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=$l.__importDefault(dk()),r=new RegExp("[,()]");let s=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return gu.default=s,gu}var q0;function uk(){if(q0)return pu;q0=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=$l.__importDefault(Kx());let r=class{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return pu.default=r,pu}var H0;function jF(){if(H0)return mu;H0=1,Object.defineProperty(mu,"__esModule",{value:!0});const e=$l,t=e.__importDefault(uk()),r=e.__importDefault(Kx());let s=class hk{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new hk(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let m;const h=new URL(`${this.url}/rpc/${i}`);let p;l||c?(m=l?"HEAD":"GET",Object.entries(o).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{h.searchParams.append(v,y)})):(m="POST",p=o);const g=new Headers(this.headers);return d&&g.set("Prefer",`count=${d}`),new r.default({method:m,url:h,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return mu.default=s,mu}Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const Ul=$l,fk=Ul.__importDefault(jF());vr.PostgrestClient=fk.default;const mk=Ul.__importDefault(uk());vr.PostgrestQueryBuilder=mk.default;const pk=Ul.__importDefault(Kx());vr.PostgrestFilterBuilder=pk.default;const gk=Ul.__importDefault(dk());vr.PostgrestTransformBuilder=gk.default;const vk=Ul.__importDefault(ck());vr.PostgrestBuilder=vk.default;const xk=Ul.__importDefault(lk());vr.PostgrestError=xk.default;vr.default={PostgrestClient:fk.default,PostgrestQueryBuilder:mk.default,PostgrestFilterBuilder:pk.default,PostgrestTransformBuilder:gk.default,PostgrestBuilder:vk.default,PostgrestError:xk.default};class yk{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bF="2.86.2",_F=`realtime-js/${bF}`,wk="1.0.0",NF="2.0.0",K0=wk,Hg=1e4,SF=1e3,kF=100;var bi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bi||(bi={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Ws;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ws||(Ws={}));var Kg;(function(e){e.websocket="websocket"})(Kg||(Kg={}));var _i;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_i||(_i={}));class CF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+m.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,d.length),g.setUint8(v++,m.length),g.setUint8(v++,r),Array.from(c,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(d,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(m,w=>g.setUint8(v++,w.charCodeAt(0)));var y=new Uint8Array(p.byteLength+s.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(s),p.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[a,i,o,l,c]=s;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=s.decode(t.slice(c,c+a));c=c+a;const u=s.decode(t.slice(c,c+i));c=c+i;const m=s.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(s.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(g.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class jk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const G0=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=EF(o,e,t,a),i),{}):{}},EF=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?bk(i,o):Gg(o)},bk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RF(t,r)}switch(e){case lt.bool:return PF(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return TF(t);case lt.json:case lt.jsonb:return AF(t);case lt.timestamp:return OF(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return Gg(t);default:return Gg(t)}},Gg=e=>e,PF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bk(t,l))}return e},OF=e=>typeof e=="string"?e.replace(" ","T"):e,_k=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ap{constructor(t,r,s={},a=Hg){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yg||(Yg={}));let Nk=class Ku{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Ku.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ku.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const h=u.map(y=>y.presence_ref),p=m.map(y=>y.presence_ref),g=u.filter(y=>p.indexOf(y.presence_ref)<0),v=m.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...h)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Qg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qg||(Qg={}));var qo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qo||(qo={}));var mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));const DF=Bt;let Sk=class kk{constructor(t,r={config:{}},s){var a,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,Ws.join,this.params,this.timeout),this.rejoinTimer=new jk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ws.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Nk(this),this.broadcastEndpointURL=_k(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[qo.PRESENCE]&&this.bindings[qo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(mn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(mn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,w=[];for(let x=0;x<y;x++){const j=v[x],{filter:{event:_,schema:S,table:N,filter:k}}=j,b=p&&p[x];if(b&&b.event===_&&b.schema===S&&b.table===N&&b.filter===k)w.push(Object.assign(Object.assign({},j),{id:b.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(mn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Bt.errored,t==null||t(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===Bt.joined&&t===qo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ws.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new ap(this,Ws.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ap(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Ws;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,r,s);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,v,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,v,y,w,x,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:y,commit_timestamp:w,type:x,errors:j}=g;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:j}),this._getPayloadRecords(g))}p.callback(h,s)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&kk.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ws.close,{},t)}_onError(t){this._on(Ws.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=G0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=G0(t.columns,t.old_record)),r}};const ip=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MF=[1e3,2e3,5e3,1e4],IF=1e4,FF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let LF=class{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hg,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.reconnectTimer=null,this.vsn=K0,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new CF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Kg.websocket}`,this.httpEndpoint=_k(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return _i.Connecting;case bi.open:return _i.Open;case bi.closing:return _i.Closing;default:return _i.Closed}}isConnected(){return this.connectionState()===_i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Sk(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===bi.open||this.conn.readyState===bi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ws.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([FF],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:_F};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Ws.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,o,l,c,d,u,m,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Hg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:wu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ip,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:K0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:g=>MF[g-1]||IF,this.vsn){case wk:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(g,v)=>v(JSON.parse(g));break;case NF:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const $F=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:DF,get REALTIME_LISTEN_TYPES(){return qo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Qg},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Yg},get REALTIME_SUBSCRIBE_STATES(){return mn},RealtimeChannel:Sk,RealtimeClient:LF,RealtimePresence:Nk,WebSocketFactory:yk},Symbol.toStringTag,{value:"Module"})),Ck=ld($F);class bd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ek extends bd{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bh extends bd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UF=()=>Response,Zg=e=>{if(Array.isArray(e))return e.map(r=>Zg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Zg(s)}),t},BF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),op=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VF=(e,t,r)=>pe(void 0,void 0,void 0,function*(){const s=yield UF();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new Ek(op(a),i,o))}).catch(a=>{t(new Bh(op(a),a))}):t(new Bh(op(e),e))}),WF=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(BF(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function _d(e,t,r,s,a,i){return pe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,WF(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>VF(c,l,s))})})}function Xc(e,t,r,s){return pe(this,void 0,void 0,function*(){return _d(e,"GET",t,r,s)})}function Us(e,t,r,s,a){return pe(this,void 0,void 0,function*(){return _d(e,"POST",t,s,a,r)})}function Jg(e,t,r,s,a){return pe(this,void 0,void 0,function*(){return _d(e,"PUT",t,s,a,r)})}function qF(e,t,r,s){return pe(this,void 0,void 0,function*(){return _d(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Yx(e,t,r,s,a){return pe(this,void 0,void 0,function*(){return _d(e,"DELETE",t,s,a,r)})}class HF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}var Pk;class KF{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Pk]="BlobDownloadBuilder",this.promise=null}asStream(){return new HF(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(vt(t))return{data:null,error:t};throw t}})}}Pk=Symbol.toStringTag;const GF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YF{constructor(t,r={},s,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=Gx(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,a){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Y0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield(t=="PUT"?Jg:Us)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}upload(t,r,s){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Y0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Jg(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Us(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new bd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}update(t,r,s){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return pe(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}copy(t,r,s){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return pe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Us(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return pe(this,void 0,void 0,function*(){try{const a=yield Us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Xc(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new KF(c,this.shouldThrowOnError)}info(t){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Xc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zg(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}exists(t){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s)&&s instanceof Bh){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Yx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}list(t,r,s){return pe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GF),r),{prefix:t||""});return{data:yield Us(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}listV2(t,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Us(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Tk="2.86.2",Ak={"X-Client-Info":`storage-js/${Tk}`};class QF{constructor(t,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ak),r),this.fetch=Gx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return pe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Xc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}getBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}createBucket(t){return pe(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(vt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return pe(this,void 0,void 0,function*(){try{return{data:yield Jg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(vt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Yx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ed=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ZF(e,t,r){const s=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function JF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:i,headers:o}){const l=ZF(e.baseUrl,s,a),c=await JF(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),h=m&&u?JSON.parse(u):u;if(!d.ok){const p=m?h:void 0,g=p==null?void 0:p.error;throw new ed((g==null?void 0:g.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:d.status,headers:d.headers,data:h}}}}function ju(e){return e.join("")}var e3=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ju(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ju(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ju(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ju(e.namespace)}`}),!0}catch(t){if(t instanceof ed&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ed&&r.status===409)return;throw r}}};function fo(e){return e.join("")}var t3=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ed&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ed&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},r3=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new e3(this.client,t),this.tableOps=new t3(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class Rk{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ak),r),this.fetch=Gx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}listBuckets(t){return pe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const s=r.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Xc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield Yx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}from(t){if(!zF(t))throw new bd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new r3({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>pe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Qx={"X-Client-Info":`storage-js/${Tk}`,"Content-Type":"application/json"};class Zx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gu extends Zx{constructor(t,r,s){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ok extends Zx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Xg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xg||(Xg={}));const qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s3=()=>Response,Dk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n3=e=>Array.from(new Float32Array(e)),a3=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Q0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i3=(e,t,r)=>pe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Gu(Q0(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Gu(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Gu(l,a,o))}}else t(new Ok(Q0(e),e))}),o3=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Dk(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),r)):a};function l3(e,t,r,s,a,i){return pe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,o3(t,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>i3(c,l,s))})})}function ns(e,t,r,s,a){return pe(this,void 0,void 0,function*(){return l3(e,"POST",t,s,a,r)})}class Mk{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qx),r),this.fetch=qf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return pe(this,void 0,void 0,function*(){try{return{data:(yield ns(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return pe(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Hr(s))return{data:null,error:s};throw s}})}listIndexes(t){return pe(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return pe(this,void 0,void 0,function*(){try{return{data:(yield ns(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Hr(s))return{data:null,error:s};throw s}})}}class Ik{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qx),r),this.fetch=qf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return pe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ns(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(t){return pe(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(t){return pe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ns(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(t){return pe(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return pe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ns(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class Fk{constructor(t,r={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qx),r),this.fetch=qf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:(yield ns(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return pe(this,arguments,void 0,function*(t={}){try{return{data:yield ns(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pe(this,void 0,void 0,function*(){try{return{data:(yield ns(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class Lk extends Fk{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $k(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return pe(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return pe(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return pe(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return pe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class $k extends Mk{constructor(t,r,s,a){super(t,r,a),this.vectorBucketName=s}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Uk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Uk extends Ik{constructor(t,r,s,a,i){super(t,r,i),this.vectorBucketName=s,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class c3 extends QF{constructor(t,r={},s,a){super(t,r,s,a)}from(t){return new YF(this.url,this.headers,t,this.fetch)}get vectors(){return new Lk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rk(this.url+"/iceberg",this.headers,this.fetch)}}const d3=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Rk,StorageApiError:Ek,StorageClient:c3,StorageError:bd,StorageUnknownError:Bh,StorageVectorsApiError:Gu,StorageVectorsClient:Lk,StorageVectorsError:Zx,get StorageVectorsErrorCode(){return Xg},StorageVectorsUnknownError:Ok,VectorBucketApi:Fk,VectorBucketScope:$k,VectorDataApi:Ik,VectorIndexApi:Mk,VectorIndexScope:Uk,isPlainObject:Dk,isStorageError:vt,isStorageVectorsError:Hr,normalizeToFloat32:n3,resolveFetch:qf,resolveResponse:s3,validateVectorDimension:a3},Symbol.toStringTag,{value:"Module"})),u3=ld(d3);var Bk={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.version=void 0;Hf.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Hf;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Bk);var zk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const s=(a,i,o)=>{const l=(0,e.resolveFetch)(o),c=(0,e.resolveHeadersConstructor)();return async(d,u)=>{var m;const h=(m=await i())!==null&&m!==void 0?m:a;let p=new c(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),l(d,Object.assign(Object.assign({},u),{headers:p}))}};e.fetchWithAuth=s})(zk);var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.isBrowser=void 0;oi.uuid=h3;oi.ensureTrailingSlash=Vk;oi.applySettingDefaults=m3;oi.validateSupabaseUrl=p3;function h3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function Vk(e){return e.endsWith("/")?e:e+"/"}const f3=()=>typeof window<"u";oi.isBrowser=f3;function m3(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function p3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Kf={};const Wk="2.86.2",bo=30*1e3,ev=3,lp=ev*bo,g3="http://localhost:9999",v3="supabase.auth.token",x3={"X-Client-Info":`gotrue-js/${Wk}`},tv="X-Supabase-Api-Version",qk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w3=10*60*1e3;let fl=class extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}};function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Hk=class extends fl{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}};function Kk(e){return we(e)&&e.name==="AuthApiError"}let ba=class extends fl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},aa=class extends fl{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}},zr=class extends aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Gk(e){return we(e)&&e.name==="AuthSessionMissingError"}let xi=class extends aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},lc=class extends aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},cc=class extends aa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Yk(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}let rv=class extends aa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},zh=class extends aa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Yu(e){return we(e)&&e.name==="AuthRetryableFetchError"}let sv=class extends aa{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}};function j3(e){return we(e)&&e.name==="AuthWeakPasswordError"}let Vh=class extends aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z0=` 	
\r=`.split(""),b3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Z0.length;t+=1)e[Z0[t].charCodeAt(0)]=-2;for(let t=0;t<Wh.length;t+=1)e[Wh[t].charCodeAt(0)]=t;return e})();function J0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Wh[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Wh[s]),t.queuedBits-=6}}function Qk(e,t,r){const s=b3[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function X0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{S3(o,s,r)};for(let o=0;o<e.length;o+=1)Qk(e.charCodeAt(o),a,i);return t.join("")}function _3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function N3(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}_3(s,t)}}function S3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ho(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Qk(e.charCodeAt(a),r,s);return new Uint8Array(t)}function k3(e){const t=[];return N3(e,r=>t.push(r)),new Uint8Array(t)}function Ci(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>J0(a,r,s)),J0(null,r,s),t.join("")}function C3(e){return Math.round(Date.now()/1e3)+e}function E3(){return Symbol("auth-callback")}const rr=()=>typeof window<"u"&&typeof document<"u",mi={tested:!1,writable:!1},Zk=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mi.tested)return mi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mi.tested=!0,mi.writable=!0}catch{mi.tested=!0,mi.writable=!1}return mi.writable};function P3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const Jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),T3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_o=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tr=async(e,t)=>{await e.removeItem(t)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gf.promiseConstructor=Promise;function cp(e){const t=e.split(".");if(t.length!==3)throw new Vh("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!y3.test(t[s]))throw new Vh("JWT not in base64url format");return{header:JSON.parse(X0(t[0])),payload:JSON.parse(X0(t[1])),signature:Ho(t[2]),raw:{header:t[0],payload:t[1]}}}async function A3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function R3(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function O3(e){return("0"+e.toString(16)).substr(-2)}function D3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,O3).join("")}async function M3(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function I3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await M3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(e,t,r=!1){const s=D3();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await _o(e,`${t}-code-verifier`,a);const i=await I3(s);return[i,s===i?"plain":"s256"]}const F3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L3(e){const t=e.headers.get(tv);if(!t||!t.match(F3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function U3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const B3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function po(e){if(!B3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z3(e,t){return new Proxy(e,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,a)}})}function ej(e){return JSON.parse(JSON.stringify(e))}const yi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V3=[502,503,504];async function tj(e){var t;if(!T3(e))throw new zh(yi(e),0);if(V3.includes(e.status))throw new zh(yi(e),e.status);let r;try{r=await e.json()}catch(i){throw new ba(yi(i),i)}let s;const a=L3(e);if(a&&a.getTime()>=qk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new sv(yi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sv(yi(r),e.status,r.weak_password.reasons);throw new Hk(yi(r),e.status||500,s)}const W3=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function Ne(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[tv]||(i[tv]=qk["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await q3(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function q3(e,t,r,s,a,i){const o=W3(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new zh(yi(c),0)}if(l.ok||await tj(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await tj(c)}}function Is(e){var t;let r=null;G3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=C3(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function rj(e){const t=Is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function H3(e){return{data:e,error:null}}function K3(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=ii(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sj(e){return e}function G3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qu=["global","local","others"];let Jx=class{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=Jk(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qu[0]){if(Qu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=ii(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:K3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sj});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);d[`${y}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(we(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){po(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){po(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_a})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){po(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){po(t.userId);try{const{data:r,error:s}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(t){po(t.userId),po(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sj});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);d[`${y}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(we(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(we(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}};function nj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const wi={debug:!!(globalThis&&Zk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Xk=class extends Xx{};class Y3 extends Xx{}async function eC(e,t,r){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const aj={};async function Q3(e,t,r){var s;const a=(s=aj[e])!==null&&s!==void 0?s:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new Y3(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return aj[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function Z3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function J3(e){return parseInt(e,16)}function X3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function eL(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=tC(e.address),g=u?`${u}://${s}`:s,v=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let w=`URI: ${m}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);x+=`
- ${j}`}w+=x}return`${y}
${w}`}class zt extends Error{constructor({message:t,code:r,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qh extends zt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tL({error:e,options:t}){var r,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(rC(o)){if(i.rp.id!==o)return new zt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rL({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(rC(s)){if(r.rpId!==s)return new zt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nL=new sL;function aL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=ii(e,["challenge","user","excludeCredentials"]),i=Ho(t).buffer,o=Object.assign(Object.assign({},r),{id:Ho(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Ho(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function iL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=ii(e,["challenge","allowCredentials"]),a=Ho(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ho(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function oL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ci(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ci(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ci(new Uint8Array(a.authenticatorData)),clientDataJSON:Ci(new Uint8Array(a.clientDataJSON)),signature:Ci(new Uint8Array(a.signature)),userHandle:a.userHandle?Ci(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ij(){var e,t;return!!(rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:tL({error:t,options:e})}}}async function dL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:rL({error:t,options:e})}}}const uL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const l=s[i];t(l)?s[i]=Hh(l,o):s[i]=Hh(o)}else s[i]=o}return s}function fL(e,t){return Hh(uL,e,t||{})}function mL(e,t){return Hh(hL,e,t||{})}class pL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??nL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=fL(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:m}=await cL({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=mL(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:m}=await dL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new ba("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new fl("rpId is required for WebAuthn authentication")};try{if(!ij())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new ba("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new fl("rpId is required for WebAuthn registration")};try{if(!ij())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new ba("Unexpected error in register",o)}}}}Z3();const gL={url:g3,storageKey:v3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function oj(e,t,r){return await r()}const go={};let ey=class nv{get jwks(){var t,r;return(r=(t=go[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=go[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},gL),t);if(this.storageKey=i.storageKey,this.instanceID=(r=nv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&rr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Jx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jk(i.fetch),this.lock=i.lock||oj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:rr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=eC:this.lock=oj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Zk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nj(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(rr()&&(r=P3(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),rr()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Yk(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?this._returnResult({error:r}):this._returnResult({error:new ba("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Is}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:u,password:m,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await mo(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Is})}else if("phone"in t){const{phone:u,password:m,options:h}=t;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Is})}else throw new lc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await tr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rj})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rj})}else throw new lc("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new xi;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,a,i,o,l,c,d,u,m,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:w,options:x}=t;let j;if(rr())if(typeof y=="object")j=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")j=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await j.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=tC(S[0]);let k=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!k){const C=await j.request({method:"eth_chainId"});k=J3(C)}const b={domain:_.host,address:N,statement:w,uri:_.href,version:"1",chainId:k,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=eL(b),g=await j.request({method:"personal_sign",params:[X3(p),N]})}try{const{data:v,error:y}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Is});if(y)throw y;if(!v||!v.session||!v.user){const w=new xi;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(we(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,s,a,i,o,l,c,d,u,m,h,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:x,options:j}=t;let _;if(rr())if(typeof w=="object")_=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(s=j==null?void 0:j.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((m=(u=j==null?void 0:j.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...j.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:y,error:w}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ci(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Is});if(w)throw w;if(!y||!y.session||!y.user){const x=new xi;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(we(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await pi(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Is});if(await tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Is}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new xi;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await mo(this.storage,this.storageKey));const{error:m}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new lc("You must provide either an email or phone number.")}catch(l){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,s,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await mo(this.storage,this.storageKey));const d=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:H3});return!((i=d.data)===null||i===void 0)&&i.url&&rr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new zr;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new lc("You must provide either an email or phone number and a type")}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await pi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=dp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=z3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zr}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:_a})})}catch(r){if(we(r))return Gk(r)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new zr;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await mo(this.storage,this.storageKey));const{data:d,error:u}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:_a});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zr;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=cp(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new zr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!rr())throw new cc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rv("No code detected.");const{data:x,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new cc("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const p=h-u;p*1e3<=bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const g=h-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(s){if(we(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Kk(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=E3(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await mo(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:m,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return rr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(we(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,m=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Is}),{data:h,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new xi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await tr(this.storage,`${this.storageKey}-code-verifier`),we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await R3(async a=>(a>0&&await A3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Is})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Yu(i)&&Date.now()+o-s<bo})}catch(s){if(this._debug(r,"error",s),we(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),rr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await pi(this.storage,this.storageKey);if(a&&this.userStorage){let o=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await _o(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:dp()}else if(a&&!a.user&&!a.user){const o=await pi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await tr(this.storage,this.storageKey+"-user"),await _o(this.storage,this.storageKey,a)):a.user=dp()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lp;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${lp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Yu(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Gf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),we(i)){const o={data:null,error:i};return Yu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await _o(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ej(a);await _o(this.storage,this.storageKey,i)}else{const a=ej(r);await _o(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tr(this.storage,this.storageKey),await tr(this.storage,this.storageKey+"-code-verifier"),await tr(this.storage,this.storageKey+"-user"),this.userStorage&&await tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${bo}ms, refresh threshold is ${ev} ticks`),a<=ev&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await mo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oL(t.webauthn.credential_response):lL(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:aL(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:iL(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cp(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zr});const o=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zr});const o=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new zr})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+w3>a)return s;const{data:i,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});s=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=cp(s);r!=null&&r.allowExpired||$3(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=U3(a.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,k3(`${l}.${c}`)))throw new Vh("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(we(s))return this._returnResult({data:null,error:s});throw s}}};ey.nextInstanceID={};const vL=Jx,xL=ey,yL=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:vL,AuthApiError:Hk,AuthClient:xL,AuthError:fl,AuthImplicitGrantRedirectError:cc,AuthInvalidCredentialsError:lc,AuthInvalidJwtError:Vh,AuthInvalidTokenResponseError:xi,AuthPKCEGrantCodeExchangeError:rv,AuthRetryableFetchError:zh,AuthSessionMissingError:zr,AuthUnknownError:ba,AuthWeakPasswordError:sv,CustomAuthError:aa,GoTrueAdminApi:Jx,GoTrueClient:ey,NavigatorLockAcquireTimeoutError:Xk,SIGN_OUT_SCOPES:Qu,isAuthApiError:Kk,isAuthError:we,isAuthImplicitGrantRedirectError:Yk,isAuthRetryableFetchError:Yu,isAuthSessionMissingError:Gk,isAuthWeakPasswordError:j3,lockInternals:wi,navigatorLock:eC,processLock:Q3},Symbol.toStringTag,{value:"Module"})),sC=ld(yL);Object.defineProperty(Kf,"__esModule",{value:!0});Kf.SupabaseAuthClient=void 0;const wL=sC;class jL extends wL.AuthClient{constructor(t){super(t)}}Kf.SupabaseAuthClient=jL;Object.defineProperty(Lh,"__esModule",{value:!0});const bL=ok,_L=vr,NL=Ck,SL=u3,bu=Bk,kL=zk,lj=oi,CL=Kf;let EL=class{constructor(t,r,s){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=(0,lj.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:bu.DEFAULT_DB_OPTIONS,realtime:bu.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},bu.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:bu.DEFAULT_GLOBAL_OPTIONS},u=(0,lj.applySettingDefaults)(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=(0,kL.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new _L.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new SL.StorageClient(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new bL.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:u},m,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CL.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new NL.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Lh.default=EL;(function(e){var t=uo&&uo.__createBinding||(Object.create?function(u,m,h,p){p===void 0&&(p=h);var g=Object.getOwnPropertyDescriptor(m,h);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[h]}}),Object.defineProperty(u,p,g)}:function(u,m,h,p){p===void 0&&(p=h),u[p]=m[h]}),r=uo&&uo.__exportStar||function(u,m){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(m,h)&&t(m,u,h)},s=uo&&uo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=s(Lh);r(sC,e);var i=vr;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=ok;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Ck,e);var l=Lh;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return s(l).default}});const c=(u,m,h)=>new a.default(u,m,h);e.createClient=c;function d(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const m=u.match(/^v(\d+)\./);return m?parseInt(m[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Wx);const nC=Nv(Wx),PL=Tb({__proto__:null,default:nC},[Wx]),{PostgrestError:gq,FunctionsHttpError:vq,FunctionsFetchError:xq,FunctionsRelayError:yq,FunctionsError:wq,FunctionRegion:jq,SupabaseClient:bq,createClient:TL,GoTrueAdminApi:_q,GoTrueClient:Nq,AuthAdminApi:Sq,AuthClient:kq,navigatorLock:Cq,NavigatorLockAcquireTimeoutError:Eq,lockInternals:Pq,processLock:Tq,SIGN_OUT_SCOPES:Aq,AuthError:Rq,AuthApiError:Oq,AuthUnknownError:Dq,CustomAuthError:Mq,AuthSessionMissingError:Iq,AuthInvalidTokenResponseError:Fq,AuthInvalidCredentialsError:Lq,AuthImplicitGrantRedirectError:$q,AuthPKCEGrantCodeExchangeError:Uq,AuthRetryableFetchError:Bq,AuthWeakPasswordError:zq,AuthInvalidJwtError:Vq,isAuthError:Wq,isAuthApiError:qq,isAuthSessionMissingError:Hq,isAuthImplicitGrantRedirectError:Kq,isAuthRetryableFetchError:Gq,isAuthWeakPasswordError:Yq,RealtimePresence:Qq,RealtimeChannel:Zq,RealtimeClient:Jq,REALTIME_LISTEN_TYPES:Xq,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:eH,REALTIME_PRESENCE_LISTEN_EVENTS:tH,REALTIME_SUBSCRIBE_STATES:rH,REALTIME_CHANNEL_STATES:sH}=nC||PL,AL="https://vusyqfnzogicfkkpocnq.supabase.co",RL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ1c3lxZm56b2dpY2Zra3BvY25xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMDg0NTQsImV4cCI6MjA4MDU4NDQ1NH0.jxmeHgqE2n9VAOMf6Bvf5ULkgwai_MRY2OxPQ_udj9s",O=TL(AL,RL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),aC=f.createContext(void 0);function OL({children:e}){const[t,r]=f.useState(null),[s,a]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{const{data:{subscription:u}}=O.auth.onAuthStateChange((m,h)=>{a(h),r((h==null?void 0:h.user)??null),o(!1)});return O.auth.getSession().then(({data:{session:m}})=>{a(m),r((m==null?void 0:m.user)??null),o(!1)}),()=>u.unsubscribe()},[]);const l=async(u,m,h)=>{const p=`${window.location.origin}/`,{error:g}=await O.auth.signUp({email:u,password:m,options:{emailRedirectTo:p,data:{full_name:h}}});return{error:g}},c=async(u,m)=>{const{error:h}=await O.auth.signInWithPassword({email:u,password:m});return{error:h}},d=async()=>{await O.auth.signOut()};return n.jsx(aC.Provider,{value:{user:t,session:s,loading:i,signUp:l,signIn:c,signOut:d},children:e})}function wt(){const e=f.useContext(aC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function DL(){const[e,t]=f.useState({status:"idle",coords:null,error:null}),r=f.useCallback(()=>{if(!navigator.geolocation){t({status:"error",coords:null,error:"Geolocation is not supported by your browser"});return}t(a=>({...a,status:"loading",error:null})),navigator.geolocation.getCurrentPosition(a=>{t({status:"success",coords:{lat:a.coords.latitude,lng:a.coords.longitude},error:null})},a=>{let i="Unable to retrieve your location",o="error";switch(a.code){case a.PERMISSION_DENIED:i="Location permission denied",o="denied";break;case a.POSITION_UNAVAILABLE:i="Location information unavailable";break;case a.TIMEOUT:i="Location request timed out";break}t({status:o,coords:null,error:i})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[]),s=f.useCallback(()=>{t({status:"idle",coords:null,error:null})},[]);return{...e,requestLocation:r,clearLocation:s}}function cj(e,t,r,s){const i=(r-e)*Math.PI/180,o=(s-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}const up="discover_ukhrul_service_area";function ML(){const[e,t]=f.useState([]),[r,s]=f.useState(null),[a,i]=f.useState("unknown"),[o,l]=f.useState(!0),{coords:c,status:d,requestLocation:u}=DL(),{user:m}=wt();f.useEffect(()=>{async function g(){const{data:v,error:y}=await O.from("service_areas").select("*").eq("active",!0).order("name");if(y){console.error("Error fetching service areas:",y);return}t(v||[]);const w=localStorage.getItem(up);if(w&&v){const x=v.find(j=>j.id===w);if(x){s(x),i("manual"),l(!1);return}}l(!1)}g()},[]),f.useEffect(()=>{if(c&&e.length>0&&a!=="manual"){let g=null,v=1/0;for(const y of e){const w=cj(c.lat,c.lng,Number(y.center_lat),Number(y.center_lng));w<v&&w<=Number(y.radius_km)&&(v=w,g=y)}if(g)s(g),i("auto");else if(e.length>0){for(const y of e){const w=cj(c.lat,c.lng,Number(y.center_lat),Number(y.center_lng));w<v&&(v=w,g=y)}g&&(s(g),i("auto"))}}},[c,e,a]);const h=f.useCallback(async g=>{const v=e.find(y=>y.id===g);v&&(s(v),i("manual"),localStorage.setItem(up,g),m&&await O.from("profiles").update({service_area_id:g}).eq("id",m.id))},[e,m]),p=f.useCallback(()=>{i("unknown"),localStorage.removeItem(up),u()},[u]);return{serviceAreas:e,currentArea:r,mode:a,loading:o,geoStatus:d,changeArea:h,detectLocation:p,requestLocation:u}}const iC=f.createContext(void 0);function IL({children:e}){const t=ML();return n.jsx(iC.Provider,{value:t,children:e})}function io(){const e=f.useContext(iC);if(e===void 0)throw new Error("useServiceAreaContext must be used within a ServiceAreaProvider");return e}const td=Rl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=f.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?H1:"button";return n.jsx(o,{className:W(td({variant:t,size:r,className:e})),ref:i,...a})});P.displayName="Button";var FL=f.createContext(void 0);function Nd(e){const t=f.useContext(FL);return e||t||"ltr"}var hp=0;function Yf(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dj()),document.body.insertAdjacentElement("beforeend",e[1]??dj()),hp++,()=>{hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hp--}},[])}function dj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fp="focusScope.autoFocusOnMount",mp="focusScope.autoFocusOnUnmount",uj={bubbles:!1,cancelable:!0},LL="FocusScope",Sd=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Ct(a),u=Ct(i),m=f.useRef(null),h=Ee(t,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(s){let v=function(j){if(p.paused||!l)return;const _=j.target;l.contains(_)?m.current=_:ga(m.current,{select:!0})},y=function(j){if(p.paused||!l)return;const _=j.relatedTarget;_!==null&&(l.contains(_)||ga(m.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&ga(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),x.disconnect()}}},[s,l,p.paused]),f.useEffect(()=>{if(l){fj.add(p);const v=document.activeElement;if(!l.contains(v)){const w=new CustomEvent(fp,uj);l.addEventListener(fp,d),l.dispatchEvent(w),w.defaultPrevented||($L(WL(oC(l)),{select:!0}),document.activeElement===v&&ga(l))}return()=>{l.removeEventListener(fp,d),setTimeout(()=>{const w=new CustomEvent(mp,uj);l.addEventListener(mp,u),l.dispatchEvent(w),w.defaultPrevented||ga(v??document.body,{select:!0}),l.removeEventListener(mp,u),fj.remove(p)},0)}}},[l,d,u,p]);const g=f.useCallback(v=>{if(!r&&!s||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(y&&w){const x=v.currentTarget,[j,_]=UL(x);j&&_?!v.shiftKey&&w===_?(v.preventDefault(),r&&ga(j,{select:!0})):v.shiftKey&&w===j&&(v.preventDefault(),r&&ga(_,{select:!0})):w===x&&v.preventDefault()}},[r,s,p.paused]);return n.jsx(ye.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Sd.displayName=LL;function $L(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(ga(s,{select:t}),document.activeElement!==r)return}function UL(e){const t=oC(e),r=hj(t,e),s=hj(t.reverse(),e);return[r,s]}function oC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hj(e,t){for(const r of e)if(!BL(r,{upTo:t}))return r}function BL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zL(e){return e instanceof HTMLInputElement&&"select"in e}function ga(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zL(e)&&t&&e.select()}}var fj=VL();function VL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=mj(e,t),e.unshift(t)},remove(t){var r;e=mj(e,t),(r=e[0])==null||r.resume()}}}function mj(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function WL(e){return e.filter(t=>t.tagName!=="A")}var pp="rovingFocusGroup.onEntryFocus",qL={bubbles:!1,cancelable:!0},kd="RovingFocusGroup",[av,lC,HL]=Cf(kd),[KL,Qf]=wr(kd,[HL]),[GL,YL]=KL(kd),cC=f.forwardRef((e,t)=>n.jsx(av.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(av.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(QL,{...e,ref:t})})}));cC.displayName=kd;var QL=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=f.useRef(null),p=Ee(t,h),g=Nd(i),[v,y]=Pn({prop:o,defaultProp:l??null,onChange:c,caller:kd}),[w,x]=f.useState(!1),j=Ct(d),_=lC(r),S=f.useRef(!1),[N,k]=f.useState(0);return f.useEffect(()=>{const b=h.current;if(b)return b.addEventListener(pp,j),()=>b.removeEventListener(pp,j)},[j]),n.jsx(GL,{scope:r,orientation:s,dir:g,loop:a,currentTabStopId:v,onItemFocus:f.useCallback(b=>y(b),[y]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(b=>b+1),[]),onFocusableItemRemove:f.useCallback(()=>k(b=>b-1),[]),children:n.jsx(ye.div,{tabIndex:w||N===0?-1:0,"data-orientation":s,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,b=>{const C=!S.current;if(b.target===b.currentTarget&&C&&!w){const I=new CustomEvent(pp,qL);if(b.currentTarget.dispatchEvent(I),!I.defaultPrevented){const A=_().filter(D=>D.focusable),L=A.find(D=>D.active),Z=A.find(D=>D.id===v),R=[L,Z,...A].filter(Boolean).map(D=>D.ref.current);hC(R,u)}}S.current=!1}),onBlur:ee(e.onBlur,()=>x(!1))})})}),dC="RovingFocusGroupItem",uC=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Zs(),d=i||c,u=YL(dC,r),m=u.currentTabStopId===d,h=lC(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=u;return f.useEffect(()=>{if(s)return p(),()=>g()},[s,p,g]),n.jsx(av.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(ye.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ee(e.onMouseDown,y=>{s?u.onItemFocus(d):y.preventDefault()}),onFocus:ee(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=XL(y,u.orientation,u.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const _=j.indexOf(y.currentTarget);j=u.loop?e$(j,_+1):j.slice(_+1)}setTimeout(()=>hC(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:v!=null}):o})})});uC.displayName=dC;var ZL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XL(e,t,r){const s=JL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ZL[s]}function hC(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function e$(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var fC=cC,mC=uC,t$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,_u=new WeakMap,Nu={},gp=0,pC=function(e){return e&&(e.host||pC(e.parentNode))},r$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=pC(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},s$=function(e,t,r,s){var a=r$(t,Array.isArray(e)?e:[e]);Nu[r]||(Nu[r]=new WeakMap);var i=Nu[r],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(s),g=p!==null&&p!=="false",v=(vo.get(h)||0)+1,y=(i.get(h)||0)+1;vo.set(h,v),i.set(h,y),o.push(h),v===1&&g&&_u.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return u(t),l.clear(),gp++,function(){o.forEach(function(m){var h=vo.get(m)-1,p=i.get(m)-1;vo.set(m,h),i.set(m,p),h||(_u.has(m)||m.removeAttribute(s),_u.delete(m)),p||m.removeAttribute(r)}),gp--,gp||(vo=new WeakMap,vo=new WeakMap,_u=new WeakMap,Nu={})}},Zf=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t$(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),s$(s,a,r,"aria-hidden")):function(){return null}},Zu="right-scroll-bar-position",Ju="width-before-scroll-bar",n$="with-scroll-bars-hidden",a$="--removed-body-scroll-bar-size";function vp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i$(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var o$=typeof window<"u"?f.useLayoutEffect:f.useEffect,pj=new WeakMap;function l$(e,t){var r=i$(null,function(s){return e.forEach(function(a){return vp(a,s)})});return o$(function(){var s=pj.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||vp(l,null)}),i.forEach(function(l){a.has(l)||vp(l,o)})}pj.set(r,e)},[e]),r}function c$(e){return e}function d$(e,t){t===void 0&&(t=c$);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function u$(e){e===void 0&&(e={});var t=d$(null);return t.options=ws({async:!0,ssr:!1},e),t}var gC=function(e){var t=e.sideCar,r=ii(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return f.createElement(s,ws({},r))};gC.isSideCarExport=!0;function h$(e,t){return e.useMedium(t),gC}var vC=u$(),xp=function(){},Jf=f.forwardRef(function(e,t){var r=f.useRef(null),s=f.useState({onScrollCapture:xp,onWheelCapture:xp,onTouchMoveCapture:xp}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,v=e.inert,y=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,j=e.gapMode,_=ii(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=l$([r,t]),k=ws(ws({},_),a);return f.createElement(f.Fragment,null,u&&f.createElement(S,{sideCar:vC,removeScrollBar:d,shards:m,noRelative:p,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:j}),o?f.cloneElement(f.Children.only(l),ws(ws({},k),{ref:N})):f.createElement(x,ws({},k,{className:c,ref:N}),l))});Jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jf.classNames={fullWidth:Ju,zeroRight:Zu};var f$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=f$();return t&&e.setAttribute("nonce",t),e}function p$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function g$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var v$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=m$())&&(p$(t,r),g$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},x$=function(){var e=v$();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xC=function(){var e=x$(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},y$={left:0,top:0,right:0,gap:0},yp=function(e){return parseInt(e||"",10)||0},w$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yp(r),yp(s),yp(a)]},j$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return y$;var t=w$(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},b$=xC(),Ko="data-scroll-locked",_$=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(n$,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ju,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(a$,": ").concat(l,`px;
  }
`)},gj=function(){var e=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(e)?e:0},N$=function(){f.useEffect(function(){return document.body.setAttribute(Ko,(gj()+1).toString()),function(){var e=gj()-1;e<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,e.toString())}},[])},S$=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;N$();var i=f.useMemo(function(){return j$(a)},[a]);return f.createElement(b$,{styles:_$(i,!t,a,r?"":"!important")})},iv=!1;if(typeof window<"u")try{var Su=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{iv=!1}var xo=iv?{passive:!1}:!1,k$=function(e){return e.tagName==="TEXTAREA"},yC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!k$(e)&&r[t]==="visible")},C$=function(e){return yC(e,"overflowY")},E$=function(e){return yC(e,"overflowX")},vj=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=wC(e,s);if(a){var i=jC(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},P$=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},T$=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},wC=function(e,t){return e==="v"?C$(t):E$(t)},jC=function(e,t){return e==="v"?P$(t):T$(t)},A$=function(e,t){return e==="h"&&t==="rtl"?-1:1},R$=function(e,t,r,s,a){var i=A$(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var p=jC(e,l),g=p[0],v=p[1],y=p[2],w=v-y-i*g;(g||w)&&wC(e,l)&&(m+=w,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},ku=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xj=function(e){return[e.deltaX,e.deltaY]},yj=function(e){return e&&"current"in e?e.current:e},O$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M$=0,yo=[];function I$(e){var t=f.useRef([]),r=f.useRef([0,0]),s=f.useRef(),a=f.useState(M$++)[0],i=f.useState(xC)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=Hx([e.lockRef.current],(e.shards||[]).map(yj),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=ku(v),x=r.current,j="deltaX"in v?v.deltaX:x[0]-w[0],_="deltaY"in v?v.deltaY:x[1]-w[1],S,N=v.target,k=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in v&&k==="h"&&N.type==="range")return!1;var b=vj(k,N);if(!b)return!0;if(b?S=k:(S=k==="v"?"h":"v",b=vj(k,N)),!b)return!1;if(!s.current&&"changedTouches"in v&&(j||_)&&(s.current=S),!S)return!0;var C=s.current||S;return R$(C,y,v,C==="h"?j:_,!0)},[]),c=f.useCallback(function(v){var y=v;if(!(!yo.length||yo[yo.length-1]!==i)){var w="deltaY"in y?xj(y):ku(y),x=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&O$(S.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var j=(o.current.shards||[]).map(yj).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=j.length>0?l(y,j[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),d=f.useCallback(function(v,y,w,x){var j={name:v,delta:y,target:w,should:x,shadowParent:F$(w)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),u=f.useCallback(function(v){r.current=ku(v),s.current=void 0},[]),m=f.useCallback(function(v){d(v.type,xj(v),v.target,l(v,e.lockRef.current))},[]),h=f.useCallback(function(v){d(v.type,ku(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return yo.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xo),document.addEventListener("touchmove",c,xo),document.addEventListener("touchstart",u,xo),function(){yo=yo.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,xo),document.removeEventListener("touchmove",c,xo),document.removeEventListener("touchstart",u,xo)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:D$(a)}):null,p?f.createElement(S$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function F$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const L$=h$(vC,I$);var Cd=f.forwardRef(function(e,t){return f.createElement(Jf,ws({},e,{ref:t,sideCar:L$}))});Cd.classNames=Jf.classNames;var ov=["Enter"," "],$$=["ArrowDown","PageUp","Home"],bC=["ArrowUp","PageDown","End"],U$=[...$$,...bC],B$={ltr:[...ov,"ArrowRight"],rtl:[...ov,"ArrowLeft"]},z$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ed="Menu",[rd,V$,W$]=Cf(Ed),[oo,_C]=wr(Ed,[W$,si,Qf]),Xf=si(),NC=Qf(),[q$,lo]=oo(Ed),[H$,Pd]=oo(Ed),SC=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Xf(t),[c,d]=f.useState(null),u=f.useRef(!1),m=Ct(i),h=Nd(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),n.jsx(Lx,{...l,children:n.jsx(q$,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:d,children:n.jsx(H$,{scope:t,onClose:f.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:o,children:s})})})};SC.displayName=Ed;var K$="MenuAnchor",ty=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Xf(r);return n.jsx(yd,{...a,...s,ref:t})});ty.displayName=K$;var ry="MenuPortal",[G$,kC]=oo(ry,{forceMount:void 0}),CC=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=lo(ry,t);return n.jsx(G$,{scope:t,forceMount:r,children:n.jsx(Xt,{present:r||i.open,children:n.jsx(Al,{asChild:!0,container:a,children:s})})})};CC.displayName=ry;var Ns="MenuContent",[Y$,sy]=oo(Ns),EC=f.forwardRef((e,t)=>{const r=kC(Ns,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=lo(Ns,e.__scopeMenu),o=Pd(Ns,e.__scopeMenu);return n.jsx(rd.Provider,{scope:e.__scopeMenu,children:n.jsx(Xt,{present:s||i.open,children:n.jsx(rd.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Q$,{...a,ref:t}):n.jsx(Z$,{...a,ref:t})})})})}),Q$=f.forwardRef((e,t)=>{const r=lo(Ns,e.__scopeMenu),s=f.useRef(null),a=Ee(t,s);return f.useEffect(()=>{const i=s.current;if(i)return Zf(i)},[]),n.jsx(ny,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Z$=f.forwardRef((e,t)=>{const r=lo(Ns,e.__scopeMenu);return n.jsx(ny,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),J$=Ha("MenuContent.ScrollLock"),ny=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...v}=e,y=lo(Ns,r),w=Pd(Ns,r),x=Xf(r),j=NC(r),_=V$(r),[S,N]=f.useState(null),k=f.useRef(null),b=Ee(t,k,y.onContentChange),C=f.useRef(0),I=f.useRef(""),A=f.useRef(0),L=f.useRef(null),Z=f.useRef("right"),z=f.useRef(0),R=g?Cd:f.Fragment,D=g?{as:J$,allowPinchZoom:!0}:void 0,$=M=>{var H,Le;const Q=I.current+M,oe=_().filter(Te=>!Te.disabled),de=document.activeElement,_e=(H=oe.find(Te=>Te.ref.current===de))==null?void 0:H.textValue,ge=oe.map(Te=>Te.textValue),ne=d6(ge,Q,_e),Pe=(Le=oe.find(Te=>Te.textValue===ne))==null?void 0:Le.ref.current;(function Te(ke){I.current=ke,window.clearTimeout(C.current),ke!==""&&(C.current=window.setTimeout(()=>Te(""),1e3))})(Q),Pe&&setTimeout(()=>Pe.focus())};f.useEffect(()=>()=>window.clearTimeout(C.current),[]),Yf();const E=f.useCallback(M=>{var oe,de;return Z.current===((oe=L.current)==null?void 0:oe.side)&&h6(M,(de=L.current)==null?void 0:de.area)},[]);return n.jsx(Y$,{scope:r,searchRef:I,onItemEnter:f.useCallback(M=>{E(M)&&M.preventDefault()},[E]),onItemLeave:f.useCallback(M=>{var Q;E(M)||((Q=k.current)==null||Q.focus(),N(null))},[E]),onTriggerLeave:f.useCallback(M=>{E(M)&&M.preventDefault()},[E]),pointerGraceTimerRef:A,onPointerGraceIntentChange:f.useCallback(M=>{L.current=M},[]),children:n.jsx(R,{...D,children:n.jsx(Sd,{asChild:!0,trapped:a,onMountAutoFocus:ee(i,M=>{var Q;M.preventDefault(),(Q=k.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(so,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:n.jsx(fC,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:ee(c,M=>{w.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(If,{role:"menu","aria-orientation":"vertical","data-state":WC(y.open),"data-radix-menu-content":"",dir:w.dir,...x,...v,ref:b,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,M=>{const oe=M.target.closest("[data-radix-menu-content]")===M.currentTarget,de=M.ctrlKey||M.altKey||M.metaKey,_e=M.key.length===1;oe&&(M.key==="Tab"&&M.preventDefault(),!de&&_e&&$(M.key));const ge=k.current;if(M.target!==ge||!U$.includes(M.key))return;M.preventDefault();const Pe=_().filter(H=>!H.disabled).map(H=>H.ref.current);bC.includes(M.key)&&Pe.reverse(),l6(Pe)}),onBlur:ee(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:ee(e.onPointerMove,sd(M=>{const Q=M.target,oe=z.current!==M.clientX;if(M.currentTarget.contains(Q)&&oe){const de=M.clientX>z.current?"right":"left";Z.current=de,z.current=M.clientX}}))})})})})})})});EC.displayName=Ns;var X$="MenuGroup",ay=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ye.div,{role:"group",...s,ref:t})});ay.displayName=X$;var e6="MenuLabel",PC=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ye.div,{...s,ref:t})});PC.displayName=e6;var Kh="MenuItem",wj="menu.itemSelect",em=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=f.useRef(null),o=Pd(Kh,e.__scopeMenu),l=sy(Kh,e.__scopeMenu),c=Ee(t,i),d=f.useRef(!1),u=()=>{const m=i.current;if(!r&&m){const h=new CustomEvent(wj,{bubbles:!0,cancelable:!0});m.addEventListener(wj,p=>s==null?void 0:s(p),{once:!0}),wx(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(TC,{...a,ref:c,disabled:r,onClick:ee(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),d.current=!0},onPointerUp:ee(e.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:ee(e.onKeyDown,m=>{const h=l.searchRef.current!=="";r||h&&m.key===" "||ov.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});em.displayName=Kh;var TC=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=sy(Kh,r),l=NC(r),c=f.useRef(null),d=Ee(t,c),[u,m]=f.useState(!1),[h,p]=f.useState("");return f.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),n.jsx(rd.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(mC,{asChild:!0,...l,focusable:!s,children:n.jsx(ye.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:ee(e.onPointerMove,sd(g=>{s?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,sd(g=>o.onItemLeave(g))),onFocus:ee(e.onFocus,()=>m(!0)),onBlur:ee(e.onBlur,()=>m(!1))})})})}),t6="MenuCheckboxItem",AC=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(IC,{scope:e.__scopeMenu,checked:r,children:n.jsx(em,{role:"menuitemcheckbox","aria-checked":Gh(r)?"mixed":r,...a,ref:t,"data-state":oy(r),onSelect:ee(a.onSelect,()=>s==null?void 0:s(Gh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});AC.displayName=t6;var RC="MenuRadioGroup",[r6,s6]=oo(RC,{value:void 0,onValueChange:()=>{}}),OC=f.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Ct(s);return n.jsx(r6,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(ay,{...a,ref:t})})});OC.displayName=RC;var DC="MenuRadioItem",MC=f.forwardRef((e,t)=>{const{value:r,...s}=e,a=s6(DC,e.__scopeMenu),i=r===a.value;return n.jsx(IC,{scope:e.__scopeMenu,checked:i,children:n.jsx(em,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":oy(i),onSelect:ee(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});MC.displayName=DC;var iy="MenuItemIndicator",[IC,n6]=oo(iy,{checked:!1}),FC=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=n6(iy,r);return n.jsx(Xt,{present:s||Gh(i.checked)||i.checked===!0,children:n.jsx(ye.span,{...a,ref:t,"data-state":oy(i.checked)})})});FC.displayName=iy;var a6="MenuSeparator",LC=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});LC.displayName=a6;var i6="MenuArrow",$C=f.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Xf(r);return n.jsx(Ff,{...a,...s,ref:t})});$C.displayName=i6;var o6="MenuSub",[nH,UC]=oo(o6),dc="MenuSubTrigger",BC=f.forwardRef((e,t)=>{const r=lo(dc,e.__scopeMenu),s=Pd(dc,e.__scopeMenu),a=UC(dc,e.__scopeMenu),i=sy(dc,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),n.jsx(ty,{asChild:!0,...d,children:n.jsx(TC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":WC(r.open),...e,ref:kf(t,a.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,sd(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ee(e.onPointerLeave,sd(m=>{var p,g;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(g=r.content)==null?void 0:g.dataset.side,y=v==="right",w=y?-5:5,x=h[y?"left":"right"],j=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,m=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&m.key===" "||B$[s.dir].includes(m.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),m.preventDefault())})})})});BC.displayName=dc;var zC="MenuSubContent",VC=f.forwardRef((e,t)=>{const r=kC(Ns,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=lo(Ns,e.__scopeMenu),o=Pd(Ns,e.__scopeMenu),l=UC(zC,e.__scopeMenu),c=f.useRef(null),d=Ee(t,c);return n.jsx(rd.Provider,{scope:e.__scopeMenu,children:n.jsx(Xt,{present:s||i.open,children:n.jsx(rd.Slot,{scope:e.__scopeMenu,children:n.jsx(ny,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(e.onKeyDown,u=>{var p;const m=u.currentTarget.contains(u.target),h=z$[o.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});VC.displayName=zC;function WC(e){return e?"open":"closed"}function Gh(e){return e==="indeterminate"}function oy(e){return Gh(e)?"indeterminate":e?"checked":"unchecked"}function l6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function c6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function d6(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=c6(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function u6(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,m=c.x,h=c.y;u>s!=h>s&&r<(m-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function h6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return u6(r,t)}function sd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var f6=SC,m6=ty,p6=CC,g6=EC,v6=ay,x6=PC,y6=em,w6=AC,j6=OC,b6=MC,_6=FC,N6=LC,S6=$C,k6=BC,C6=VC,tm="DropdownMenu",[E6,aH]=wr(tm,[_C]),Or=_C(),[P6,qC]=E6(tm),HC=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Or(t),d=f.useRef(null),[u,m]=Pn({prop:a,defaultProp:i??!1,onChange:o,caller:tm});return n.jsx(P6,{scope:t,triggerId:Zs(),triggerRef:d,contentId:Zs(),open:u,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(h=>!h),[m]),modal:l,children:n.jsx(f6,{...c,open:u,onOpenChange:m,dir:s,modal:l,children:r})})};HC.displayName=tm;var KC="DropdownMenuTrigger",GC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=qC(KC,r),o=Or(r);return n.jsx(m6,{asChild:!0,...o,children:n.jsx(ye.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:kf(t,i.triggerRef),onPointerDown:ee(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ee(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});GC.displayName=KC;var T6="DropdownMenuPortal",YC=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Or(t);return n.jsx(p6,{...s,...r})};YC.displayName=T6;var QC="DropdownMenuContent",ZC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=qC(QC,r),i=Or(r),o=f.useRef(!1);return n.jsx(g6,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZC.displayName=QC;var A6="DropdownMenuGroup",R6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(v6,{...a,...s,ref:t})});R6.displayName=A6;var O6="DropdownMenuLabel",JC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(x6,{...a,...s,ref:t})});JC.displayName=O6;var D6="DropdownMenuItem",XC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(y6,{...a,...s,ref:t})});XC.displayName=D6;var M6="DropdownMenuCheckboxItem",e2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(w6,{...a,...s,ref:t})});e2.displayName=M6;var I6="DropdownMenuRadioGroup",F6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(j6,{...a,...s,ref:t})});F6.displayName=I6;var L6="DropdownMenuRadioItem",t2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(b6,{...a,...s,ref:t})});t2.displayName=L6;var $6="DropdownMenuItemIndicator",r2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(_6,{...a,...s,ref:t})});r2.displayName=$6;var U6="DropdownMenuSeparator",s2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(N6,{...a,...s,ref:t})});s2.displayName=U6;var B6="DropdownMenuArrow",z6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(S6,{...a,...s,ref:t})});z6.displayName=B6;var V6="DropdownMenuSubTrigger",n2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(k6,{...a,...s,ref:t})});n2.displayName=V6;var W6="DropdownMenuSubContent",a2=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Or(r);return n.jsx(C6,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a2.displayName=W6;var q6=HC,H6=GC,K6=YC,i2=ZC,o2=JC,l2=XC,c2=e2,d2=t2,u2=r2,h2=s2,f2=n2,m2=a2;const G6=q6,Y6=H6,Q6=f.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(f2,{ref:a,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(Sn,{className:"ml-auto h-4 w-4"})]}));Q6.displayName=f2.displayName;const Z6=f.forwardRef(({className:e,...t},r)=>n.jsx(m2,{ref:r,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Z6.displayName=m2.displayName;const p2=f.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(K6,{children:n.jsx(i2,{ref:s,sideOffset:t,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));p2.displayName=i2.displayName;const lv=f.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(l2,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));lv.displayName=l2.displayName;const J6=f.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(c2,{ref:a,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(u2,{children:n.jsx(gd,{className:"h-4 w-4"})})}),t]}));J6.displayName=c2.displayName;const X6=f.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(d2,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(u2,{children:n.jsx(g4,{className:"h-2 w-2 fill-current"})})}),t]}));X6.displayName=d2.displayName;const e8=f.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(o2,{ref:s,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));e8.displayName=o2.displayName;const g2=f.forwardRef(({className:e,...t},r)=>n.jsx(h2,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));g2.displayName=h2.displayName;function on(){const{currentArea:e,serviceAreas:t,mode:r,geoStatus:s,changeArea:a,detectLocation:i}=io(),o=s==="loading";return n.jsx("div",{className:"sticky top-0 z-50 bg-secondary border-b border-border",children:n.jsxs("div",{className:"container mx-auto px-4 py-2 flex items-center justify-between",children:[n.jsxs(G6,{children:[n.jsx(Y6,{asChild:!0,children:n.jsxs(P,{variant:"ghost",size:"sm",className:"flex items-center gap-2 h-auto py-1.5",children:[o?n.jsx(ot,{className:"h-4 w-4 animate-spin text-primary"}):n.jsx(Ze,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium text-foreground",children:e?e.name:"Select Location"}),r==="auto"&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"(detected)"}),n.jsx(Tf,{className:"h-4 w-4 text-muted-foreground"})]})}),n.jsxs(p2,{align:"start",className:"w-56",children:[n.jsxs(lv,{onClick:i,className:"flex items-center gap-2",children:[n.jsx(Jn,{className:"h-4 w-4"}),n.jsx("span",{children:"Detect my location"})]}),n.jsx(g2,{}),t.map(l=>n.jsx(lv,{onClick:()=>a(l.id),className:(e==null?void 0:e.id)===l.id?"bg-accent":"",children:l.name},l.id))]})]}),s==="denied"&&n.jsx("span",{className:"text-xs text-muted-foreground",children:"Location access denied"})]})})}function Bl(){const{user:e}=wt(),[t,r]=f.useState([]),[s,a]=f.useState(!0);f.useEffect(()=>{if(!e){r([]),a(!1);return}async function u(){const{data:m,error:h}=await O.from("user_roles").select("role").eq("user_id",e.id);h?(console.error("Error fetching user roles:",h),r([])):r((m||[]).map(p=>p.role)),a(!1)}u()},[e]);const i=u=>t.includes(u),o=i("admin"),l=i("moderator")||o,c=i("business_owner"),d=i("agent");return{roles:t,loading:s,hasRole:i,isAdmin:o,isModerator:l,isBusinessOwner:c,isAgent:d}}var rm="Dialog",[v2,x2]=wr(rm),[t8,ln]=v2(rm),y2=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=Pn({prop:s,defaultProp:a??!1,onChange:i,caller:rm});return n.jsx(t8,{scope:t,triggerRef:l,contentRef:c,contentId:Zs(),titleId:Zs(),descriptionId:Zs(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(m=>!m),[u]),modal:o,children:r})};y2.displayName=rm;var w2="DialogTrigger",j2=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ln(w2,r),i=Ee(t,a.triggerRef);return n.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dy(a.open),...s,ref:i,onClick:ee(e.onClick,a.onOpenToggle)})});j2.displayName=w2;var ly="DialogPortal",[r8,b2]=v2(ly,{forceMount:void 0}),_2=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=ln(ly,t);return n.jsx(r8,{scope:t,forceMount:r,children:f.Children.map(s,o=>n.jsx(Xt,{present:r||i.open,children:n.jsx(Al,{asChild:!0,container:a,children:o})}))})};_2.displayName=ly;var Yh="DialogOverlay",N2=f.forwardRef((e,t)=>{const r=b2(Yh,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ln(Yh,e.__scopeDialog);return i.modal?n.jsx(Xt,{present:s||i.open,children:n.jsx(n8,{...a,ref:t})}):null});N2.displayName=Yh;var s8=Ha("DialogOverlay.RemoveScroll"),n8=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ln(Yh,r);return n.jsx(Cd,{as:s8,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ye.div,{"data-state":dy(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Gi="DialogContent",S2=f.forwardRef((e,t)=>{const r=b2(Gi,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=ln(Gi,e.__scopeDialog);return n.jsx(Xt,{present:s||i.open,children:i.modal?n.jsx(a8,{...a,ref:t}):n.jsx(i8,{...a,ref:t})})});S2.displayName=Gi;var a8=f.forwardRef((e,t)=>{const r=ln(Gi,e.__scopeDialog),s=f.useRef(null),a=Ee(t,r.contentRef,s);return f.useEffect(()=>{const i=s.current;if(i)return Zf(i)},[]),n.jsx(k2,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault())})}),i8=f.forwardRef((e,t)=>{const r=ln(Gi,e.__scopeDialog),s=f.useRef(!1),a=f.useRef(!1);return n.jsx(k2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),k2=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ln(Gi,r),c=f.useRef(null),d=Ee(t,c);return Yf(),n.jsxs(n.Fragment,{children:[n.jsx(Sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(so,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(l8,{titleId:l.titleId}),n.jsx(d8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cy="DialogTitle",C2=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ln(cy,r);return n.jsx(ye.h2,{id:a.titleId,...s,ref:t})});C2.displayName=cy;var E2="DialogDescription",P2=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ln(E2,r);return n.jsx(ye.p,{id:a.descriptionId,...s,ref:t})});P2.displayName=E2;var T2="DialogClose",A2=f.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=ln(T2,r);return n.jsx(ye.button,{type:"button",...s,ref:t,onClick:ee(e.onClick,()=>a.onOpenChange(!1))})});A2.displayName=T2;function dy(e){return e?"open":"closed"}var R2="DialogTitleWarning",[o8,O2]=yO(R2,{contentName:Gi,titleName:cy,docsSlug:"dialog"}),l8=({titleId:e})=>{const t=O2(R2),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},c8="DialogDescriptionWarning",d8=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O2(c8).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},uy=y2,D2=j2,hy=_2,Td=N2,Ad=S2,Rd=C2,Od=P2,sm=A2;const u8=uy,h8=D2,f8=hy,M2=f.forwardRef(({className:e,...t},r)=>n.jsx(Td,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));M2.displayName=Td.displayName;const m8=Rl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),I2=f.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(f8,{children:[n.jsx(M2,{}),n.jsxs(Ad,{ref:a,className:W(m8({side:e}),t),...s,children:[r,n.jsxs(sm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));I2.displayName=Ad.displayName;const F2=({className:e,...t})=>n.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});F2.displayName="SheetHeader";const L2=f.forwardRef(({className:e,...t},r)=>n.jsx(Rd,{ref:r,className:W("text-lg font-semibold text-foreground",e),...t}));L2.displayName=Rd.displayName;const p8=f.forwardRef(({className:e,...t},r)=>n.jsx(Od,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));p8.displayName=Od.displayName;var $2={exports:{}},U2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=f;function g8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v8=typeof Object.is=="function"?Object.is:g8,x8=ml.useState,y8=ml.useEffect,w8=ml.useLayoutEffect,j8=ml.useDebugValue;function b8(e,t){var r=t(),s=x8({inst:{value:r,getSnapshot:t}}),a=s[0].inst,i=s[1];return w8(function(){a.value=r,a.getSnapshot=t,wp(a)&&i({inst:a})},[e,r,t]),y8(function(){return wp(a)&&i({inst:a}),e(function(){wp(a)&&i({inst:a})})},[e]),j8(r),r}function wp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!v8(e,r)}catch{return!0}}function _8(e,t){return t()}var N8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_8:b8;U2.useSyncExternalStore=ml.useSyncExternalStore!==void 0?ml.useSyncExternalStore:N8;$2.exports=U2;var S8=$2.exports;function k8(){return S8.useSyncExternalStore(C8,()=>!0,()=>!1)}function C8(){return()=>{}}var fy="Avatar",[E8,iH]=wr(fy),[P8,B2]=E8(fy),z2=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=f.useState("idle");return n.jsx(P8,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ye.span,{...s,ref:t})})});z2.displayName=fy;var V2="AvatarImage",W2=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=B2(V2,r),l=T8(s,i),c=Ct(d=>{a(d),o.onImageLoadingStatusChange(d)});return Mt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ye.img,{...i,ref:t,src:s}):null});W2.displayName=V2;var q2="AvatarFallback",H2=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=B2(q2,r),[o,l]=f.useState(s===void 0);return f.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ye.span,{...a,ref:t}):null});H2.displayName=q2;function jj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T8(e,{referrerPolicy:t,crossOrigin:r}){const s=k8(),a=f.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>jj(i,e));return Mt(()=>{l(jj(i,e))},[i,e]),Mt(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var K2=z2,G2=W2,Y2=H2;const cs=f.forwardRef(({className:e,...t},r)=>n.jsx(K2,{ref:r,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cs.displayName=K2.displayName;const tn=f.forwardRef(({className:e,...t},r)=>n.jsx(G2,{ref:r,className:W("aspect-square h-full w-full",e),...t}));tn.displayName=G2.displayName;const ds=f.forwardRef(({className:e,...t},r)=>n.jsx(Y2,{ref:r,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ds.displayName=Y2.displayName;var A8="Separator",bj="horizontal",R8=["horizontal","vertical"],Q2=f.forwardRef((e,t)=>{const{decorative:r,orientation:s=bj,...a}=e,i=O8(s)?s:bj,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ye.div,{"data-orientation":i,...l,...a,ref:t})});Q2.displayName=A8;function O8(e){return R8.includes(e)}var Z2=Q2;const wn=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(Z2,{ref:a,decorative:r,orientation:t,className:W("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));wn.displayName=Z2.displayName;const D8=[{icon:_s,label:"My Profile",path:"/profile",requiresAuth:!0},{icon:Et,label:"Dropee Services",path:"/services"},{icon:Tn,label:"My Orders",path:"/orders",requiresAuth:!0},{icon:yt,label:"My Reviews",path:"/reviews",requiresAuth:!0},{icon:AN,label:"Settings",path:"/settings",requiresAuth:!0}];function M8(){var d,u,m,h,p;const{user:e,signOut:t}=wt(),{isAdmin:r,isAgent:s}=Bl(),[a,i]=f.useState(!1),o=async()=>{await t(),F.success("Signed out successfully"),i(!1)},l=((u=(d=e==null?void 0:e.user_metadata)==null?void 0:d.full_name)==null?void 0:u.split(" ").map(g=>g[0]).join("").toUpperCase())||((m=e==null?void 0:e.email)==null?void 0:m[0].toUpperCase())||"U",c=D8.filter(g=>!g.requiresAuth||g.requiresAuth&&e);return n.jsxs(u8,{open:a,onOpenChange:i,children:[n.jsx(h8,{asChild:!0,children:n.jsxs(P,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[n.jsx(EN,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Open menu"})]})}),n.jsxs(I2,{side:"right",className:"w-80 p-0",children:[n.jsx(F2,{className:"p-6 pb-4",children:n.jsx(L2,{className:"text-left",children:"Menu"})}),n.jsx("div",{className:"px-6 pb-4",children:e?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(cs,{className:"h-12 w-12",children:[n.jsx(tn,{src:(h=e.user_metadata)==null?void 0:h.avatar_url}),n.jsx(ds,{className:"bg-primary text-primary-foreground",children:l})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-foreground truncate",children:((p=e.user_metadata)==null?void 0:p.full_name)||"User"}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.email})]})]}):n.jsx(He,{to:"/auth",onClick:()=>i(!1),children:n.jsxs(P,{className:"w-full gap-2",children:[n.jsx(C4,{className:"h-4 w-4"}),"Sign In"]})})}),n.jsx(wn,{}),n.jsx("nav",{className:"py-2",children:c.map(({icon:g,label:v,path:y})=>n.jsxs(He,{to:y,onClick:()=>i(!1),className:"flex items-center justify-between px-6 py-3 hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(g,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium text-foreground",children:v})]}),n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"})]},y))}),e&&s&&n.jsxs(n.Fragment,{children:[n.jsx(wn,{}),n.jsx("nav",{className:"py-2",children:n.jsxs(He,{to:"/agent",onClick:()=>i(!1),className:"flex items-center justify-between px-6 py-3 hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Et,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium text-foreground",children:"Agent Panel"})]}),n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"})]})})]}),e&&r&&n.jsxs(n.Fragment,{children:[n.jsx(wn,{}),n.jsx("nav",{className:"py-2",children:n.jsxs(He,{to:"/admin",onClick:()=>i(!1),className:"flex items-center justify-between px-6 py-3 hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Sc,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium text-foreground",children:"Admin Panel"})]}),n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"})]})})]}),e&&n.jsxs(n.Fragment,{children:[n.jsx(wn,{}),n.jsx("div",{className:"p-6",children:n.jsxs(P,{variant:"outline",className:"w-full gap-2 text-destructive hover:text-destructive",onClick:o,children:[n.jsx(Sx,{className:"h-4 w-4"}),"Sign Out"]})})]})]})]})}const I8=[{path:"/",icon:y4,label:"Explore"},{path:"/businesses",icon:ea,label:"Shops"},{path:"/places",icon:Zn,label:"Places"},{path:"/events",icon:Rt,label:"Events"},{path:"/saved",icon:no,label:"Saved"}];function cn(){const e=ai();return n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border safe-area-bottom",children:n.jsxs("div",{className:"flex items-center justify-around h-16",children:[I8.map(({path:t,icon:r,label:s})=>{const a=e.pathname===t;return n.jsxs(He,{to:t,className:W("flex flex-col items-center justify-center flex-1 h-full transition-colors",a?"text-primary":"text-muted-foreground hover:text-foreground"),children:[n.jsx(r,{className:W("h-5 w-5",a&&"fill-current")}),n.jsx("span",{className:"text-xs mt-1 font-medium",children:s})]},t)}),n.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-2",children:[n.jsx(M8,{}),n.jsx("span",{className:"text-xs mt-0.5 font-medium text-muted-foreground",children:"More"})]})]})})}const qt=uy,F8=hy,J2=f.forwardRef(({className:e,...t},r)=>n.jsx(Td,{ref:r,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));J2.displayName=Td.displayName;const It=f.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(F8,{children:[n.jsx(J2,{}),n.jsxs(Ad,{ref:s,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(sm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=Ad.displayName;const Ft=({className:e,...t})=>n.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ft.displayName="DialogHeader";const dr=({className:e,...t})=>n.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dr.displayName="DialogFooter";const Lt=f.forwardRef(({className:e,...t},r)=>n.jsx(Rd,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));Lt.displayName=Rd.displayName;const nm=f.forwardRef(({className:e,...t},r)=>n.jsx(Od,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));nm.displayName=Od.displayName;function L8({open:e,onOpenChange:t}){const{serviceAreas:r,currentArea:s,geoStatus:a,changeArea:i,detectLocation:o}=io(),l=a==="loading";f.useEffect(()=>{s&&e&&t(!1)},[s,e,t]);const c=async d=>{await i(d),t(!1)};return n.jsx(qt,{open:e,onOpenChange:t,children:n.jsxs(It,{className:"sm:max-w-md",children:[n.jsxs(Ft,{children:[n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Ze,{className:"h-5 w-5 text-primary"}),"Select Your Area"]}),n.jsx(nm,{children:"Choose your service area to see relevant businesses, places, and events near you."})]}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs(P,{variant:"outline",className:"w-full justify-start gap-3 h-12",onClick:o,disabled:l,children:[l?n.jsx(ot,{className:"h-5 w-5 animate-spin"}):n.jsx(Jn,{className:"h-5 w-5 text-primary"}),n.jsx("span",{children:"Use my current location"})]}),a==="denied"&&n.jsx("p",{className:"text-sm text-destructive",children:"Location access was denied. Please select manually."}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"or select manually"})})]}),n.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:r.map(d=>n.jsxs(P,{variant:(s==null?void 0:s.id)===d.id?"secondary":"ghost",className:"w-full justify-start h-12",onClick:()=>c(d.id),children:[n.jsx(Ze,{className:"h-4 w-4 mr-3 text-muted-foreground"}),d.name]},d.id))})]})]})})}const G=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const We=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));We.displayName="CardHeader";const qe=f.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const pl=f.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));pl.displayName="CardDescription";const Y=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));Y.displayName="CardContent";const $8=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));$8.displayName="CardFooter";const U8=Rl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...r}){return n.jsx("div",{className:W(U8({variant:t}),e),...r})}function Dd(e){const[t,r]=f.useState([]),[s,a]=f.useState(!0),{user:i}=wt();f.useEffect(()=>{if(!i){r([]),a(!1);return}async function c(){let d=O.from("saved_items").select("*").eq("user_id",i.id);const{data:u,error:m}=await d;if(m){console.error("Error fetching saved items:",m);return}const h=(u||[]).map(p=>({...p,item_type:p.item_type}));r(h),a(!1)}c()},[i,e]);const o=f.useCallback(async(c,d)=>{if(!i)return{error:new Error("Must be logged in to save items")};const u=t.find(m=>m.item_type===c&&m.item_id===d);if(u){const{error:m}=await O.from("saved_items").delete().eq("id",u.id);return m||r(h=>h.filter(p=>p.id!==u.id)),{error:m}}else{const{data:m,error:h}=await O.from("saved_items").insert({user_id:i.id,item_type:c,item_id:d}).select().single();if(!h&&m){const p={...m,item_type:m.item_type};r(g=>[...g,p])}return{error:h}}},[i,t]),l=f.useCallback((c,d)=>t.some(u=>u.item_type===c&&u.item_id===d),[t]);return{savedItems:t,loading:s,toggleSave:o,isSaved:l}}function Yi({business:e,variant:t="default"}){const{user:r}=wt(),{isSaved:s,toggleSave:a}=Dd(),i=s("business",e.id),o=async c=>{if(c.preventDefault(),c.stopPropagation(),!r){F.error("Please sign in to save businesses");return}const{error:d}=await a("business",e.id);d?F.error("Failed to update saved items"):F.success(i?"Removed from saved":"Saved!")},l=t==="compact";return n.jsx(He,{to:`/businesses/${e.slug}`,children:n.jsxs(G,{className:"overflow-hidden hover:shadow-md transition-shadow group",children:[n.jsxs("div",{className:W("relative bg-muted",l?"h-24":"h-36"),children:[e.cover_image?n.jsx("img",{src:e.cover_image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ze,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:o,children:n.jsx(no,{className:W("h-4 w-4",i?"fill-destructive text-destructive":"text-foreground")})}),e.featured&&n.jsx(fe,{className:"absolute top-2 left-2 bg-primary text-primary-foreground",children:"Featured"})]}),n.jsxs(Y,{className:W("p-3",l&&"p-2"),children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("h3",{className:W("font-semibold text-foreground truncate",l?"text-sm":"text-base"),children:e.name}),e.verified&&n.jsx(bN,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),e.categories&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.categories.name})]}),e.review_count>0&&n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(yt,{className:"h-3.5 w-3.5 fill-primary text-primary"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:e.rating.toFixed(1)}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.review_count,")"]})]})]}),!l&&e.short_description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.short_description}),!l&&e.address&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[n.jsx(Ze,{className:"h-3 w-3"}),n.jsx("span",{className:"truncate",children:e.address})]})]})]})})}function gl({place:e,variant:t="default"}){const{user:r}=wt(),{isSaved:s,toggleSave:a}=Dd(),i=s("place",e.id),o=async d=>{if(d.preventDefault(),d.stopPropagation(),!r){F.error("Please sign in to save places");return}const{error:u}=await a("place",e.id);u?F.error("Failed to update saved items"):F.success(i?"Removed from saved":"Saved!")},l=t==="compact",c=d=>{switch(d){case"easy":return"bg-green-500/10 text-green-600";case"moderate":return"bg-yellow-500/10 text-yellow-600";case"challenging":return"bg-red-500/10 text-red-600";default:return"bg-muted text-muted-foreground"}};return n.jsx(He,{to:`/places/${e.slug}`,children:n.jsxs(G,{className:"overflow-hidden hover:shadow-md transition-shadow group",children:[n.jsxs("div",{className:W("relative bg-muted",l?"h-24":"h-36"),children:[e.cover_image?n.jsx("img",{src:e.cover_image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Zn,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:o,children:n.jsx(no,{className:W("h-4 w-4",i?"fill-destructive text-destructive":"text-foreground")})}),e.featured&&n.jsx(fe,{className:"absolute top-2 left-2 bg-primary text-primary-foreground",children:"Featured"}),!l&&e.entry_fee&&e.entry_fee>0&&n.jsxs(fe,{variant:"secondary",className:"absolute bottom-2 left-2",children:["",e.entry_fee]})]}),n.jsxs(Y,{className:W("p-3",l&&"p-2"),children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:W("font-semibold text-foreground truncate",l?"text-sm":"text-base"),children:e.name}),e.categories&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.categories.name})]}),(e.review_count??0)>0&&n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(yt,{className:"h-3.5 w-3.5 fill-primary text-primary"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:Number(e.rating).toFixed(1)}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.review_count,")"]})]})]}),!l&&e.short_description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.short_description}),!l&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.difficulty_level&&n.jsx(fe,{variant:"outline",className:W("text-xs",c(e.difficulty_level)),children:e.difficulty_level}),e.address&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(Ze,{className:"h-3 w-3"}),n.jsx("span",{className:"truncate",children:e.address})]})]})]})]})})}function Ce(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Nr(e,t){const r=Ce(e);return isNaN(t)?Jr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function rn(e,t){const r=Ce(e);if(isNaN(t))return Jr(e,NaN);if(!t)return r;const s=r.getDate(),a=Jr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const my=6048e5,B8=864e5,Cu=43200,_j=1440;let z8={};function zl(){return z8}function sn(e,t){var l,c,d,u;const r=zl(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ce(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Qi(e){return sn(e,{weekStartsOn:1})}function X2(e){const t=Ce(e),r=t.getFullYear(),s=Jr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Qi(s),i=Jr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Qi(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function vl(e){const t=Ce(e);return t.setHours(0,0,0,0),t}function xl(e){const t=Ce(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jn(e,t){const r=vl(e),s=vl(t),a=+r-xl(r),i=+s-xl(s);return Math.round((a-i)/B8)}function V8(e){const t=X2(e),r=Jr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qi(r)}function cv(e,t){const r=t*7;return Nr(e,r)}function W8(e,t){return rn(e,t*12)}function q8(e){let t;return e.forEach(function(r){const s=Ce(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function H8(e){let t;return e.forEach(r=>{const s=Ce(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Xu(e,t){const r=Ce(e),s=Ce(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function K8(e){return Jr(e,Date.now())}function Gr(e,t){const r=vl(e),s=vl(t);return+r==+s}function py(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function G8(e){if(!py(e)&&typeof e!="number")return!1;const t=Ce(e);return!isNaN(Number(t))}function yl(e,t){const r=Ce(e),s=Ce(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function Y8(e,t,r){const s=sn(e,r),a=sn(t,r),i=+s-xl(s),o=+a-xl(a);return Math.round((i-o)/my)}function Q8(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function Z8(e,t){return+Ce(e)-+Ce(t)}function J8(e){const t=Ce(e);return t.setHours(23,59,59,999),t}function am(e){const t=Ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function X8(e){const t=Ce(e);return+J8(t)==+am(t)}function eU(e,t){const r=Ce(e),s=Ce(t),a=Xu(r,s),i=Math.abs(yl(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Xu(r,s)===-a;X8(Ce(e))&&i===1&&Xu(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function tU(e,t,r){const s=Z8(e,t)/1e3;return Q8(r==null?void 0:r.roundingMethod)(s)}function Pr(e){const t=Ce(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eE(e){const t=Ce(e),r=Jr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function gy(e,t){var l,c,d,u;const r=zl(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ce(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function tE(e){return gy(e,{weekStartsOn:1})}const rU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sU=(e,t,r)=>{let s;const a=rU[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function jp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oU={date:jp({formats:nU,defaultWidth:"full"}),time:jp({formats:aU,defaultWidth:"full"}),dateTime:jp({formats:iU,defaultWidth:"full"})},lU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cU=(e,t,r,s)=>lU[e];function ec(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const dU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gU=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vU={ordinalNumber:gU,era:ec({values:dU,defaultWidth:"wide"}),quarter:ec({values:uU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ec({values:hU,defaultWidth:"wide"}),day:ec({values:fU,defaultWidth:"wide"}),dayPeriod:ec({values:mU,defaultWidth:"wide",formattingValues:pU,defaultFormattingWidth:"wide"})};function tc(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yU(l,m=>m.test(o)):xU(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function xU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function wU(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const jU=/^(\d+)(th|st|nd|rd)?/i,bU=/\d+/i,_U={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NU={any:[/^b/i,/^(a|c)/i]},SU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kU={any:[/1/i,/2/i,/3/i,/4/i]},CU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OU={ordinalNumber:wU({matchPattern:jU,parsePattern:bU,valueCallback:e=>parseInt(e,10)}),era:tc({matchPatterns:_U,defaultMatchWidth:"wide",parsePatterns:NU,defaultParseWidth:"any"}),quarter:tc({matchPatterns:SU,defaultMatchWidth:"wide",parsePatterns:kU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tc({matchPatterns:CU,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any"}),day:tc({matchPatterns:PU,defaultMatchWidth:"wide",parsePatterns:TU,defaultParseWidth:"any"}),dayPeriod:tc({matchPatterns:AU,defaultMatchWidth:"any",parsePatterns:RU,defaultParseWidth:"any"})},vy={code:"en-US",formatDistance:sU,formatLong:oU,formatRelative:cU,localize:vU,match:OU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DU(e){const t=Ce(e);return jn(t,eE(t))+1}function rE(e){const t=Ce(e),r=+Qi(t)-+V8(t);return Math.round(r/my)+1}function sE(e,t){var u,m,h,p;const r=Ce(e),s=r.getFullYear(),a=zl(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Jr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=sn(o,t),c=Jr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=sn(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function MU(e,t){var l,c,d,u;const r=zl(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=sE(e,t),i=Jr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),sn(i,t)}function nE(e,t){const r=Ce(e),s=+sn(r,t)-+MU(r,t);return Math.round(s/my)+1}function tt(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const ma={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return tt(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):tt(r+1,2)},d(e,t){return tt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return tt(e.getHours()%12||12,t.length)},H(e,t){return tt(e.getHours(),t.length)},m(e,t){return tt(e.getMinutes(),t.length)},s(e,t){return tt(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return tt(a,t.length)}},wo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nj={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return ma.y(e,t)},Y:function(e,t,r,s){const a=sE(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return tt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):tt(i,t.length)},R:function(e,t){const r=X2(e);return tt(r,t.length)},u:function(e,t){const r=e.getFullYear();return tt(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return tt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return tt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return ma.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return tt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=nE(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):tt(a,t.length)},I:function(e,t,r){const s=rE(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):tt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ma.d(e,t)},D:function(e,t,r){const s=DU(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):tt(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return tt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return tt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return tt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=wo.noon:s===0?a=wo.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=wo.evening:s>=12?a=wo.afternoon:s>=4?a=wo.morning:a=wo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ma.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ma.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):tt(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):tt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ma.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ma.s(e,t)},S:function(e,t){return ma.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return kj(s);case"XXXX":case"XX":return ji(s);case"XXXXX":case"XXX":default:return ji(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return kj(s);case"xxxx":case"xx":return ji(s);case"xxxxx":case"xxx":default:return ji(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sj(s,":");case"OOOO":default:return"GMT"+ji(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sj(s,":");case"zzzz":default:return"GMT"+ji(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return tt(s,t.length)},T:function(e,t,r){const s=e.getTime();return tt(s,t.length)}};function Sj(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+tt(i,2)}function kj(e,t){return e%60===0?(e>0?"-":"+")+tt(Math.abs(e)/60,2):ji(e,t)}function ji(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=tt(Math.trunc(s/60),2),i=tt(s%60,2);return r+a+t+i}const Cj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Cj(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Cj(s,t)).replace("{{time}}",aE(a,t))},FU={p:aE,P:IU},LU=/^D+$/,$U=/^Y+$/,UU=["D","DD","YY","YYYY"];function BU(e){return LU.test(e)}function zU(e){return $U.test(e)}function VU(e,t,r){const s=WU(e,t,r);if(console.warn(s),UU.includes(e))throw new RangeError(s)}function WU(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KU=/^'([^]*?)'?$/,GU=/''/g,YU=/[a-zA-Z]/;function Fe(e,t,r){var u,m,h,p,g,v,y,w;const s=zl(),a=(r==null?void 0:r.locale)??s.locale??vy,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((w=(y=s.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=Ce(e);if(!G8(l))throw new RangeError("Invalid time value");let c=t.match(HU).map(x=>{const j=x[0];if(j==="p"||j==="P"){const _=FU[j];return _(x,a.formatLong)}return x}).join("").match(qU).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const j=x[0];if(j==="'")return{isToken:!1,value:QU(x)};if(Nj[j])return{isToken:!0,value:x};if(j.match(YU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const j=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&zU(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&BU(j))&&VU(j,t,String(e));const _=Nj[j[0]];return _(l,j,a.localize,d)}).join("")}function QU(e){const t=e.match(KU);return t?t[1].replace(GU,"'"):e}function ZU(e,t,r){const s=zl(),a=(r==null?void 0:r.locale)??s.locale??vy,i=2520,o=Xu(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ce(t),d=Ce(e)):(c=Ce(e),d=Ce(t));const u=tU(d,c),m=(xl(d)-xl(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<_j){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Cu){const g=Math.round(h/_j);return a.formatDistance("xDays",g,l)}else if(h<Cu*2)return p=Math.round(h/Cu),a.formatDistance("aboutXMonths",p,l)}if(p=eU(d,c),p<12){const g=Math.round(h/Cu);return a.formatDistance("xMonths",g,l)}else{const g=p%12,v=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",v,l):g<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function JU(e,t){return ZU(e,K8(e),t)}function XU(e){const t=Ce(e),r=t.getFullYear(),s=t.getMonth(),a=Jr(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function eB(e){return Math.trunc(+Ce(e)/1e3)}function tB(e){const t=Ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rB(e,t){return Y8(tB(e),Pr(e),t)+1}function dv(e,t){const r=Ce(e),s=Ce(t);return r.getTime()>s.getTime()}function iE(e,t){const r=Ce(e),s=Ce(t);return+r<+s}function xy(e,t){const r=Ce(e),s=Ce(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function sB(e,t){const r=Ce(e),s=Ce(t);return r.getFullYear()===s.getFullYear()}function bp(e,t){return Nr(e,-t)}function _p(e,t){const r=Ce(e),s=r.getFullYear(),a=r.getDate(),i=Jr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=XU(i);return r.setMonth(t,Math.min(a,o)),r}function Ej(e,t){const r=Ce(e);return isNaN(+r)?Jr(e,NaN):(r.setFullYear(t),r)}function wl({event:e,variant:t="default"}){const r=new Date(e.event_date),s=r>=new Date;return t==="compact"?n.jsx(He,{to:`/events/${e.slug}`,children:n.jsxs(G,{className:"overflow-hidden hover:shadow-md transition-shadow h-full",children:[n.jsxs("div",{className:"relative h-24",children:[e.cover_image?n.jsx("img",{src:e.cover_image,alt:e.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:n.jsx(Rt,{className:"h-8 w-8 text-primary/50"})}),e.featured&&n.jsx(fe,{className:"absolute top-2 left-2 bg-accent text-accent-foreground text-xs",children:"Featured"})]}),n.jsxs(Y,{className:"p-3",children:[n.jsx("h3",{className:"font-medium text-foreground text-sm line-clamp-1",children:e.name}),n.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[n.jsx(Rt,{className:"h-3 w-3"}),n.jsx("span",{children:Fe(r,"MMM d, yyyy")})]})]})]})}):n.jsx(He,{to:`/events/${e.slug}`,children:n.jsx(G,{className:"overflow-hidden hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex gap-4 p-4",children:[n.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-primary/10 rounded-lg flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-2xl font-bold text-primary",children:Fe(r,"d")}),n.jsx("span",{className:"text-xs text-primary uppercase",children:Fe(r,"MMM")})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h3",{className:"font-semibold text-foreground line-clamp-1",children:e.name}),e.featured&&n.jsx(fe,{className:"bg-accent text-accent-foreground text-xs flex-shrink-0",children:"Featured"})]}),e.short_description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:e.short_description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.start_time&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ol,{className:"h-3 w-3"}),n.jsx("span",{children:e.start_time.slice(0,5)})]}),e.venue&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ze,{className:"h-3 w-3"}),n.jsx("span",{className:"line-clamp-1",children:e.venue})]}),e.entry_fee&&e.entry_fee>0&&n.jsxs(fe,{variant:"outline",className:"text-xs",children:["",e.entry_fee]}),!s&&n.jsx(fe,{variant:"secondary",className:"text-xs",children:"Past Event"})]})]})]})})})}const nB={featured:{icon:U4,label:"Featured",color:"bg-primary/10 text-primary"},ad:{icon:P4,label:"Sponsored",color:"bg-accent/10 text-accent-foreground"},event:{icon:Rt,label:"Event",color:"bg-secondary text-secondary-foreground"}};function yy({page:e,className:t}){const[r,s]=f.useState([]),[a,i]=f.useState(0),[o,l]=f.useState(!0);if(f.useEffect(()=>{async function v(){const{data:y,error:w}=await O.from("promotional_banners").select("*").or(`page_placement.eq.${e},page_placement.eq.all`).eq("is_active",!0).order("display_order",{ascending:!0});!w&&y&&s(y),l(!1)}v()},[e]),f.useEffect(()=>{if(r.length<=1)return;const v=setInterval(()=>{i(y=>(y+1)%r.length)},5e3);return()=>clearInterval(v)},[r.length]),o||r.length===0)return null;const c=r[a],{icon:d,label:u,color:m}=nB[c.banner_type],h=()=>{i(v=>(v-1+r.length)%r.length)},p=()=>{i(v=>(v+1)%r.length)},g=n.jsxs("div",{className:W("relative overflow-hidden rounded-lg bg-card border transition-all duration-300 hover:shadow-md",t),children:[n.jsxs("div",{className:"flex items-center gap-4 p-4",children:[c.image_url&&n.jsx("div",{className:"hidden sm:block flex-shrink-0 w-20 h-20 rounded-md overflow-hidden bg-muted",children:n.jsx("img",{src:c.image_url,alt:c.title,className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsxs("span",{className:W("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",m),children:[n.jsx(d,{className:"h-3 w-3"}),u]})}),n.jsx("h3",{className:"font-medium text-foreground truncate",children:c.title}),c.subtitle&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c.subtitle})]}),c.link_text&&n.jsx(P,{variant:"ghost",size:"sm",className:"flex-shrink-0 text-primary",children:c.link_text})]}),r.length>1&&n.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-1",children:r.map((v,y)=>n.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),i(y)},className:W("w-1.5 h-1.5 rounded-full transition-all",y===a?"bg-primary w-3":"bg-muted-foreground/30"),"aria-label":`Go to banner ${y+1}`},y))}),r.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),h()},className:"absolute left-1 top-1/2 -translate-y-1/2 p-1 rounded-full bg-background/80 hover:bg-background shadow-sm opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Previous banner",children:n.jsx(vd,{className:"h-4 w-4 text-foreground"})}),n.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),p()},className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 rounded-full bg-background/80 hover:bg-background shadow-sm opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Next banner",children:n.jsx(Sn,{className:"h-4 w-4 text-foreground"})})]})]});return c.link_url?n.jsx(He,{to:c.link_url,className:"block group",children:g}):n.jsx("div",{className:"group",children:g})}const J=f.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));J.displayName="Input";function ve({className:e,...t}){return n.jsx("div",{className:W("animate-pulse rounded-md bg-muted",e),...t})}const aB=[{icon:ea,label:"Businesses",path:"/businesses",color:"bg-primary/10 text-primary"},{icon:Zn,label:"Places",path:"/places",color:"bg-primary/10 text-primary"},{icon:Rt,label:"Events",path:"/events",color:"bg-primary/10 text-primary"},{icon:Et,label:"Dropee",path:"/services",color:"bg-primary/10 text-primary"}];function iB(){const{currentArea:e,loading:t,geoStatus:r,detectLocation:s}=io(),[a,i]=f.useState(!1),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState([]),[h,p]=f.useState(!0),[g,v]=f.useState(!0),[y,w]=f.useState(!0);return f.useEffect(()=>{!t&&!e&&r==="idle"&&s()},[t,e,r,s]),f.useEffect(()=>{(r==="denied"||r==="error")&&i(!0)},[r]),f.useEffect(()=>{async function x(){p(!0),v(!0),w(!0);let j=O.from("businesses").select(`
          id, name, slug, short_description, cover_image,
          rating, review_count, verified, featured, address,
          categories (name, color)
        `).eq("active",!0).order("featured",{ascending:!1}).order("rating",{ascending:!1}).limit(6),_=O.from("places").select(`
          id, name, slug, short_description, cover_image,
          rating, review_count, featured, address, entry_fee,
          categories (name, color)
        `).eq("active",!0).order("featured",{ascending:!1}).order("rating",{ascending:!1}).limit(4);const S=new Date().toISOString().split("T")[0];let N=O.from("events").select("id, name, slug, short_description, cover_image, event_date, start_time, venue, featured, entry_fee").eq("active",!0).gte("event_date",S).order("event_date",{ascending:!0}).limit(3);e&&(j=j.eq("service_area_id",e.id),_=_.eq("service_area_id",e.id),N=N.eq("service_area_id",e.id));const[k,b,C]=await Promise.all([j,_,N]);l(k.data||[]),d(b.data||[]),m(C.data||[]),p(!1),v(!1),w(!1)}x()},[e]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsx(L8,{open:a,onOpenChange:i}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Discover Ukhrul"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Shop, Explore & Travel Locally"})]}),n.jsx(He,{to:"/businesses",children:n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(J,{placeholder:"Search businesses, products, places...",className:"pl-10 h-12 bg-secondary border-0",readOnly:!0})]})}),n.jsx("div",{className:"grid grid-cols-4 gap-3",children:aB.map(({icon:x,label:j,path:_,color:S})=>n.jsx(He,{to:_,children:n.jsx(G,{className:"hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs(Y,{className:"p-4 flex flex-col items-center gap-2",children:[n.jsx("div",{className:`p-3 rounded-full ${S}`,children:n.jsx(x,{className:"h-5 w-5"})}),n.jsx("span",{className:"text-xs font-medium text-foreground",children:j})]})})},_))}),n.jsx(yy,{page:"explore"}),e&&n.jsx(G,{className:"bg-secondary/50 border-0",children:n.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Ze,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-foreground",children:["Showing results for ",e.name]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.radius_km,"km service radius"]})]}),n.jsx(P,{variant:"ghost",size:"sm",onClick:()=>i(!0),children:"Change"})]})}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Near You"}),n.jsx(He,{to:"/businesses",children:n.jsx(P,{variant:"link",size:"sm",className:"text-primary",children:"View all"})})]}),h?n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(x=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"h-24 w-full rounded-lg"}),n.jsx(ve,{className:"h-4 w-3/4"}),n.jsx(ve,{className:"h-3 w-1/2"})]},x))}):o.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(ea,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No businesses in this area yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different location"})]})}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.slice(0,4).map(x=>n.jsx(Yi,{business:x,variant:"compact"},x.id))})]}),o.some(x=>x.featured)&&n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Featured"}),n.jsx("div",{className:"space-y-4",children:o.filter(x=>x.featured).slice(0,2).map(x=>n.jsx(Yi,{business:x},x.id))})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Tourist Places"}),n.jsx(He,{to:"/places",children:n.jsx(P,{variant:"link",size:"sm",className:"text-primary",children:"View all"})})]}),g?n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2].map(x=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"h-24 w-full rounded-lg"}),n.jsx(ve,{className:"h-4 w-3/4"}),n.jsx(ve,{className:"h-3 w-1/2"})]},x))}):c.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(Zn,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No places in this area yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Discover waterfalls, peaks, and cultural sites"})]})}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.slice(0,4).map(x=>n.jsx(gl,{place:x,variant:"compact"},x.id))})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Upcoming Events"}),n.jsx(He,{to:"/events",children:n.jsx(P,{variant:"link",size:"sm",className:"text-primary",children:"View all"})})]}),y?n.jsx("div",{className:"space-y-4",children:[1,2].map(x=>n.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[n.jsx(ve,{className:"h-16 w-16 rounded-lg"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ve,{className:"h-5 w-3/4"}),n.jsx(ve,{className:"h-4 w-1/2"})]})]},x))}):u.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(Rt,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No upcoming events"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Check back for festivals and community events"})]})}):n.jsx("div",{className:"space-y-4",children:u.map(x=>n.jsx(wl,{event:x},x.id))})]})]}),n.jsx(cn,{})]})}var Md=e=>e.type==="checkbox",Ei=e=>e instanceof Date,Sr=e=>e==null;const oE=e=>typeof e=="object";var Ot=e=>!Sr(e)&&!Array.isArray(e)&&oE(e)&&!Ei(e),lE=e=>Ot(e)&&e.target?Md(e.target)?e.target.checked:e.target.value:e,oB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cE=(e,t)=>e.has(oB(t)),lB=e=>{const t=e.constructor&&e.constructor.prototype;return Ot(t)&&t.hasOwnProperty("isPrototypeOf")},wy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(wy&&(e instanceof Blob||s))&&(r||Ot(e)))if(t=r?[]:{},!r&&!lB(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ht(e[a]));else return e;return t}var im=e=>/^\w*$/.test(e),Pt=e=>e===void 0,jy=e=>Array.isArray(e)?e.filter(Boolean):[],by=e=>jy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,r)=>{if(!t||!Ot(e))return r;const s=(im(t)?[t]:by(t)).reduce((a,i)=>Sr(a)?a:a[i],e);return Pt(s)||s===e?Pt(e[t])?r:e[t]:s},rs=e=>typeof e=="boolean",et=(e,t,r)=>{let s=-1;const a=im(t)?[t]:by(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Ot(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Qh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_y=q.createContext(null);_y.displayName="HookFormContext";const om=()=>q.useContext(_y),cB=e=>{const{children:t,...r}=e;return q.createElement(_y.Provider,{value:r},t)};var dE=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Hs.all&&(t._proxyFormState[o]=!s||Hs.all),r&&(r[o]=!0),e[o]}});return a};const Ny=typeof window<"u"?q.useLayoutEffect:q.useEffect;function dB(e){const t=om(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=q.useState(r._formState),c=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ny(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!s&&l({...r._formState,...d})}}),[a,s,i]),q.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),q.useMemo(()=>dE(o,r,c.current,!1),[o,r])}var bn=e=>typeof e=="string",uE=(e,t,r,s,a)=>bn(e)?(s&&t.watch.add(e),le(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),le(r,i))):(s&&(t.watchAll=!0),r),uv=e=>Sr(e)||!oE(e);function Vn(e,t,r=new WeakSet){if(uv(e)||uv(t))return e===t;if(Ei(e)&&Ei(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ei(o)&&Ei(l)||Ot(o)&&Ot(l)||Array.isArray(o)&&Array.isArray(l)?!Vn(o,l,r):o!==l)return!1}}return!0}function uB(e){const t=om(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=q.useRef(a),d=q.useRef(l),u=q.useRef(void 0);d.current=l;const m=q.useMemo(()=>r._getWatch(s,c.current),[r,s]),[h,p]=q.useState(d.current?d.current(m):m);return Ny(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:g=>{if(!i){const v=uE(s,r._names,g.values||r._formValues,!1,c.current);if(d.current){const y=d.current(v);Vn(y,u.current)||(p(y),u.current=y)}else p(v)}}}),[r,i,s,o]),q.useEffect(()=>r._removeUnmounted()),h}function hB(e){const t=om(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=cE(a._names.array,r),c=q.useMemo(()=>le(a._formValues,r,le(a._defaultValues,r,o)),[a,r,o]),d=uB({control:a,name:r,defaultValue:c,exact:!0}),u=dB({control:a,name:r,exact:!0}),m=q.useRef(e),h=q.useRef(a.register(r,{...e.rules,value:d,...rs(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const p=q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(u.validatingFields,r)},error:{enumerable:!0,get:()=>le(u.errors,r)}}),[u,r]),g=q.useCallback(x=>h.current.onChange({target:{value:lE(x),name:r},type:Qh.CHANGE}),[r]),v=q.useCallback(()=>h.current.onBlur({target:{value:le(a._formValues,r),name:r},type:Qh.BLUR}),[r,a._formValues]),y=q.useCallback(x=>{const j=le(a._fields,r);j&&x&&(j._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),w=q.useMemo(()=>({name:r,value:d,...rs(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:g,onBlur:v,ref:y}),[r,s,u.disabled,g,v,y,d]);return q.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...m.current.rules,...rs(m.current.disabled)?{disabled:m.current.disabled}:{}});const j=(_,S)=>{const N=le(a._fields,_);N&&N._f&&(N._f.mount=S)};if(j(r,!0),x){const _=Ht(le(a._options.defaultValues,r));et(a._defaultValues,r,_),Pt(le(a._formValues,r))&&et(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):j(r,!1)}},[r,a,l,i]),q.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),q.useMemo(()=>({field:w,formState:u,fieldState:p}),[w,u,p])}const fB=e=>e.render(hB(e));var hE=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},kc=e=>Array.isArray(e)?e:[e],Pj=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Vr=e=>Ot(e)&&!Object.keys(e).length,Sy=e=>e.type==="file",Ks=e=>typeof e=="function",Zh=e=>{if(!wy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fE=e=>e.type==="select-multiple",ky=e=>e.type==="radio",mB=e=>ky(e)||Md(e),Np=e=>Zh(e)&&e.isConnected;function pB(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Pt(e)?s++:e[t[s++]];return e}function gB(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Ut(e,t){const r=Array.isArray(t)?t:im(t)?[t]:by(t),s=r.length===1?e:pB(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ot(s)&&Vr(s)||Array.isArray(s)&&gB(s))&&Ut(e,r.slice(0,-1)),e}var mE=e=>{for(const t in e)if(Ks(e[t]))return!0;return!1};function Jh(e,t={}){const r=Array.isArray(e);if(Ot(e)||r)for(const s in e)Array.isArray(e[s])||Ot(e[s])&&!mE(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Jh(e[s],t[s])):Sr(e[s])||(t[s]=!0);return t}function pE(e,t,r){const s=Array.isArray(e);if(Ot(e)||s)for(const a in e)Array.isArray(e[a])||Ot(e[a])&&!mE(e[a])?Pt(t)||uv(r[a])?r[a]=Array.isArray(e[a])?Jh(e[a],[]):{...Jh(e[a])}:pE(e[a],Sr(t)?{}:t[a],r[a]):r[a]=!Vn(e[a],t[a]);return r}var rc=(e,t)=>pE(e,t,Jh(t));const Tj={value:!1,isValid:!1},Aj={value:!0,isValid:!0};var gE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?Aj:{value:e[0].value,isValid:!0}:Aj:Tj}return Tj},vE=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Pt(e)?e:t?e===""?NaN:e&&+e:r&&bn(e)?new Date(e):s?s(e):e;const Rj={isValid:!1,value:null};var xE=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Rj):Rj;function Oj(e){const t=e.ref;return Sy(t)?t.files:ky(t)?xE(e.refs).value:fE(t)?[...t.selectedOptions].map(({value:r})=>r):Md(t)?gE(e.refs).value:vE(Pt(t.value)?e.ref.value:t.value,e)}var vB=(e,t,r,s)=>{const a={};for(const i of e){const o=le(t,i);o&&et(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Xh=e=>e instanceof RegExp,sc=e=>Pt(e)?e:Xh(e)?e.source:Ot(e)?Xh(e.value)?e.value.source:e.value:e,Dj=e=>({isOnSubmit:!e||e===Hs.onSubmit,isOnBlur:e===Hs.onBlur,isOnChange:e===Hs.onChange,isOnAll:e===Hs.all,isOnTouch:e===Hs.onTouched});const Mj="AsyncFunction";var xB=e=>!!e&&!!e.validate&&!!(Ks(e.validate)&&e.validate.constructor.name===Mj||Ot(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Mj)),yB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ij=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Cc=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=le(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Cc(l,t))break}else if(Ot(l)&&Cc(l,t))break}}};function Fj(e,t,r){const s=le(e,r);if(s||im(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=le(t,i),l=le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var wB=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Vr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Hs.all))},jB=(e,t,r)=>!e||!t||e===t||kc(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),bB=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,_B=(e,t)=>!jy(le(e,t)).length&&Ut(e,t),NB=(e,t,r)=>{const s=kc(le(e,r));return et(s,"root",t[r]),et(e,r,s),e},eh=e=>bn(e);function Lj(e,t,r="validate"){if(eh(e)||Array.isArray(e)&&e.every(eh)||rs(e)&&!e)return{type:r,message:eh(e)?e:"",ref:t}}var jo=e=>Ot(e)&&!Xh(e)?e:{value:e,message:""},$j=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:h,pattern:p,validate:g,name:v,valueAsNumber:y,mount:w}=e._f,x=le(r,v);if(!w||t.has(v))return{};const j=l?l[0]:o,_=L=>{a&&j.reportValidity&&(j.setCustomValidity(rs(L)?"":L||""),j.reportValidity())},S={},N=ky(o),k=Md(o),b=N||k,C=(y||Sy(o))&&Pt(o.value)&&Pt(x)||Zh(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,I=hE.bind(null,v,s,S),A=(L,Z,z,R=Fn.maxLength,D=Fn.minLength)=>{const $=L?Z:z;S[v]={type:L?R:D,message:$,ref:o,...I(L?R:D,$)}};if(i?!Array.isArray(x)||!x.length:c&&(!b&&(C||Sr(x))||rs(x)&&!x||k&&!gE(l).isValid||N&&!xE(l).isValid)){const{value:L,message:Z}=eh(c)?{value:!!c,message:c}:jo(c);if(L&&(S[v]={type:Fn.required,message:Z,ref:j,...I(Fn.required,Z)},!s))return _(Z),S}if(!C&&(!Sr(m)||!Sr(h))){let L,Z;const z=jo(h),R=jo(m);if(!Sr(x)&&!isNaN(x)){const D=o.valueAsNumber||x&&+x;Sr(z.value)||(L=D>z.value),Sr(R.value)||(Z=D<R.value)}else{const D=o.valueAsDate||new Date(x),$=Q=>new Date(new Date().toDateString()+" "+Q),E=o.type=="time",M=o.type=="week";bn(z.value)&&x&&(L=E?$(x)>$(z.value):M?x>z.value:D>new Date(z.value)),bn(R.value)&&x&&(Z=E?$(x)<$(R.value):M?x<R.value:D<new Date(R.value))}if((L||Z)&&(A(!!L,z.message,R.message,Fn.max,Fn.min),!s))return _(S[v].message),S}if((d||u)&&!C&&(bn(x)||i&&Array.isArray(x))){const L=jo(d),Z=jo(u),z=!Sr(L.value)&&x.length>+L.value,R=!Sr(Z.value)&&x.length<+Z.value;if((z||R)&&(A(z,L.message,Z.message),!s))return _(S[v].message),S}if(p&&!C&&bn(x)){const{value:L,message:Z}=jo(p);if(Xh(L)&&!x.match(L)&&(S[v]={type:Fn.pattern,message:Z,ref:o,...I(Fn.pattern,Z)},!s))return _(Z),S}if(g){if(Ks(g)){const L=await g(x,r),Z=Lj(L,j);if(Z&&(S[v]={...Z,...I(Fn.validate,Z.message)},!s))return _(Z.message),S}else if(Ot(g)){let L={};for(const Z in g){if(!Vr(L)&&!s)break;const z=Lj(await g[Z](x,r),j,Z);z&&(L={...z,...I(Z,z.message)},_(z.message),s&&(S[v]=L))}if(!Vr(L)&&(S[v]={ref:j,...L},!s))return S}}return _(!0),S};const SB={mode:Hs.onSubmit,reValidateMode:Hs.onChange,shouldFocusError:!0};function kB(e={}){let t={...SB,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ks(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Ot(t.defaultValues)||Ot(t.values)?Ht(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ht(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:Pj(),state:Pj()},p=t.criteriaMode===Hs.all,g=T=>U=>{clearTimeout(d),d=setTimeout(T,U)},v=async T=>{if(!t.disabled&&(u.isValid||m.isValid||T)){const U=t.resolver?Vr((await k()).errors):await C(s,!0);U!==r.isValid&&h.state.next({isValid:U})}},y=(T,U)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((T||Array.from(l.mount)).forEach(V=>{V&&(U?et(r.validatingFields,V,U):Ut(r.validatingFields,V))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},w=(T,U=[],V,ie,ae=!0,te=!0)=>{if(ie&&V&&!t.disabled){if(o.action=!0,te&&Array.isArray(le(s,T))){const he=V(le(s,T),ie.argA,ie.argB);ae&&et(s,T,he)}if(te&&Array.isArray(le(r.errors,T))){const he=V(le(r.errors,T),ie.argA,ie.argB);ae&&et(r.errors,T,he),_B(r.errors,T)}if((u.touchedFields||m.touchedFields)&&te&&Array.isArray(le(r.touchedFields,T))){const he=V(le(r.touchedFields,T),ie.argA,ie.argB);ae&&et(r.touchedFields,T,he)}(u.dirtyFields||m.dirtyFields)&&(r.dirtyFields=rc(a,i)),h.state.next({name:T,isDirty:A(T,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(i,T,U)},x=(T,U)=>{et(r.errors,T,U),h.state.next({errors:r.errors})},j=T=>{r.errors=T,h.state.next({errors:r.errors,isValid:!1})},_=(T,U,V,ie)=>{const ae=le(s,T);if(ae){const te=le(i,T,Pt(V)?le(a,T):V);Pt(te)||ie&&ie.defaultChecked||U?et(i,T,U?te:Oj(ae._f)):z(T,te),o.mount&&v()}},S=(T,U,V,ie,ae)=>{let te=!1,he=!1;const Ve={name:T};if(!t.disabled){if(!V||ie){(u.isDirty||m.isDirty)&&(he=r.isDirty,r.isDirty=Ve.isDirty=A(),te=he!==Ve.isDirty);const at=Vn(le(a,T),U);he=!!le(r.dirtyFields,T),at?Ut(r.dirtyFields,T):et(r.dirtyFields,T,!0),Ve.dirtyFields=r.dirtyFields,te=te||(u.dirtyFields||m.dirtyFields)&&he!==!at}if(V){const at=le(r.touchedFields,T);at||(et(r.touchedFields,T,V),Ve.touchedFields=r.touchedFields,te=te||(u.touchedFields||m.touchedFields)&&at!==V)}te&&ae&&h.state.next(Ve)}return te?Ve:{}},N=(T,U,V,ie)=>{const ae=le(r.errors,T),te=(u.isValid||m.isValid)&&rs(U)&&r.isValid!==U;if(t.delayError&&V?(c=g(()=>x(T,V)),c(t.delayError)):(clearTimeout(d),c=null,V?et(r.errors,T,V):Ut(r.errors,T)),(V?!Vn(ae,V):ae)||!Vr(ie)||te){const he={...ie,...te&&rs(U)?{isValid:U}:{},errors:r.errors,name:T};r={...r,...he},h.state.next(he)}},k=async T=>{y(T,!0);const U=await t.resolver(i,t.context,vB(T||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return y(T),U},b=async T=>{const{errors:U}=await k(T);if(T)for(const V of T){const ie=le(U,V);ie?et(r.errors,V,ie):Ut(r.errors,V)}else r.errors=U;return U},C=async(T,U,V={valid:!0})=>{for(const ie in T){const ae=T[ie];if(ae){const{_f:te,...he}=ae;if(te){const Ve=l.array.has(te.name),at=ae._f&&xB(ae._f);at&&u.validatingFields&&y([ie],!0);const Br=await $j(ae,l.disabled,i,p,t.shouldUseNativeValidation&&!U,Ve);if(at&&u.validatingFields&&y([ie]),Br[te.name]&&(V.valid=!1,U))break;!U&&(le(Br,te.name)?Ve?NB(r.errors,Br,te.name):et(r.errors,te.name,Br[te.name]):Ut(r.errors,te.name))}!Vr(he)&&await C(he,U,V)}}return V.valid},I=()=>{for(const T of l.unMount){const U=le(s,T);U&&(U._f.refs?U._f.refs.every(V=>!Np(V)):!Np(U._f.ref))&&H(T)}l.unMount=new Set},A=(T,U)=>!t.disabled&&(T&&U&&et(i,T,U),!Vn(Q(),a)),L=(T,U,V)=>uE(T,l,{...o.mount?i:Pt(U)?a:bn(T)?{[T]:U}:U},V,U),Z=T=>jy(le(o.mount?i:a,T,t.shouldUnregister?le(a,T,[]):[])),z=(T,U,V={})=>{const ie=le(s,T);let ae=U;if(ie){const te=ie._f;te&&(!te.disabled&&et(i,T,vE(U,te)),ae=Zh(te.ref)&&Sr(U)?"":U,fE(te.ref)?[...te.ref.options].forEach(he=>he.selected=ae.includes(he.value)):te.refs?Md(te.ref)?te.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(ae)?he.checked=!!ae.find(Ve=>Ve===he.value):he.checked=ae===he.value||!!ae)}):te.refs.forEach(he=>he.checked=he.value===ae):Sy(te.ref)?te.ref.value="":(te.ref.value=ae,te.ref.type||h.state.next({name:T,values:Ht(i)})))}(V.shouldDirty||V.shouldTouch)&&S(T,ae,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&M(T)},R=(T,U,V)=>{for(const ie in U){if(!U.hasOwnProperty(ie))return;const ae=U[ie],te=T+"."+ie,he=le(s,te);(l.array.has(T)||Ot(ae)||he&&!he._f)&&!Ei(ae)?R(te,ae,V):z(te,ae,V)}},D=(T,U,V={})=>{const ie=le(s,T),ae=l.array.has(T),te=Ht(U);et(i,T,te),ae?(h.array.next({name:T,values:Ht(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&V.shouldDirty&&h.state.next({name:T,dirtyFields:rc(a,i),isDirty:A(T,te)})):ie&&!ie._f&&!Sr(te)?R(T,te,V):z(T,te,V),Ij(T,l)&&h.state.next({...r,name:T}),h.state.next({name:o.mount?T:void 0,values:Ht(i)})},$=async T=>{o.mount=!0;const U=T.target;let V=U.name,ie=!0;const ae=le(s,V),te=at=>{ie=Number.isNaN(at)||Ei(at)&&isNaN(at.getTime())||Vn(at,le(i,V,at))},he=Dj(t.mode),Ve=Dj(t.reValidateMode);if(ae){let at,Br;const Dn=U.type?Oj(ae._f):lE(T),dn=T.type===Qh.BLUR||T.type===Qh.FOCUS_OUT,zd=!yB(ae._f)&&!t.resolver&&!le(r.errors,V)&&!ae._f.deps||bB(dn,le(r.touchedFields,V),r.isSubmitted,Ve,he),hi=Ij(V,l,dn);et(i,V,Dn),dn?(ae._f.onBlur&&ae._f.onBlur(T),c&&c(0)):ae._f.onChange&&ae._f.onChange(T);const un=S(V,Dn,dn),Vd=!Vr(un)||hi;if(!dn&&h.state.next({name:V,type:T.type,values:Ht(i)}),zd)return(u.isValid||m.isValid)&&(t.mode==="onBlur"?dn&&v():dn||v()),Vd&&h.state.next({name:V,...hi?{}:un});if(!dn&&hi&&h.state.next({...r}),t.resolver){const{errors:Mn}=await k([V]);if(te(Dn),ie){const jm=Fj(r.errors,s,V),Wd=Fj(Mn,s,jm.name||V);at=Wd.error,V=Wd.name,Br=Vr(Mn)}}else y([V],!0),at=(await $j(ae,l.disabled,i,p,t.shouldUseNativeValidation))[V],y([V]),te(Dn),ie&&(at?Br=!1:(u.isValid||m.isValid)&&(Br=await C(s,!0)));ie&&(ae._f.deps&&M(ae._f.deps),N(V,Br,at,un))}},E=(T,U)=>{if(le(r.errors,U)&&T.focus)return T.focus(),1},M=async(T,U={})=>{let V,ie;const ae=kc(T);if(t.resolver){const te=await b(Pt(T)?T:ae);V=Vr(te),ie=T?!ae.some(he=>le(te,he)):V}else T?(ie=(await Promise.all(ae.map(async te=>{const he=le(s,te);return await C(he&&he._f?{[te]:he}:he)}))).every(Boolean),!(!ie&&!r.isValid)&&v()):ie=V=await C(s);return h.state.next({...!bn(T)||(u.isValid||m.isValid)&&V!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:V}:{},errors:r.errors}),U.shouldFocus&&!ie&&Cc(s,E,T?ae:l.mount),ie},Q=T=>{const U={...o.mount?i:a};return Pt(T)?U:bn(T)?le(U,T):T.map(V=>le(U,V))},oe=(T,U)=>({invalid:!!le((U||r).errors,T),isDirty:!!le((U||r).dirtyFields,T),error:le((U||r).errors,T),isValidating:!!le(r.validatingFields,T),isTouched:!!le((U||r).touchedFields,T)}),de=T=>{T&&kc(T).forEach(U=>Ut(r.errors,U)),h.state.next({errors:T?r.errors:{}})},_e=(T,U,V)=>{const ie=(le(s,T,{_f:{}})._f||{}).ref,ae=le(r.errors,T)||{},{ref:te,message:he,type:Ve,...at}=ae;et(r.errors,T,{...at,...U,ref:ie}),h.state.next({name:T,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&ie&&ie.focus&&ie.focus()},ge=(T,U)=>Ks(T)?h.state.subscribe({next:V=>"values"in V&&T(L(void 0,U),V)}):L(T,U,!0),ne=T=>h.state.subscribe({next:U=>{jB(T.name,U.name,T.exact)&&wB(U,T.formState||u,ce,T.reRenderRoot)&&T.callback({values:{...i},...r,...U,defaultValues:a})}}).unsubscribe,Pe=T=>(o.mount=!0,m={...m,...T.formState},ne({...T,formState:m})),H=(T,U={})=>{for(const V of T?kc(T):l.mount)l.mount.delete(V),l.array.delete(V),U.keepValue||(Ut(s,V),Ut(i,V)),!U.keepError&&Ut(r.errors,V),!U.keepDirty&&Ut(r.dirtyFields,V),!U.keepTouched&&Ut(r.touchedFields,V),!U.keepIsValidating&&Ut(r.validatingFields,V),!t.shouldUnregister&&!U.keepDefaultValue&&Ut(a,V);h.state.next({values:Ht(i)}),h.state.next({...r,...U.keepDirty?{isDirty:A()}:{}}),!U.keepIsValid&&v()},Le=({disabled:T,name:U})=>{(rs(T)&&o.mount||T||l.disabled.has(U))&&(T?l.disabled.add(U):l.disabled.delete(U))},Te=(T,U={})=>{let V=le(s,T);const ie=rs(U.disabled)||rs(t.disabled);return et(s,T,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:T}},name:T,mount:!0,...U}}),l.mount.add(T),V?Le({disabled:rs(U.disabled)?U.disabled:t.disabled,name:T}):_(T,!0,U.value),{...ie?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:sc(U.min),max:sc(U.max),minLength:sc(U.minLength),maxLength:sc(U.maxLength),pattern:sc(U.pattern)}:{},name:T,onChange:$,onBlur:$,ref:ae=>{if(ae){Te(T,U),V=le(s,T);const te=Pt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,he=mB(te),Ve=V._f.refs||[];if(he?Ve.find(at=>at===te):te===V._f.ref)return;et(s,T,{_f:{...V._f,...he?{refs:[...Ve.filter(Np),te,...Array.isArray(le(a,T))?[{}]:[]],ref:{type:te.type,name:T}}:{ref:te}}}),_(T,!1,void 0,te)}else V=le(s,T,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(cE(l.array,T)&&o.action)&&l.unMount.add(T)}}},ke=()=>t.shouldFocusError&&Cc(s,E,l.mount),$e=T=>{rs(T)&&(h.state.next({disabled:T}),Cc(s,(U,V)=>{const ie=le(s,V);ie&&(U.disabled=ie._f.disabled||T,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ae=>{ae.disabled=ie._f.disabled||T}))},0,!1))},Be=(T,U)=>async V=>{let ie;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let ae=Ht(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:he}=await k();r.errors=te,ae=Ht(he)}else await C(s);if(l.disabled.size)for(const te of l.disabled)Ut(ae,te);if(Ut(r.errors,"root"),Vr(r.errors)){h.state.next({errors:{}});try{await T(ae,V)}catch(te){ie=te}}else U&&await U({...r.errors},V),ke(),setTimeout(ke);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},$t=(T,U={})=>{le(s,T)&&(Pt(U.defaultValue)?D(T,Ht(le(a,T))):(D(T,U.defaultValue),et(a,T,Ht(U.defaultValue))),U.keepTouched||Ut(r.touchedFields,T),U.keepDirty||(Ut(r.dirtyFields,T),r.isDirty=U.defaultValue?A(T,Ht(le(a,T))):A()),U.keepError||(Ut(r.errors,T),u.isValid&&v()),h.state.next({...r}))},er=(T,U={})=>{const V=T?Ht(T):a,ie=Ht(V),ae=Vr(T),te=ae?a:ie;if(U.keepDefaultValues||(a=V),!U.keepValues){if(U.keepDirtyValues){const he=new Set([...l.mount,...Object.keys(rc(a,i))]);for(const Ve of Array.from(he))le(r.dirtyFields,Ve)?et(te,Ve,le(i,Ve)):D(Ve,le(te,Ve))}else{if(wy&&Pt(T))for(const he of l.mount){const Ve=le(s,he);if(Ve&&Ve._f){const at=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Zh(at)){const Br=at.closest("form");if(Br){Br.reset();break}}}}if(U.keepFieldsRef)for(const he of l.mount)D(he,le(te,he));else s={}}i=t.shouldUnregister?U.keepDefaultValues?Ht(a):{}:Ht(te),h.array.next({values:{...te}}),h.state.next({values:{...te}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Vn(T,a)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:U.keepDirtyValues?U.keepDefaultValues&&i?rc(a,i):r.dirtyFields:U.keepDefaultValues&&T?rc(a,T):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ps=(T,U)=>er(Ks(T)?T(i):T,U),gs=(T,U={})=>{const V=le(s,T),ie=V&&V._f;if(ie){const ae=ie.refs?ie.refs[0]:ie.ref;ae.focus&&(ae.focus(),U.shouldSelect&&Ks(ae.select)&&ae.select())}},ce=T=>{r={...r,...T}},Ts={control:{register:Te,unregister:H,getFieldState:oe,handleSubmit:Be,setError:_e,_subscribe:ne,_runSchema:k,_focusError:ke,_getWatch:L,_getDirty:A,_setValid:v,_setFieldArray:w,_setDisabledField:Le,_setErrors:j,_getFieldArray:Z,_reset:er,_resetDefaultValues:()=>Ks(t.defaultValues)&&t.defaultValues().then(T=>{ps(T,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:$e,_subjects:h,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(T){o=T},get _defaultValues(){return a},get _names(){return l},set _names(T){l=T},get _formState(){return r},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:Pe,trigger:M,register:Te,handleSubmit:Be,watch:ge,setValue:D,getValues:Q,reset:ps,resetField:$t,clearErrors:de,unregister:H,setError:_e,setFocus:gs,getFieldState:oe};return{...Ts,formControl:Ts}}function Li(e={}){const t=q.useRef(void 0),r=q.useRef(void 0),[s,a]=q.useState({isDirty:!1,isValidating:!1,isLoading:Ks(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ks(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ks(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=kB(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,Ny(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),q.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),q.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),q.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),q.useEffect(()=>{e.values&&!Vn(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=dE(s,i),t.current}const Uj=(e,t,r)=>{if(e&&"reportValidity"in e){const s=le(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},yE=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Uj(s.ref,r,e):s.refs&&s.refs.forEach(a=>Uj(a,r,e))}},CB=(e,t)=>{t.shouldUseNativeValidation&&yE(e,t);const r={};for(const s in e){const a=le(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(EB(t.names||Object.keys(e),s)){const o=Object.assign({},le(r,s));et(o,"root",i),et(r,s,o)}else et(r,s,i)}return r},EB=(e,t)=>e.some(r=>r.startsWith(t+"."));var PB=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=hE(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},$i=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&yE({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:CB(PB(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Qe;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Qe||(Qe={}));var Bj;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Bj||(Bj={}));const xe=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ya=e=>{switch(typeof e){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(e)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(e)?xe.array:e===null?xe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?xe.promise:typeof Map<"u"&&e instanceof Map?xe.map:typeof Set<"u"&&e instanceof Set?xe.set:typeof Date<"u"&&e instanceof Date?xe.date:xe.object;default:return xe.unknown}},re=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof sa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}sa.create=e=>new sa(e);const hv=(e,t)=>{let r;switch(e.code){case re.invalid_type:e.received===xe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Qe.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${Qe.joinValues(e.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Qe.joinValues(e.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${Qe.joinValues(e.options)}, received '${e.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Qe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case re.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case re.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=t.defaultError,Qe.assertNever(e)}return{message:r}};let TB=hv;function AB(){return TB}const RB=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ue(e,t){const r=AB(),s=RB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===hv?void 0:hv].filter(a=>!!a)});e.common.issues.push(s)}class us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Ae;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return us.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Ae=Object.freeze({status:"aborted"}),uc=e=>({status:"dirty",value:e}),Es=e=>({status:"valid",value:e}),zj=e=>e.status==="aborted",Vj=e=>e.status==="dirty",jl=e=>e.status==="valid",ef=e=>typeof Promise<"u"&&e instanceof Promise;var je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(je||(je={}));class Qa{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wj=(e,t)=>{if(jl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new sa(e.common.issues);return this._error=r,this._error}}};function Ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ge{get description(){return this._def.description}_getType(t){return ya(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new us,ctx:{common:t.parent.common,data:t.data,parsedType:ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ef(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)},a=this._parseSync({data:t,path:s.path,parent:s});return Wj(s,a)}"~validate"(t){var s,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return jl(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>jl(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ya(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(ef(a)?a:Promise.resolve(a));return Wj(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:re.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Nl({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return za.create(this,this._def)}nullable(){return Sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return En.create(this)}promise(){return nf.create(this,this._def)}or(t){return rf.create([this,t],this._def)}and(t){return sf.create(this,t,this._def)}transform(t){return new Nl({...Ue(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new mv({...Ue(this._def),innerType:this,defaultValue:r,typeName:Re.ZodDefault})}brand(){return new tz({typeName:Re.ZodBranded,type:this,...Ue(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new pv({...Ue(this._def),innerType:this,catchValue:r,typeName:Re.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Cy.create(this,t)}readonly(){return gv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const OB=/^c[^\s-]{8,}$/i,DB=/^[0-9a-z]+$/,MB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,IB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,FB=/^[a-z0-9_-]{21}$/i,LB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$B=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sp;const zB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",GB=new RegExp(`^${wE}$`);function jE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function YB(e){return new RegExp(`^${jE(e)}$`)}function QB(e){let t=`${wE}T${jE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ZB(e,t){return!!((t==="v4"||!t)&&zB.test(e)||(t==="v6"||!t)&&WB.test(e))}function JB(e,t){if(!LB.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function XB(e,t){return!!((t==="v4"||!t)&&VB.test(e)||(t==="v6"||!t)&&qB.test(e))}class Ra extends Ge{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==xe.string){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:xe.string,received:i.parsedType}),Ae}const s=new us;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ue(a,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ue(a,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ue(a,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ue(a,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")UB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"email",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Sp||(Sp=new RegExp(BB,"u")),Sp.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"emoji",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")IB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"uuid",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")FB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"nanoid",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")OB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"cuid",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")DB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"cuid2",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")MB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"ulid",code:re.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ue(a,{validation:"url",code:re.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"regex",code:re.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?QB(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?GB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?YB(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{code:re.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?$B.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"duration",code:re.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?ZB(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"ip",code:re.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?JB(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"jwt",code:re.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?XB(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"cidr",code:re.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?HB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"base64",code:re.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?KB.test(t.data)||(a=this._getOrReturnCtx(t,a),ue(a,{validation:"base64url",code:re.invalid_string,message:i.message}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:re.invalid_string,...je.errToObj(s)})}_addCheck(t){return new Ra({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...je.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...je.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...je.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...je.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...je.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...je.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...je.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...je.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...je.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...je.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...je.errToObj(r)})}nonempty(t){return this.min(1,je.errToObj(t))}trim(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ra.create=e=>new Ra({checks:[],typeName:Re.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ue(e)});function ez(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class bl extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==xe.number){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:xe.number,received:i.parsedType}),Ae}let s;const a=new us;for(const i of this._def.checks)i.kind==="int"?Qe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ue(s,{code:re.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ez(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ue(s,{code:re.not_finite,message:i.message}),a.dirty()):Qe.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,je.toString(r))}setLimit(t,r,s,a){return new bl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:je.toString(a)}]})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Qe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bl.create=e=>new bl({checks:[],typeName:Re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class nd extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==xe.bigint)return this._getInvalidInput(t);let s;const a=new us;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ue(s,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Qe.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ue(r,{code:re.invalid_type,expected:xe.bigint,received:r.parsedType}),Ae}gte(t,r){return this.setLimit("min",t,!0,je.toString(r))}gt(t,r){return this.setLimit("min",t,!1,je.toString(r))}lte(t,r){return this.setLimit("max",t,!0,je.toString(r))}lt(t,r){return this.setLimit("max",t,!1,je.toString(r))}setLimit(t,r,s,a){return new nd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:je.toString(a)}]})}_addCheck(t){return new nd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:je.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}nd.create=e=>new nd({checks:[],typeName:Re.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ue(e)});class qj extends Ge{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==xe.boolean){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.boolean,received:s.parsedType}),Ae}return Es(t.data)}}qj.create=e=>new qj({typeName:Re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class tf extends Ge{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==xe.date){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_type,expected:xe.date,received:i.parsedType}),Ae}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ue(i,{code:re.invalid_date}),Ae}const s=new us;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ue(a,{code:re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ue(a,{code:re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Qe.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:je.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:je.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}tf.create=e=>new tf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Re.ZodDate,...Ue(e)});class Hj extends Ge{_parse(t){if(this._getType(t)!==xe.symbol){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.symbol,received:s.parsedType}),Ae}return Es(t.data)}}Hj.create=e=>new Hj({typeName:Re.ZodSymbol,...Ue(e)});class Kj extends Ge{_parse(t){if(this._getType(t)!==xe.undefined){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.undefined,received:s.parsedType}),Ae}return Es(t.data)}}Kj.create=e=>new Kj({typeName:Re.ZodUndefined,...Ue(e)});class Gj extends Ge{_parse(t){if(this._getType(t)!==xe.null){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.null,received:s.parsedType}),Ae}return Es(t.data)}}Gj.create=e=>new Gj({typeName:Re.ZodNull,...Ue(e)});class Yj extends Ge{constructor(){super(...arguments),this._any=!0}_parse(t){return Es(t.data)}}Yj.create=e=>new Yj({typeName:Re.ZodAny,...Ue(e)});class Qj extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Es(t.data)}}Qj.create=e=>new Qj({typeName:Re.ZodUnknown,...Ue(e)});class Za extends Ge{_parse(t){const r=this._getOrReturnCtx(t);return ue(r,{code:re.invalid_type,expected:xe.never,received:r.parsedType}),Ae}}Za.create=e=>new Za({typeName:Re.ZodNever,...Ue(e)});class Zj extends Ge{_parse(t){if(this._getType(t)!==xe.undefined){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.void,received:s.parsedType}),Ae}return Es(t.data)}}Zj.create=e=>new Zj({typeName:Re.ZodVoid,...Ue(e)});class En extends Ge{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==xe.array)return ue(r,{code:re.invalid_type,expected:xe.array,received:r.parsedType}),Ae;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ue(r,{code:o?re.too_big:re.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ue(r,{code:re.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ue(r,{code:re.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Qa(r,o,r.path,l)))).then(o=>us.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Qa(r,o,r.path,l)));return us.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new En({...this._def,minLength:{value:t,message:je.toString(r)}})}max(t,r){return new En({...this._def,maxLength:{value:t,message:je.toString(r)}})}length(t,r){return new En({...this._def,exactLength:{value:t,message:je.toString(r)}})}nonempty(t){return this.min(1,t)}}En.create=(e,t)=>new En({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Ue(t)});function No(e){if(e instanceof St){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=za.create(No(s))}return new St({...e._def,shape:()=>t})}else return e instanceof En?new En({...e._def,type:No(e.element)}):e instanceof za?za.create(No(e.unwrap())):e instanceof Sl?Sl.create(No(e.unwrap())):e instanceof Zi?Zi.create(e.items.map(t=>No(t))):e}class St extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Qe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==xe.object){const d=this._getOrReturnCtx(t);return ue(d,{code:re.invalid_type,expected:xe.object,received:d.parsedType}),Ae}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Za&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Qa(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Za){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ue(a,{code:re.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Qa(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>us.mergeObjectSync(s,d)):us.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return je.errToObj,new St({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:je.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(t){return new St({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new St({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Re.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new St({...this._def,catchall:t})}pick(t){const r={};for(const s of Qe.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new St({...this._def,shape:()=>r})}omit(t){const r={};for(const s of Qe.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new St({...this._def,shape:()=>r})}deepPartial(){return No(this)}partial(t){const r={};for(const s of Qe.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new St({...this._def,shape:()=>r})}required(t){const r={};for(const s of Qe.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof za;)i=i._def.innerType;r[s]=i}return new St({...this._def,shape:()=>r})}keyof(){return bE(Qe.objectKeys(this.shape))}}St.create=(e,t)=>new St({shape:()=>e,unknownKeys:"strip",catchall:Za.create(),typeName:Re.ZodObject,...Ue(t)});St.strictCreate=(e,t)=>new St({shape:()=>e,unknownKeys:"strict",catchall:Za.create(),typeName:Re.ZodObject,...Ue(t)});St.lazycreate=(e,t)=>new St({shape:e,unknownKeys:"strip",catchall:Za.create(),typeName:Re.ZodObject,...Ue(t)});class rf extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new sa(l.ctx.common.issues));return ue(r,{code:re.invalid_union,unionErrors:o}),Ae}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new sa(c));return ue(r,{code:re.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}rf.create=(e,t)=>new rf({options:e,typeName:Re.ZodUnion,...Ue(t)});function fv(e,t){const r=ya(e),s=ya(t);if(e===t)return{valid:!0,data:e};if(r===xe.object&&s===xe.object){const a=Qe.objectKeys(t),i=Qe.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=fv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===xe.array&&s===xe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=fv(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===xe.date&&s===xe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class sf extends Ge{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(zj(i)||zj(o))return Ae;const l=fv(i.value,o.value);return l.valid?((Vj(i)||Vj(o))&&r.dirty(),{status:r.value,value:l.data}):(ue(s,{code:re.invalid_intersection_types}),Ae)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}sf.create=(e,t,r)=>new sf({left:e,right:t,typeName:Re.ZodIntersection,...Ue(r)});class Zi extends Ge{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==xe.array)return ue(s,{code:re.invalid_type,expected:xe.array,received:s.parsedType}),Ae;if(s.data.length<this._def.items.length)return ue(s,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&s.data.length>this._def.items.length&&(ue(s,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Qa(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>us.mergeArray(r,o)):us.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Zi({...this._def,rest:t})}}Zi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zi({items:e,typeName:Re.ZodTuple,rest:null,...Ue(t)})};class Jj extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==xe.map)return ue(s,{code:re.invalid_type,expected:xe.map,received:s.parsedType}),Ae;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Qa(s,l,s.path,[d,"key"])),value:i._parse(new Qa(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}Jj.create=(e,t,r)=>new Jj({valueType:t,keyType:e,typeName:Re.ZodMap,...Ue(r)});class ad extends Ge{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==xe.set)return ue(s,{code:re.invalid_type,expected:xe.set,received:s.parsedType}),Ae;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ue(s,{code:re.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ue(s,{code:re.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Ae;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Qa(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ad({...this._def,minSize:{value:t,message:je.toString(r)}})}max(t,r){return new ad({...this._def,maxSize:{value:t,message:je.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ad.create=(e,t)=>new ad({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...Ue(t)});class Xj extends Ge{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Xj.create=(e,t)=>new Xj({getter:e,typeName:Re.ZodLazy,...Ue(t)});class eb extends Ge{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ue(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}eb.create=(e,t)=>new eb({value:e,typeName:Re.ZodLiteral,...Ue(t)});function bE(e,t){return new _l({values:e,typeName:Re.ZodEnum,...Ue(t)})}class _l extends Ge{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ue(r,{expected:Qe.joinValues(s),received:r.parsedType,code:re.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ue(r,{received:r.data,code:re.invalid_enum_value,options:s}),Ae}return Es(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return _l.create(t,{...this._def,...r})}exclude(t,r=this._def){return _l.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}_l.create=bE;class tb extends Ge{_parse(t){const r=Qe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==xe.string&&s.parsedType!==xe.number){const a=Qe.objectValues(r);return ue(s,{expected:Qe.joinValues(a),received:s.parsedType,code:re.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Qe.objectValues(r);return ue(s,{received:s.data,code:re.invalid_enum_value,options:a}),Ae}return Es(t.data)}get enum(){return this._def.values}}tb.create=(e,t)=>new tb({values:e,typeName:Re.ZodNativeEnum,...Ue(t)});class nf extends Ge{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.promise&&r.common.async===!1)return ue(r,{code:re.invalid_type,expected:xe.promise,received:r.parsedType}),Ae;const s=r.parsedType===xe.promise?r.data:Promise.resolve(r.data);return Es(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nf.create=(e,t)=>new nf({type:e,typeName:Re.ZodPromise,...Ue(t)});class Nl extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ue(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Ae:c.status==="dirty"||r.value==="dirty"?uc(c.value):c});{if(r.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Ae:l.status==="dirty"||r.value==="dirty"?uc(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!jl(o))return Ae;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>jl(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ae);Qe.assertNever(a)}}Nl.create=(e,t,r)=>new Nl({schema:e,typeName:Re.ZodEffects,effect:t,...Ue(r)});Nl.createWithPreprocess=(e,t,r)=>new Nl({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...Ue(r)});class za extends Ge{_parse(t){return this._getType(t)===xe.undefined?Es(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}za.create=(e,t)=>new za({innerType:e,typeName:Re.ZodOptional,...Ue(t)});class Sl extends Ge{_parse(t){return this._getType(t)===xe.null?Es(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sl.create=(e,t)=>new Sl({innerType:e,typeName:Re.ZodNullable,...Ue(t)});class mv extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===xe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}mv.create=(e,t)=>new mv({innerType:e,typeName:Re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ue(t)});class pv extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return ef(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sa(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new sa(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}pv.create=(e,t)=>new pv({innerType:e,typeName:Re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ue(t)});class rb extends Ge{_parse(t){if(this._getType(t)!==xe.nan){const s=this._getOrReturnCtx(t);return ue(s,{code:re.invalid_type,expected:xe.nan,received:s.parsedType}),Ae}return{status:"valid",value:t.data}}}rb.create=e=>new rb({typeName:Re.ZodNaN,...Ue(e)});class tz extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Cy extends Ge{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Ae:i.status==="dirty"?(r.dirty(),uc(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ae:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new Cy({in:t,out:r,typeName:Re.ZodPipeline})}}class gv extends Ge{_parse(t){const r=this._def.innerType._parse(t),s=a=>(jl(a)&&(a.value=Object.freeze(a.value)),a);return ef(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}gv.create=(e,t)=>new gv({innerType:e,typeName:Re.ZodReadonly,...Ue(t)});St.lazycreate;var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));const Cr=Ra.create,rz=bl.create;Za.create;const sz=En.create,co=St.create;St.strictCreate;rf.create;sf.create;Zi.create;_l.create;nf.create;za.create;Sl.create;var nz="Label",_E=f.forwardRef((e,t)=>n.jsx(ye.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_E.displayName=nz;var NE=_E;const az=Rl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=f.forwardRef(({className:e,...t},r)=>n.jsx(NE,{ref:r,className:W(az(),e),...t}));B.displayName=NE.displayName;const Ui=cB,SE=f.createContext({}),pr=({...e})=>n.jsx(SE.Provider,{value:{name:e.name},children:n.jsx(fB,{...e})}),lm=()=>{const e=f.useContext(SE),t=f.useContext(kE),{getFieldState:r,formState:s}=om(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},kE=f.createContext({}),nr=f.forwardRef(({className:e,...t},r)=>{const s=f.useId();return n.jsx(kE.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:W("space-y-2",e),...t})})});nr.displayName="FormItem";const ar=f.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=lm();return n.jsx(B,{ref:r,className:W(s&&"text-destructive",e),htmlFor:a,...t})});ar.displayName="FormLabel";const ir=f.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=lm();return n.jsx(H1,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});ir.displayName="FormControl";const iz=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=lm();return n.jsx("p",{ref:r,id:s,className:W("text-sm text-muted-foreground",e),...t})});iz.displayName="FormDescription";const or=f.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=lm(),o=a?String(a==null?void 0:a.message):t;return o?n.jsx("p",{ref:s,id:i,className:W("text-sm font-medium text-destructive",e),...r,children:o}):null});or.displayName="FormMessage";var cm="Tabs",[oz,oH]=wr(cm,[Qf]),CE=Qf(),[lz,Ey]=oz(cm),EE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Nd(l),[m,h]=Pn({prop:s,onChange:a,defaultProp:i??"",caller:cm});return n.jsx(lz,{scope:r,baseId:Zs(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:n.jsx(ye.div,{dir:u,"data-orientation":o,...d,ref:t})})});EE.displayName=cm;var PE="TabsList",TE=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Ey(PE,r),o=CE(r);return n.jsx(fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});TE.displayName=PE;var AE="TabsTrigger",RE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Ey(AE,r),l=CE(r),c=ME(o.baseId,s),d=IE(o.baseId,s),u=s===o.value;return n.jsx(mC,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ee(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:ee(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:ee(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!a&&m&&o.onValueChange(s)})})})});RE.displayName=AE;var OE="TabsContent",DE=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=Ey(OE,r),c=ME(l.baseId,s),d=IE(l.baseId,s),u=s===l.value,m=f.useRef(u);return f.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Xt,{present:a||u,children:({present:h})=>n.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});DE.displayName=OE;function ME(e,t){return`${e}-trigger-${t}`}function IE(e,t){return`${e}-content-${t}`}var cz=EE,FE=TE,LE=RE,$E=DE;const li=cz,ia=f.forwardRef(({className:e,...t},r)=>n.jsx(FE,{ref:r,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ia.displayName=FE.displayName;const pt=f.forwardRef(({className:e,...t},r)=>n.jsx(LE,{ref:r,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));pt.displayName=LE.displayName;const xr=f.forwardRef(({className:e,...t},r)=>n.jsx($E,{ref:r,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xr.displayName=$E.displayName;const dz=co({email:Cr().email("Please enter a valid email"),password:Cr().min(6,"Password must be at least 6 characters")}),uz=co({fullName:Cr().min(2,"Name must be at least 2 characters"),email:Cr().email("Please enter a valid email"),password:Cr().min(6,"Password must be at least 6 characters"),confirmPassword:Cr()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),hz=co({email:Cr().email("Please enter a valid email")});function fz(){const e=Qt(),{user:t,signIn:r,signUp:s,loading:a}=wt(),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!1),m=Li({resolver:$i(dz),defaultValues:{email:"",password:""}}),h=Li({resolver:$i(uz),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}}),p=Li({resolver:$i(hz),defaultValues:{email:""}});f.useEffect(()=>{(async()=>{if(t&&!a){const{data:x}=await O.rpc("get_user_roles",{_user_id:t.id});x&&x.includes("admin")?e("/admin"):e("/")}})()},[t,a,e]);const g=async w=>{o(!0);const{error:x}=await r(w.email,w.password);if(o(!1),x){x.message.includes("Invalid login credentials")?F.error("Invalid email or password"):F.error(x.message);return}F.success("Welcome back!")},v=async w=>{o(!0);const{error:x}=await s(w.email,w.password,w.fullName);if(o(!1),x){x.message.includes("already registered")?F.error("This email is already registered. Please sign in."):F.error(x.message);return}F.success("Account created successfully!")},y=async w=>{o(!0);const{error:x}=await O.auth.resetPasswordForEmail(w.email,{redirectTo:`${window.location.origin}/reset-password`});if(o(!1),x){F.error(x.message);return}u(!0),F.success("Password reset email sent!")};return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):l?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:n.jsx(Ze,{className:"h-5 w-5 text-primary-foreground"})}),n.jsx("span",{className:"text-2xl font-semibold text-foreground",children:"Discover Ukhrul"})]}),n.jsxs(G,{className:"w-full max-w-md",children:[n.jsxs(We,{className:"text-center",children:[n.jsx(qe,{className:"text-2xl",children:"Reset Password"}),n.jsx(pl,{children:d?"Check your email for a reset link":"Enter your email to receive a password reset link"})]}),n.jsx(Y,{children:d?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"We've sent a password reset link to your email. Please check your inbox."}),n.jsx(P,{variant:"outline",className:"w-full",onClick:()=>{c(!1),u(!1)},children:"Back to Sign In"})]}):n.jsx(Ui,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(y),className:"space-y-4",children:[n.jsx(pr,{control:p.control,name:"email",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Email"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"you@example.com",type:"email",...w})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",className:"w-full",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),n.jsxs(P,{type:"button",variant:"ghost",className:"w-full",onClick:()=>c(!1),children:[n.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})})})]})]}):n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:n.jsx(Ze,{className:"h-5 w-5 text-primary-foreground"})}),n.jsx("span",{className:"text-2xl font-semibold text-foreground",children:"Discover Ukhrul"})]}),n.jsxs(G,{className:"w-full max-w-md",children:[n.jsxs(We,{className:"text-center",children:[n.jsx(qe,{className:"text-2xl",children:"Welcome"}),n.jsx(pl,{children:"Sign in to explore Ukhrul's businesses, places, and events"})]}),n.jsx(Y,{children:n.jsxs(li,{defaultValue:"signin",className:"w-full",children:[n.jsxs(ia,{className:"grid w-full grid-cols-2",children:[n.jsx(pt,{value:"signin",children:"Sign In"}),n.jsx(pt,{value:"signup",children:"Sign Up"})]}),n.jsx(xr,{value:"signin",className:"mt-6",children:n.jsx(Ui,{...m,children:n.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-4",children:[n.jsx(pr,{control:m.control,name:"email",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Email"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"you@example.com",type:"email",...w})}),n.jsx(or,{})]})}),n.jsx(pr,{control:m.control,name:"password",render:({field:w})=>n.jsxs(nr,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ar,{children:"Password"}),n.jsx(P,{type:"button",variant:"link",className:"px-0 h-auto font-normal text-xs",onClick:()=>c(!0),children:"Forgot password?"})]}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...w})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",className:"w-full",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})}),n.jsx(xr,{value:"signup",className:"mt-6",children:n.jsx(Ui,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[n.jsx(pr,{control:h.control,name:"fullName",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Full Name"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"John Doe",...w})}),n.jsx(or,{})]})}),n.jsx(pr,{control:h.control,name:"email",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Email"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"you@example.com",type:"email",...w})}),n.jsx(or,{})]})}),n.jsx(pr,{control:h.control,name:"password",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...w})}),n.jsx(or,{})]})}),n.jsx(pr,{control:h.control,name:"confirmPassword",render:({field:w})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Confirm Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...w})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",className:"w-full",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})})})]})})]}),n.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Shop, Explore & Travel Locally"})]})}const mz=co({password:Cr().min(6,"Password must be at least 6 characters"),confirmPassword:Cr()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function pz(){const e=Qt(),[t]=MS(),[r,s]=f.useState(!1),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!0),u=Li({resolver:$i(mz),defaultValues:{password:"",confirmPassword:""}});f.useEffect(()=>{(async()=>{const{data:{session:g}}=await O.auth.getSession(),y=new URLSearchParams(window.location.hash.substring(1)).get("type")||t.get("type");(g||y==="recovery")&&l(!0),d(!1)})();const{data:{subscription:p}}=O.auth.onAuthStateChange((g,v)=>{g==="PASSWORD_RECOVERY"&&(l(!0),d(!1))});return()=>p.unsubscribe()},[t]);const m=async h=>{s(!0);const{error:p}=await O.auth.updateUser({password:h.password});if(s(!1),p){F.error(p.message);return}i(!0),F.success("Password updated successfully!"),setTimeout(()=>{e("/")},2e3)};return c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):a?n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(kn,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Password Updated!"}),n.jsx("p",{className:"text-muted-foreground",children:"Your password has been successfully updated. Redirecting..."})]})})}):o?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:n.jsx(Ze,{className:"h-5 w-5 text-primary-foreground"})}),n.jsx("span",{className:"text-2xl font-semibold text-foreground",children:"Discover Ukhrul"})]}),n.jsxs(G,{className:"w-full max-w-md",children:[n.jsxs(We,{className:"text-center",children:[n.jsx(qe,{className:"text-2xl",children:"Reset Password"}),n.jsx(pl,{children:"Enter your new password below"})]}),n.jsx(Y,{children:n.jsx(Ui,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[n.jsx(pr,{control:u.control,name:"password",render:({field:h})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"New Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...h})}),n.jsx(or,{})]})}),n.jsx(pr,{control:u.control,name:"confirmPassword",render:({field:h})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Confirm New Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...h})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",className:"w-full",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Update Password"})]})})})]})]}):n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:n.jsx(G,{className:"w-full max-w-md",children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Invalid or Expired Link"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"This password reset link is invalid or has expired."}),n.jsx(P,{onClick:()=>e("/auth"),children:"Back to Sign In"})]})})})}const sb=[{icon:Tn,label:"My Orders",path:"/orders"},{icon:no,label:"Saved Items",path:"/saved"},{icon:yt,label:"My Reviews",path:"/reviews"},{icon:AN,label:"Settings",path:"/settings"}];function gz(){var m,h,p,g,v;const e=Qt(),{user:t,loading:r,signOut:s}=wt(),{isAgent:a}=Bl(),[i,o]=f.useState(0),[l,c]=f.useState(0);f.useEffect(()=>{async function y(){if(!t)return;const{data:w,error:x}=await O.from("profiles").select("visit_streak, points, last_visit_date").eq("id",t.id).single();if(x){console.error("Error fetching profile:",x);return}const j=new Date().toISOString().split("T")[0],_=w==null?void 0:w.last_visit_date;let S=(w==null?void 0:w.visit_streak)||0,N=(w==null?void 0:w.points)||0;if(_!==j){const k=new Date;k.setDate(k.getDate()-1);const b=k.toISOString().split("T")[0];_===b?S+=1:S=1,N+=10,await O.from("profiles").update({visit_streak:S,points:N,last_visit_date:j}).eq("id",t.id)}o(S),c(N)}!r&&t&&y()},[t,r]),f.useEffect(()=>{!r&&!t&&e("/auth")},[t,r,e]);const d=async()=>{await s(),F.success("Signed out successfully"),e("/")};if(r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})});if(!t)return null;const u=((h=(m=t.user_metadata)==null?void 0:m.full_name)==null?void 0:h.split(" ").map(y=>y[0]).join("").toUpperCase())||((p=t.email)==null?void 0:p[0].toUpperCase())||"U";return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(cs,{className:"h-16 w-16",children:[n.jsx(tn,{src:(g=t.user_metadata)==null?void 0:g.avatar_url}),n.jsx(ds,{className:"text-lg bg-primary text-primary-foreground",children:u})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-semibold text-foreground",children:((v=t.user_metadata)==null?void 0:v.full_name)||"User"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]})]})})}),a&&n.jsx(He,{to:"/agent",children:n.jsx(G,{className:"bg-primary/5 border-primary/20 hover:bg-primary/10 transition-colors",children:n.jsxs(Y,{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Et,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-foreground",children:"Agent Dashboard"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage deliveries & earnings"})]})]}),n.jsx(Sn,{className:"h-5 w-5 text-primary"})]})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(G,{children:n.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(j4,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:i}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Day Streak"})]})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(yt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:l}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Points"})]})]})})]}),n.jsx(G,{children:n.jsx(Y,{className:"p-0",children:sb.map(({icon:y,label:w,path:x},j)=>n.jsxs("div",{children:[n.jsx(He,{to:x,children:n.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-accent transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(y,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"font-medium text-foreground",children:w})]}),n.jsx(Sn,{className:"h-5 w-5 text-muted-foreground"})]})}),j<sb.length-1&&n.jsx(wn,{})]},x))})}),n.jsxs(P,{variant:"outline",className:"w-full gap-2 text-destructive hover:text-destructive",onClick:d,children:[n.jsx(Sx,{className:"h-4 w-4"}),"Sign Out"]})]}),n.jsx(cn,{})]})}function vz(){const e=Qt(),{user:t,loading:r}=wt(),{savedItems:s,loading:a}=Dd(),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[m,h]=f.useState([]),[p,g]=f.useState(!0);if(f.useEffect(()=>{if(!r&&!t){e("/auth");return}},[t,r,e]),f.useEffect(()=>{if(a||!t)return;async function y(){g(!0);const w=s.filter(C=>C.item_type==="business").map(C=>C.item_id),x=s.filter(C=>C.item_type==="place").map(C=>C.item_id),j=s.filter(C=>C.item_type==="event").map(C=>C.item_id),_=s.filter(C=>C.item_type==="product").map(C=>C.item_id),[S,N,k,b]=await Promise.all([w.length>0?O.from("businesses").select("*, categories(name, color)").in("id",w):{data:[]},x.length>0?O.from("places").select("*, categories(name, color)").in("id",x):{data:[]},j.length>0?O.from("events").select("*").in("id",j):{data:[]},_.length>0?O.from("products").select("*, businesses(name, slug)").in("id",_):{data:[]}]);o(S.data||[]),c(N.data||[]),u(k.data||[]),h(b.data||[]),g(!1)}y()},[s,a,t]),r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})});if(!t)return null;const v=p||a;return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Saved Items"}),n.jsxs(li,{defaultValue:"businesses",className:"w-full",children:[n.jsxs(ia,{className:"w-full grid grid-cols-4",children:[n.jsxs(pt,{value:"businesses",className:"text-xs",children:[n.jsx(ea,{className:"h-4 w-4 mr-1"}),"Shops"]}),n.jsxs(pt,{value:"products",className:"text-xs",children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"}),"Products"]}),n.jsxs(pt,{value:"places",className:"text-xs",children:[n.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Places"]}),n.jsxs(pt,{value:"events",className:"text-xs",children:[n.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Events"]})]}),n.jsx(xr,{value:"businesses",className:"mt-6",children:v?n.jsx(Eu,{}):i.length===0?n.jsx(Pu,{type:"businesses"}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(y=>n.jsx(Yi,{business:y},y.id))})}),n.jsx(xr,{value:"products",className:"mt-6",children:v?n.jsx(Eu,{}):m.length===0?n.jsx(Pu,{type:"products"}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(y=>{var w;return n.jsxs(G,{className:"overflow-hidden",children:[n.jsx("div",{className:"h-24 bg-muted",children:y.image?n.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Tn,{className:"h-8 w-8 text-muted-foreground"})})}),n.jsxs(Y,{className:"p-3",children:[n.jsx("h3",{className:"font-medium text-foreground text-sm truncate",children:y.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:(w=y.businesses)==null?void 0:w.name}),n.jsxs("p",{className:"text-sm font-semibold text-primary mt-1",children:["",y.price]})]})]},y.id)})})}),n.jsx(xr,{value:"places",className:"mt-6",children:v?n.jsx(Eu,{}):l.length===0?n.jsx(Pu,{type:"places"}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(y=>n.jsx(gl,{place:y},y.id))})}),n.jsx(xr,{value:"events",className:"mt-6",children:v?n.jsx(Eu,{}):d.length===0?n.jsx(Pu,{type:"events"}):n.jsx("div",{className:"space-y-3",children:d.map(y=>n.jsx(wl,{event:y},y.id))})})]})]}),n.jsx(cn,{})]})}function Eu(){return n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>n.jsx(ve,{className:"h-40 rounded-lg"},e))})}function Pu({type:e}){return n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(no,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("h3",{className:"text-lg font-medium text-foreground mb-2",children:["No saved ",e," yet"]}),n.jsxs("p",{className:"text-sm text-muted-foreground max-w-xs",children:["Tap the heart icon on any ",e.slice(0,-1)," to save it here for quick access."]})]})})}function xz(){const{currentArea:e}=io(),[t,r]=f.useState([]),[s,a]=f.useState(!0),[i,o]=f.useState("");f.useEffect(()=>{async function h(){a(!0);let p=O.from("events").select("id, name, slug, short_description, cover_image, event_date, start_time, venue, featured, entry_fee").eq("active",!0).order("event_date",{ascending:!0});e&&(p=p.eq("service_area_id",e.id));const{data:g,error:v}=await p;v&&console.error("Error fetching events:",v),r(g||[]),a(!1)}h()},[e]);const l=new Date().toISOString().split("T")[0],c=t.filter(h=>h.event_date>=l),d=t.filter(h=>h.event_date<l),u=c.filter(h=>{var p;return h.name.toLowerCase().includes(i.toLowerCase())||((p=h.short_description)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))}),m=d.filter(h=>{var p;return h.name.toLowerCase().includes(i.toLowerCase())||((p=h.short_description)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))});return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Events"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(J,{placeholder:"Search events...",value:i,onChange:h=>o(h.target.value),className:"pl-10 h-12 bg-secondary border-0"})]}),n.jsx(yy,{page:"events"}),s?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[n.jsx(ve,{className:"h-16 w-16 rounded-lg"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ve,{className:"h-5 w-3/4"}),n.jsx(ve,{className:"h-4 w-1/2"})]})]},h))}):n.jsxs(li,{defaultValue:"upcoming",className:"w-full",children:[n.jsxs(ia,{className:"grid w-full grid-cols-2",children:[n.jsxs(pt,{value:"upcoming",children:["Upcoming (",u.length,")"]}),n.jsxs(pt,{value:"past",children:["Past (",m.length,")"]})]}),n.jsx(xr,{value:"upcoming",className:"mt-4 space-y-4",children:u.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(Rt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No upcoming events"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Check back soon for festivals, markets, and community events in your area."})]})}):u.map(h=>n.jsx(wl,{event:h},h.id))}),n.jsx(xr,{value:"past",className:"mt-4 space-y-4",children:m.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(Rt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No past events"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Past events will appear here."})]})}):m.map(h=>n.jsx(wl,{event:h},h.id))})]})]}),n.jsx(cn,{})]})}function yz(){var d;const{slug:e}=jd(),[t,r]=f.useState(null),[s,a]=f.useState(!0);f.useEffect(()=>{async function u(){if(!e)return;const{data:m,error:h}=await O.from("events").select("*").eq("slug",e).maybeSingle();h&&console.error("Error fetching event:",h),r(m),a(!1)}u()},[e]);const i=async()=>{if(navigator.share&&t)try{await navigator.share({title:t.name,text:t.short_description||`Check out ${t.name}`,url:window.location.href})}catch{console.log("Share cancelled")}else await navigator.clipboard.writeText(window.location.href),F.success("Link copied to clipboard!")},o=()=>{t!=null&&t.location_lat&&(t!=null&&t.location_lng)?window.open(`https://www.google.com/maps/dir/?api=1&destination=${t.location_lat},${t.location_lng}`,"_blank"):t!=null&&t.address&&window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.address)}`,"_blank")};if(s)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(ve,{className:"h-64 w-full"}),n.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[n.jsx(ve,{className:"h-8 w-3/4"}),n.jsx(ve,{className:"h-4 w-1/2"}),n.jsx(ve,{className:"h-32 w-full"})]})]});if(!t)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Event not found"}),n.jsx(He,{to:"/events",children:n.jsx(P,{variant:"outline",children:"Back to Events"})})]})});const l=new Date(t.event_date),c=l>=new Date;return n.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[n.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary/20 to-accent/20",children:[t.cover_image&&n.jsx("img",{src:t.cover_image,alt:t.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"}),n.jsx(He,{to:"/events",className:"absolute top-4 left-4",children:n.jsx(P,{variant:"secondary",size:"icon",className:"rounded-full shadow-lg",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsx(P,{variant:"secondary",size:"icon",className:"absolute top-4 right-4 rounded-full shadow-lg",onClick:i,children:n.jsx(Th,{className:"h-5 w-5"})})]}),n.jsxs("main",{className:"container mx-auto px-4 -mt-16 relative z-10 space-y-6",children:[n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-primary/10 rounded-lg flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-2xl font-bold text-primary",children:Fe(l,"d")}),n.jsx("span",{className:"text-xs text-primary uppercase",children:Fe(l,"MMM")})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[t.featured&&n.jsx(fe,{className:"bg-accent text-accent-foreground",children:"Featured"}),!c&&n.jsx(fe,{variant:"secondary",children:"Past Event"})]}),n.jsx("h1",{className:"text-xl font-bold text-foreground mt-2",children:t.name}),t.short_description&&n.jsx("p",{className:"text-muted-foreground mt-1",children:t.short_description})]})]})})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-6 space-y-4",children:[n.jsx("h2",{className:"font-semibold text-foreground",children:"Event Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Rt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:Fe(l,"EEEE, MMMM d, yyyy")}),(t.start_time||t.end_time)&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(d=t.start_time)==null?void 0:d.slice(0,5),t.end_time&&` - ${t.end_time.slice(0,5)}`]})]})]}),t.venue&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Ze,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:t.venue}),t.address&&n.jsx("p",{className:"text-sm text-muted-foreground",children:t.address})]})]}),t.entry_fee!==null&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Rf,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:t.entry_fee>0?`${t.entry_fee}`:"Free Entry"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Entry Fee"})]})]}),t.organizer&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(_s,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:t.organizer}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Organizer"})]})]})]})]})}),t.description&&n.jsx(G,{children:n.jsxs(Y,{className:"p-6",children:[n.jsx("h2",{className:"font-semibold text-foreground mb-3",children:"About This Event"}),n.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:t.description})]})}),n.jsxs("div",{className:"flex gap-3",children:[(t.address||t.location_lat&&t.location_lng)&&n.jsxs(P,{variant:"outline",className:"flex-1 gap-2",onClick:o,children:[n.jsx(Ze,{className:"h-4 w-4"}),"Get Directions"]}),t.organizer_contact&&n.jsxs(P,{className:"flex-1 gap-2",onClick:()=>window.open(`tel:${t.organizer_contact}`,"_self"),children:[n.jsx(Qs,{className:"h-4 w-4"}),"Contact Organizer"]})]})]})]})}const wz={bike:Ka,car:pd,foot:kN},jz={bike:"Motorcycle",car:"Car",foot:"On Foot"};function bz({agent:e,onRequestAgent:t}){var c,d;const r=wz[e.vehicle_type]||Ka,s=((c=e.agent_availability)==null?void 0:c.status)||"offline",a=s==="online",i=s==="busy",o={online:{color:"bg-green-500",label:"Online"},offline:{color:"bg-muted",label:"Offline"},busy:{color:"bg-yellow-500",label:"Busy"}},l=o[s]||o.offline;return n.jsx(G,{className:"hover:shadow-md transition-shadow",children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(cs,{className:"h-14 w-14",children:[n.jsx(tn,{src:e.avatar_url||void 0,alt:e.full_name}),n.jsx(ds,{className:"bg-primary/10 text-primary font-semibold",children:e.full_name.slice(0,2).toUpperCase()})]}),n.jsx("span",{className:`absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-background ${l.color}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-foreground truncate",children:e.full_name}),n.jsx(fe,{variant:"outline",className:"shrink-0 text-xs",children:e.agent_code})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{children:((d=e.rating)==null?void 0:d.toFixed(1))||"0.0"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(r,{className:"h-4 w-4"}),n.jsx("span",{children:jz[e.vehicle_type]})]}),n.jsxs("span",{children:[e.total_deliveries," deliveries"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(fe,{variant:a?"default":"secondary",className:a?"bg-green-500 hover:bg-green-600":i?"bg-yellow-500 hover:bg-yellow-600":"",children:l.label}),a&&t&&n.jsx(P,{size:"sm",onClick:()=>t(e.id),children:"Request Agent"}),e.phone&&n.jsx("a",{href:`tel:${e.phone}`,className:"text-muted-foreground hover:text-foreground",children:n.jsx(Qs,{className:"h-4 w-4"})})]})]})]})})})}const Dt=f.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Dt.displayName="Textarea";function Py(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dm="Checkbox",[_z,lH]=wr(dm),[Nz,Ty]=_z(dm);function Sz(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[h,p]=Pn({prop:r,defaultProp:a??!1,onChange:c,caller:dm}),[g,v]=f.useState(null),[y,w]=f.useState(null),x=f.useRef(!1),j=g?!!o||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:g,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Va(a)?!1:a,isFormControl:j,bubbleInput:y,setBubbleInput:w};return n.jsx(Nz,{scope:t,..._,children:kz(m)?m(_):s})}var UE="CheckboxTrigger",BE=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=Ty(UE,e),v=Ee(a,u),y=f.useRef(c);return f.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>m(y.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,m]),n.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":Va(c)?"mixed":c,"aria-required":d,"data-state":HE(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:v,onKeyDown:ee(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ee(r,w=>{m(x=>Va(x)?!0:!x),g&&p&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});BE.displayName=UE;var Ay=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return n.jsx(Sz,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>n.jsxs(n.Fragment,{children:[n.jsx(BE,{...m,ref:t,__scopeCheckbox:r}),h&&n.jsx(qE,{__scopeCheckbox:r})]})})});Ay.displayName=dm;var zE="CheckboxIndicator",VE=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=Ty(zE,r);return n.jsx(Xt,{present:s||Va(i.checked)||i.checked===!0,children:n.jsx(ye.span,{"data-state":HE(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});VE.displayName=zE;var WE="CheckboxBubbleInput",qE=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=Ty(WE,e),g=Ee(r,p),v=Py(i),y=Mx(s);f.useEffect(()=>{const x=h;if(!x)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,N=!a.current;if(v!==i&&S){const k=new Event("click",{bubbles:N});x.indeterminate=Va(i),S.call(x,Va(i)?!1:i),x.dispatchEvent(k)}},[h,v,i,a]);const w=f.useRef(Va(i)?!1:i);return n.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:d,value:u,form:m,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qE.displayName=WE;function kz(e){return typeof e=="function"}function Va(e){return e==="indeterminate"}function HE(e){return Va(e)?"indeterminate":e?"checked":"unchecked"}const Ry=f.forwardRef(({className:e,...t},r)=>n.jsx(Ay,{ref:r,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(VE,{className:W("flex items-center justify-center text-current"),children:n.jsx(gd,{className:"h-4 w-4"})})}));Ry.displayName=Ay.displayName;function vv(e,[t,r]){return Math.min(r,Math.max(t,e))}var Cz=[" ","Enter","ArrowUp","ArrowDown"],Ez=[" ","Enter"],Ji="Select",[um,hm,Pz]=Cf(Ji),[Vl,cH]=wr(Ji,[Pz,si]),fm=si(),[Tz,ci]=Vl(Ji),[Az,Rz]=Vl(Ji),KE=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:g}=e,v=fm(t),[y,w]=f.useState(null),[x,j]=f.useState(null),[_,S]=f.useState(!1),N=Nd(d),[k,b]=Pn({prop:s,defaultProp:a??!1,onChange:i,caller:Ji}),[C,I]=Pn({prop:o,defaultProp:l,onChange:c,caller:Ji}),A=f.useRef(null),L=y?g||!!y.closest("form"):!0,[Z,z]=f.useState(new Set),R=Array.from(Z).map(D=>D.props.value).join(";");return n.jsx(Lx,{...v,children:n.jsxs(Tz,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Zs(),value:C,onValueChange:I,open:k,onOpenChange:b,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[n.jsx(um.Provider,{scope:t,children:n.jsx(Az,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(D=>{z($=>new Set($).add(D))},[]),onNativeOptionRemove:f.useCallback(D=>{z($=>{const E=new Set($);return E.delete(D),E})},[]),children:r})}),L?n.jsxs(vP,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:C,onChange:D=>I(D.target.value),disabled:h,form:g,children:[C===void 0?n.jsx("option",{value:""}):null,Array.from(Z)]},R):null]})})};KE.displayName=Ji;var GE="SelectTrigger",YE=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=fm(r),o=ci(GE,r),l=o.disabled||s,c=Ee(t,o.onTriggerChange),d=hm(r),u=f.useRef("touch"),[m,h,p]=yP(v=>{const y=d().filter(j=>!j.disabled),w=y.find(j=>j.value===o.value),x=wP(y,v,w);x!==void 0&&o.onValueChange(x.value)}),g=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(yd,{asChild:!0,...i,children:n.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xP(o.value)?"":void 0,...a,ref:c,onClick:ee(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:ee(a.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:ee(a.onKeyDown,v=>{const y=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&Cz.includes(v.key)&&(g(),v.preventDefault())})})})});YE.displayName=GE;var QE="SelectValue",ZE=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=ci(QE,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Ee(t,c.onValueNodeChange);return Mt(()=>{d(u)},[d,u]),n.jsx(ye.span,{...l,ref:m,style:{pointerEvents:"none"},children:xP(c.value)?n.jsx(n.Fragment,{children:o}):i})});ZE.displayName=QE;var Oz="SelectIcon",JE=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ye.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});JE.displayName=Oz;var Dz="SelectPortal",XE=e=>n.jsx(Al,{asChild:!0,...e});XE.displayName=Dz;var Xi="SelectContent",eP=f.forwardRef((e,t)=>{const r=ci(Xi,e.__scopeSelect),[s,a]=f.useState();if(Mt(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?ro.createPortal(n.jsx(tP,{scope:e.__scopeSelect,children:n.jsx(um.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(rP,{...e,ref:t})});eP.displayName=Xi;var Fs=10,[tP,di]=Vl(Xi),Mz="SelectContentImpl",Iz=Ha("SelectContent.RemoveScroll"),rP=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:y,...w}=e,x=ci(Xi,r),[j,_]=f.useState(null),[S,N]=f.useState(null),k=Ee(t,H=>_(H)),[b,C]=f.useState(null),[I,A]=f.useState(null),L=hm(r),[Z,z]=f.useState(!1),R=f.useRef(!1);f.useEffect(()=>{if(j)return Zf(j)},[j]),Yf();const D=f.useCallback(H=>{const[Le,...Te]=L().map(Be=>Be.ref.current),[ke]=Te.slice(-1),$e=document.activeElement;for(const Be of H)if(Be===$e||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===Le&&S&&(S.scrollTop=0),Be===ke&&S&&(S.scrollTop=S.scrollHeight),Be==null||Be.focus(),document.activeElement!==$e))return},[L,S]),$=f.useCallback(()=>D([b,j]),[D,b,j]);f.useEffect(()=>{Z&&$()},[Z,$]);const{onOpenChange:E,triggerPointerDownPosRef:M}=x;f.useEffect(()=>{if(j){let H={x:0,y:0};const Le=ke=>{var $e,Be;H={x:Math.abs(Math.round(ke.pageX)-((($e=M.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Be=M.current)==null?void 0:Be.y)??0))}},Te=ke=>{H.x<=10&&H.y<=10?ke.preventDefault():j.contains(ke.target)||E(!1),document.removeEventListener("pointermove",Le),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Te,{capture:!0})}}},[j,E,M]),f.useEffect(()=>{const H=()=>E(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[E]);const[Q,oe]=yP(H=>{const Le=L().filter($e=>!$e.disabled),Te=Le.find($e=>$e.ref.current===document.activeElement),ke=wP(Le,H,Te);ke&&setTimeout(()=>ke.ref.current.focus())}),de=f.useCallback((H,Le,Te)=>{const ke=!R.current&&!Te;(x.value!==void 0&&x.value===Le||ke)&&(C(H),ke&&(R.current=!0))},[x.value]),_e=f.useCallback(()=>j==null?void 0:j.focus(),[j]),ge=f.useCallback((H,Le,Te)=>{const ke=!R.current&&!Te;(x.value!==void 0&&x.value===Le||ke)&&A(H)},[x.value]),ne=s==="popper"?xv:sP,Pe=ne===xv?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return n.jsx(tP,{scope:r,content:j,viewport:S,onViewportChange:N,itemRefCallback:de,selectedItem:b,onItemLeave:_e,itemTextRefCallback:ge,focusSelectedItem:$,selectedItemText:I,position:s,isPositioned:Z,searchRef:Q,children:n.jsx(Cd,{as:Iz,allowPinchZoom:!0,children:n.jsx(Sd,{asChild:!0,trapped:x.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ee(a,H=>{var Le;(Le=x.trigger)==null||Le.focus({preventScroll:!0}),H.preventDefault()}),children:n.jsx(so,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:n.jsx(ne,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:H=>H.preventDefault(),...w,...Pe,onPlaced:()=>z(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,H=>{const Le=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Le&&H.key.length===1&&oe(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ke=L().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const $e=H.target,Be=ke.indexOf($e);ke=ke.slice(Be+1)}setTimeout(()=>D(ke)),H.preventDefault()}})})})})})})});rP.displayName=Mz;var Fz="SelectItemAlignedPosition",sP=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=ci(Xi,r),o=di(Xi,r),[l,c]=f.useState(null),[d,u]=f.useState(null),m=Ee(t,k=>u(k)),h=hm(r),p=f.useRef(!1),g=f.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=o,j=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&y&&w){const k=i.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(i.dir!=="rtl"){const $e=I.left-b.left,Be=C.left-$e,$t=k.left-Be,er=k.width+$t,ps=Math.max(er,b.width),gs=window.innerWidth-Fs,ce=vv(Be,[Fs,Math.max(Fs,gs-ps)]);l.style.minWidth=er+"px",l.style.left=ce+"px"}else{const $e=b.right-I.right,Be=window.innerWidth-C.right-$e,$t=window.innerWidth-k.right-Be,er=k.width+$t,ps=Math.max(er,b.width),gs=window.innerWidth-Fs,ce=vv(Be,[Fs,Math.max(Fs,gs-ps)]);l.style.minWidth=er+"px",l.style.right=ce+"px"}const A=h(),L=window.innerHeight-Fs*2,Z=v.scrollHeight,z=window.getComputedStyle(d),R=parseInt(z.borderTopWidth,10),D=parseInt(z.paddingTop,10),$=parseInt(z.borderBottomWidth,10),E=parseInt(z.paddingBottom,10),M=R+D+Z+E+$,Q=Math.min(y.offsetHeight*5,M),oe=window.getComputedStyle(v),de=parseInt(oe.paddingTop,10),_e=parseInt(oe.paddingBottom,10),ge=k.top+k.height/2-Fs,ne=L-ge,Pe=y.offsetHeight/2,H=y.offsetTop+Pe,Le=R+D+H,Te=M-Le;if(Le<=ge){const $e=A.length>0&&y===A[A.length-1].ref.current;l.style.bottom="0px";const Be=d.clientHeight-v.offsetTop-v.offsetHeight,$t=Math.max(ne,Pe+($e?_e:0)+Be+$),er=Le+$t;l.style.height=er+"px"}else{const $e=A.length>0&&y===A[0].ref.current;l.style.top="0px";const $t=Math.max(ge,R+v.offsetTop+($e?de:0)+Pe)+Te;l.style.height=$t+"px",v.scrollTop=Le-ge+v.offsetTop}l.style.margin=`${Fs}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=L+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,v,y,w,i.dir,s]);Mt(()=>j(),[j]);const[_,S]=f.useState();Mt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=f.useCallback(k=>{k&&g.current===!0&&(j(),x==null||x(),g.current=!1)},[j,x]);return n.jsx($z,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:n.jsx(ye.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});sP.displayName=Fz;var Lz="SelectPopperPosition",xv=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Fs,...i}=e,o=fm(r);return n.jsx(If,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xv.displayName=Lz;var[$z,Oy]=Vl(Xi,{}),yv="SelectViewport",nP=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=di(yv,r),o=Oy(yv,r),l=Ee(t,i.onViewportChange),c=f.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(um.Slot,{scope:r,children:n.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ee(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-Fs*2,v=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),w=Math.max(v,y);if(w<g){const x=w+p,j=Math.min(g,x),_=x-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});nP.displayName=yv;var aP="SelectGroup",[Uz,Bz]=Vl(aP),zz=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Zs();return n.jsx(Uz,{scope:r,id:a,children:n.jsx(ye.div,{role:"group","aria-labelledby":a,...s,ref:t})})});zz.displayName=aP;var iP="SelectLabel",oP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Bz(iP,r);return n.jsx(ye.div,{id:a.id,...s,ref:t})});oP.displayName=iP;var af="SelectItem",[Vz,lP]=Vl(af),cP=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=ci(af,r),c=di(af,r),d=l.value===s,[u,m]=f.useState(i??""),[h,p]=f.useState(!1),g=Ee(t,x=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,x,s,a)}),v=Zs(),y=f.useRef("touch"),w=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Vz,{scope:r,value:s,disabled:a,textId:v,isSelected:d,onItemTextChange:f.useCallback(x=>{m(j=>j||((x==null?void 0:x.textContent)??"").trim())},[]),children:n.jsx(um.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ye.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ee(o.onFocus,()=>p(!0)),onBlur:ee(o.onBlur,()=>p(!1)),onClick:ee(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:ee(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:ee(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:ee(o.onPointerMove,x=>{var j;y.current=x.pointerType,a?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,x=>{var j;x.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ee(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Ez.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});cP.displayName=af;var hc="SelectItemText",dP=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=ci(hc,r),l=di(hc,r),c=lP(hc,r),d=Rz(hc,r),[u,m]=f.useState(null),h=Ee(t,w=>m(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=f.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return Mt(()=>(v(g),()=>y(g)),[v,y,g]),n.jsxs(n.Fragment,{children:[n.jsx(ye.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ro.createPortal(i.children,o.valueNode):null]})});dP.displayName=hc;var uP="SelectItemIndicator",hP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return lP(uP,r).isSelected?n.jsx(ye.span,{"aria-hidden":!0,...s,ref:t}):null});hP.displayName=uP;var wv="SelectScrollUpButton",fP=f.forwardRef((e,t)=>{const r=di(wv,e.__scopeSelect),s=Oy(wv,e.__scopeSelect),[a,i]=f.useState(!1),o=Ee(t,s.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(pP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fP.displayName=wv;var jv="SelectScrollDownButton",mP=f.forwardRef((e,t)=>{const r=di(jv,e.__scopeSelect),s=Oy(jv,e.__scopeSelect),[a,i]=f.useState(!1),o=Ee(t,s.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(pP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mP.displayName=jv;var pP=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=di("SelectScrollButton",r),o=f.useRef(null),l=hm(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Mt(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ye.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ee(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ee(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ee(a.onPointerLeave,()=>{c()})})}),Wz="SelectSeparator",gP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ye.div,{"aria-hidden":!0,...s,ref:t})});gP.displayName=Wz;var bv="SelectArrow",qz=f.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=fm(r),i=ci(bv,r),o=di(bv,r);return i.open&&o.position==="popper"?n.jsx(Ff,{...a,...s,ref:t}):null});qz.displayName=bv;var Hz="SelectBubbleInput",vP=f.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=f.useRef(null),i=Ee(s,a),o=Py(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[o,t]),n.jsx(ye.select,{...r,style:{...J1,...r.style},ref:i,defaultValue:t})});vP.displayName=Hz;function xP(e){return e===""||e===void 0}function yP(e){const t=Ct(e),r=f.useRef(""),s=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function wP(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Kz(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Kz(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Gz=KE,jP=YE,Yz=ZE,Qz=JE,Zz=XE,bP=eP,Jz=nP,_P=oP,NP=cP,Xz=dP,e9=hP,SP=fP,kP=mP,CP=gP;const st=Gz,nt=Yz,Je=f.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(jP,{ref:s,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Qz,{asChild:!0,children:n.jsx(Tf,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=jP.displayName;const EP=f.forwardRef(({className:e,...t},r)=>n.jsx(SP,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(_N,{className:"h-4 w-4"})}));EP.displayName=SP.displayName;const PP=f.forwardRef(({className:e,...t},r)=>n.jsx(kP,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Tf,{className:"h-4 w-4"})}));PP.displayName=kP.displayName;const Xe=f.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(Zz,{children:n.jsxs(bP,{ref:a,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(EP,{}),n.jsx(Jz,{className:W("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(PP,{})]})}));Xe.displayName=bP.displayName;const t9=f.forwardRef(({className:e,...t},r)=>n.jsx(_P,{ref:r,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));t9.displayName=_P.displayName;const be=f.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(NP,{ref:s,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(e9,{children:n.jsx(gd,{className:"h-4 w-4"})})}),n.jsx(Xz,{children:t})]}));be.displayName=NP.displayName;const r9=f.forwardRef(({className:e,...t},r)=>n.jsx(CP,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));r9.displayName=CP.displayName;const s9=Rl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),TP=f.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:W(s9({variant:t}),e),...r}));TP.displayName="Alert";const n9=f.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:W("mb-1 font-medium leading-none tracking-tight",e),...t}));n9.displayName="AlertTitle";const AP=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:W("text-sm [&_p]:leading-relaxed",e),...t}));AP.displayName="AlertDescription";const kp=["Service","Pickup","Delivery","Package","Agent","Confirm"];function a9({isOpen:e,onClose:t,service:r,preferredAgentId:s}){const{user:a}=wt(),[i,o]=f.useState(0),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[m,h]=f.useState([]),[p,g]=f.useState([]),[v,y]=f.useState((r==null?void 0:r.id)||""),[w,x]=f.useState(""),[j,_]=f.useState(""),[S,N]=f.useState(""),[k,b]=f.useState(""),[C,I]=f.useState(""),[A,L]=f.useState(""),[Z,z]=f.useState(""),[R,D]=f.useState(1),[$,E]=f.useState(!1),[M,Q]=f.useState("clear"),[oe,de]=f.useState("normal"),[_e,ge]=f.useState(s||""),[ne,Pe]=f.useState(3),[H,Le]=f.useState(null),[Te,ke]=f.useState("");f.useEffect(()=>{e&&($e(),Be(),r&&y(r.id),s&&ge(s))},[e,r,s]),f.useEffect(()=>{i>=3&&$t()},[ne,R,$,M,oe,v]);async function $e(){const{data:ce}=await O.from("dropee_services").select("id, name, slug, icon").eq("active",!0).order("display_order");h(ce||[])}async function Be(){const{data:ce}=await O.from("delivery_agents").select(`
        id, agent_code, full_name, avatar_url, vehicle_type, rating,
        agent_availability (status)
      `).eq("is_active",!0).eq("is_verified",!0).order("rating",{ascending:!1}),ut=(ce||[]).sort((Ts,T)=>{var ae,te;const U={online:0,busy:1,offline:2},V=((ae=Ts.agent_availability)==null?void 0:ae.status)||"offline",ie=((te=T.agent_availability)==null?void 0:te.status)||"offline";return(U[V]||2)-(U[ie]||2)});g(ut)}async function $t(){u(!0);try{const{data:ce,error:ut}=await O.functions.invoke("calculate-delivery-fee",{body:{service_id:v||void 0,distance_km:ne,weight_kg:R,is_fragile:$,weather_condition:M,urgency:oe}});if(ut)throw ut;Le(ce)}catch(ce){console.error("Failed to calculate fee:",ce)}finally{u(!1)}}async function er(){if(!a){F.error("Please log in to place an order");return}c(!0);try{const{error:ce}=await O.from("delivery_orders").insert({user_id:a.id,service_id:v||null,pickup_address:w,pickup_contact_name:j,pickup_contact_phone:S,delivery_address:k,delivery_contact_name:C,delivery_contact_phone:A,package_description:Z,weight_kg:R,is_fragile:$,weather_condition:M,urgency:oe,distance_km:ne,base_fee:H==null?void 0:H.base_fee,distance_fee:H==null?void 0:H.distance_fee,weight_fee:H==null?void 0:H.weight_fee,fragile_fee:H==null?void 0:H.fragile_fee,weather_fee:H==null?void 0:H.weather_fee,urgency_fee:H==null?void 0:H.urgency_fee,total_fee:H==null?void 0:H.total_fee,preferred_agent_id:_e||null,promo_code:Te||null});if(ce)throw ce;F.success("Order placed successfully!",{description:"An agent will be assigned shortly."}),t()}catch(ce){F.error("Failed to place order",{description:ce.message})}finally{c(!1)}}function ps(){switch(i){case 0:return!!v;case 1:return w&&j&&S;case 2:return k&&C&&A;case 3:return R>0;case 4:return!0;case 5:return!0;default:return!0}}const gs=()=>{switch(i){case 0:return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium text-foreground",children:"Select Service Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(ce=>n.jsx(G,{className:`cursor-pointer transition-all ${v===ce.id?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>y(ce.id),children:n.jsxs(Y,{className:"p-4 text-center",children:[n.jsx(Yt,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),n.jsx("p",{className:"font-medium text-sm",children:ce.name})]})},ce.id))})]});case 1:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx(Ze,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-medium",children:"Pickup Location"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Pickup Address *"}),n.jsx(Dt,{placeholder:"Enter full pickup address...",value:w,onChange:ce=>x(ce.target.value),rows:2})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Contact Name *"}),n.jsx(J,{placeholder:"Name",value:j,onChange:ce=>_(ce.target.value)})]}),n.jsxs("div",{children:[n.jsx(B,{children:"Phone *"}),n.jsx(J,{placeholder:"Phone number",value:S,onChange:ce=>N(ce.target.value)})]})]})]})]});case 2:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx(Ze,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-medium",children:"Delivery Location"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Delivery Address *"}),n.jsx(Dt,{placeholder:"Enter full delivery address...",value:k,onChange:ce=>b(ce.target.value),rows:2})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Contact Name *"}),n.jsx(J,{placeholder:"Name",value:C,onChange:ce=>I(ce.target.value)})]}),n.jsxs("div",{children:[n.jsx(B,{children:"Phone *"}),n.jsx(J,{placeholder:"Phone number",value:A,onChange:ce=>L(ce.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(B,{children:"Estimated Distance (km)"}),n.jsx(J,{type:"number",min:.5,step:.5,value:ne,onChange:ce=>Pe(parseFloat(ce.target.value)||1)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Agent will verify and adjust if needed"})]})]})]});case 3:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx(Yt,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-medium",children:"Package Details"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Package Description"}),n.jsx(Dt,{placeholder:"What are you sending?",value:Z,onChange:ce=>z(ce.target.value),rows:2})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Weight (kg)"}),n.jsx(J,{type:"number",min:.1,step:.1,value:R,onChange:ce=>D(parseFloat(ce.target.value)||1)})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ry,{id:"fragile",checked:$,onCheckedChange:ce=>E(!!ce)}),n.jsxs(B,{htmlFor:"fragile",className:"flex items-center gap-1",children:[n.jsx(Fi,{className:"h-4 w-4 text-yellow-500"}),"Fragile"]})]})})]}),n.jsx(wn,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsxs(B,{className:"flex items-center gap-1",children:[n.jsx(v4,{className:"h-4 w-4"}),"Weather"]}),n.jsxs(st,{value:M,onValueChange:ce=>Q(ce),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"clear",children:"Clear"}),n.jsx(be,{value:"rain",children:"Light Rain"}),n.jsx(be,{value:"heavy_rain",children:"Heavy Rain"})]})]})]}),n.jsxs("div",{children:[n.jsxs(B,{className:"flex items-center gap-1",children:[n.jsx(Pg,{className:"h-4 w-4"}),"Urgency"]}),n.jsxs(st,{value:oe,onValueChange:ce=>de(ce),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"normal",children:"Normal"}),n.jsx(be,{value:"urgent",children:"Urgent (+50%)"}),n.jsx(be,{value:"scheduled",children:"Scheduled"})]})]})]})]})]})]});case 4:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx(_s,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-medium",children:"Preferred Agent (Optional)"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a preferred agent or skip to let us assign the best available one."}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[n.jsx(G,{className:`cursor-pointer transition-all ${_e?"hover:bg-muted/50":"ring-2 ring-primary bg-primary/5"}`,onClick:()=>ge(""),children:n.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:n.jsx(Et,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Auto-assign"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Best available agent"})]})]})}),p.filter(ce=>{var ut;return((ut=ce.agent_availability)==null?void 0:ut.status)==="online"}).map(ce=>{var ut;return n.jsx(G,{className:`cursor-pointer transition-all ${_e===ce.id?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>ge(ce.id),children:n.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold",children:ce.full_name.slice(0,2).toUpperCase()}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:ce.full_name}),n.jsx(fe,{variant:"outline",className:"text-xs",children:ce.agent_code})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",((ut=ce.rating)==null?void 0:ut.toFixed(1))||"0.0","  ",ce.vehicle_type]})]}),n.jsx("span",{className:"h-3 w-3 rounded-full bg-green-500"})]})},ce.id)})]})]});case 5:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx(m4,{className:"h-5 w-5"}),n.jsx("h3",{className:"font-medium",children:"Order Summary"})]}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pickup"}),n.jsx("span",{className:"font-medium text-right max-w-[60%] truncate",children:w})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),n.jsx("span",{className:"font-medium text-right max-w-[60%] truncate",children:k})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Distance"}),n.jsxs("span",{className:"font-medium",children:[ne," km"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Weight"}),n.jsxs("span",{className:"font-medium",children:[R," kg"]})]}),$&&n.jsxs(fe,{variant:"outline",className:"text-yellow-600",children:[n.jsx(Fi,{className:"h-3 w-3 mr-1"})," Fragile"]})]})}),n.jsx(G,{className:"bg-primary/5 border-primary/20",children:n.jsxs(Y,{className:"p-4 space-y-2",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Fee Breakdown (Estimate)"}),d?n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(ot,{className:"h-4 w-4 animate-spin"}),"Calculating..."]}):H?n.jsxs(n.Fragment,{children:[H.breakdown.map((ce,ut)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:ce.label}),n.jsxs("span",{children:["",ce.amount]})]},ut)),n.jsx(wn,{}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Estimated Total"}),n.jsxs("span",{className:"text-primary",children:["",H.total_fee]})]})]}):n.jsx("p",{className:"text-muted-foreground text-sm",children:"Fee will be provided by admin/agent"})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4 space-y-2",children:[n.jsxs(B,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(Rf,{className:"h-4 w-4 text-primary"}),"Promo/Coupon Code (Optional)"]}),n.jsx(J,{placeholder:"Enter promo code...",value:Te,onChange:ce=>ke(ce.target.value)})]})}),n.jsxs(TP,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/30",children:[n.jsx(Cg,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),n.jsx(AP,{className:"text-amber-800 dark:text-amber-300 text-sm",children:"This is an estimate only. Admin/Agent will confirm your final fee upon completion."})]})]});default:return null}};return n.jsx(qt,{open:e,onOpenChange:ce=>!ce&&t(),children:n.jsxs(It,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Ft,{children:n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-primary"}),"Request Dropee Delivery"]})}),n.jsx("div",{className:"flex items-center justify-between mb-4",children:kp.map((ce,ut)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${ut<i?"bg-primary text-primary-foreground":ut===i?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"}`,children:ut+1}),ut<kp.length-1&&n.jsx("div",{className:`w-4 h-0.5 ${ut<i?"bg-primary":"bg-muted"}`})]},ce))}),n.jsx("div",{className:"min-h-[300px]",children:gs()}),n.jsxs("div",{className:"flex justify-between gap-3 pt-4",children:[n.jsxs(P,{variant:"outline",onClick:()=>o(ce=>ce-1),disabled:i===0,children:[n.jsx(vd,{className:"h-4 w-4 mr-1"}),"Back"]}),i<kp.length-1?n.jsxs(P,{onClick:()=>o(ce=>ce+1),disabled:!ps(),children:["Next",n.jsx(Sn,{className:"h-4 w-4 ml-1"})]}):n.jsxs(P,{onClick:er,disabled:l,children:[l?n.jsx(ot,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Et,{className:"h-4 w-4 mr-2"}),"Place Order"]})]})]})})}const i9={Truck:Et,UtensilsCrossed:z4,ShoppingBasket:L4,FileText:NN,Package:Yt,Bike:Ka,Car:pd,Gift:b4,Box:f4,ShoppingCart:$4,Coffee:x4,Pill:O4,Newspaper:A4,Mail:E4};function o9(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!0),{currentArea:c}=io(),[d,u]=f.useState(!1),[m,h]=f.useState(),[p,g]=f.useState();f.useEffect(()=>{v(),y()},[c]);async function v(){i(!0);let S=O.from("dropee_services").select("id, name, slug, description, icon, price").eq("active",!0).order("display_order",{ascending:!0});c&&(S=S.or(`service_area_id.eq.${c.id},service_area_id.is.null`));const{data:N}=await S;t(N||[]),i(!1)}async function y(){l(!0);let S=O.from("delivery_agents").select(`
        id,
        agent_code,
        full_name,
        phone,
        avatar_url,
        vehicle_type,
        rating,
        total_deliveries,
        agent_availability (status)
      `).eq("is_active",!0).eq("is_verified",!0).order("rating",{ascending:!1});c&&(S=S.or(`service_area_id.eq.${c.id},service_area_id.is.null`));const{data:N}=await S,k=(N||[]).sort((b,C)=>{var Z,z;const I={online:0,busy:1,offline:2},A=((Z=b.agent_availability)==null?void 0:Z.status)||"offline",L=((z=C.agent_availability)==null?void 0:z.status)||"offline";return(I[A]||2)-(I[L]||2)});s(k),l(!1)}function w(S){g(S),h(void 0),u(!0)}function x(S){h(S),g(void 0),u(!0)}function j(){u(!1),h(void 0),g(void 0)}const _=r.filter(S=>{var N;return((N=S.agent_availability)==null?void 0:N.status)==="online"}).length;return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsx(G,{className:"bg-primary text-primary-foreground overflow-hidden",children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-full bg-primary-foreground/20",children:n.jsx(Et,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Dropee Services"}),n.jsx("p",{className:"text-primary-foreground/80",children:"Fast & reliable local delivery"})]})]})})}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"How it works"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center mx-auto font-bold text-sm",children:"1"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose service"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center mx-auto font-bold text-sm",children:"2"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter details"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center mx-auto font-bold text-sm",children:"3"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"We deliver"})]})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Our Services"}),n.jsx("div",{className:"space-y-3",children:a?Array.from({length:4}).map((S,N)=>n.jsx(G,{children:n.jsxs(Y,{className:"p-4 flex items-center gap-4",children:[n.jsx(ve,{className:"h-12 w-12 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ve,{className:"h-5 w-32"}),n.jsx(ve,{className:"h-4 w-48"}),n.jsx(ve,{className:"h-4 w-24"})]})]})},N)):e.length===0?n.jsx(G,{children:n.jsx(Y,{className:"p-6 text-center text-muted-foreground",children:"No services available at the moment."})}):e.map(S=>{const N=i9[S.icon]||Yt;return n.jsx(G,{className:"hover:shadow-md transition-shadow",children:n.jsxs(Y,{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:n.jsx(N,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:S.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.description}),n.jsx("p",{className:"text-sm font-medium text-primary mt-1",children:S.price})]}),n.jsx(P,{size:"icon",variant:"ghost",onClick:()=>x(S),children:n.jsx(jN,{className:"h-5 w-5"})})]})},S.id)})})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{className:"h-5 w-5 text-primary"}),n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Available Agents"})]}),_>0&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:[_," online"]})]}),n.jsx("div",{className:"space-y-3",children:o?Array.from({length:3}).map((S,N)=>n.jsx(G,{children:n.jsxs(Y,{className:"p-4 flex items-center gap-4",children:[n.jsx(ve,{className:"h-14 w-14 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(ve,{className:"h-5 w-40"}),n.jsx(ve,{className:"h-4 w-32"}),n.jsx(ve,{className:"h-6 w-20"})]})]})},N)):r.length===0?n.jsx(G,{children:n.jsxs(Y,{className:"p-6 text-center text-muted-foreground",children:[n.jsx(Hi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No agents available in your area yet."}),n.jsx("p",{className:"text-sm mt-1",children:"Check back soon!"})]})}):r.map(S=>n.jsx(bz,{agent:S,onRequestAgent:w},S.id))})]})]}),n.jsx(cn,{}),n.jsx(a9,{isOpen:d,onClose:j,service:m,preferredAgentId:p})]})}function l9(e,t){return f.useReducer((r,s)=>t[r][s]??r,e)}var Dy="ScrollArea",[RP,dH]=wr(Dy),[c9,Ps]=RP(Dy),OP=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[m,h]=f.useState(null),[p,g]=f.useState(null),[v,y]=f.useState(null),[w,x]=f.useState(0),[j,_]=f.useState(0),[S,N]=f.useState(!1),[k,b]=f.useState(!1),C=Ee(t,A=>c(A)),I=Nd(a);return n.jsx(c9,{scope:r,type:s,dir:I,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:b,onCornerWidthChange:x,onCornerHeightChange:_,children:n.jsx(ye.div,{dir:I,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});OP.displayName=Dy;var DP="ScrollAreaViewport",MP=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=Ps(DP,r),l=f.useRef(null),c=Ee(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});MP.displayName=DP;var On="ScrollAreaScrollbar",My=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ps(On,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(d9,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(u9,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(IP,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(Iy,{...s,ref:t}):null});My.displayName=On;var d9=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ps(On,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Xt,{present:r||i,children:n.jsx(IP,{"data-state":i?"visible":"hidden",...s,ref:t})})}),u9=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ps(On,e.__scopeScrollArea),i=e.orientation==="horizontal",o=pm(()=>c("SCROLL_END"),100),[l,c]=l9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),o()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),n.jsx(Xt,{present:r||l!=="hidden",children:n.jsx(Iy,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),IP=f.forwardRef((e,t)=>{const r=Ps(On,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=pm(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return kl(r.viewport,c),kl(r.content,c),n.jsx(Xt,{present:s||i,children:n.jsx(Iy,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Iy=f.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Ps(On,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=BP(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,p){return v9(h,o.current,l,p)}return r==="horizontal"?n.jsx(h9,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=nb(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):r==="vertical"?n.jsx(f9,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=nb(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),h9=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Ps(On,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ee(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(LP,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),VP(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:lf(o.paddingLeft),paddingEnd:lf(o.paddingRight)}})}})}),f9=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Ps(On,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ee(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(LP,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),VP(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:lf(o.paddingTop),paddingEnd:lf(o.paddingBottom)}})}})}),[m9,FP]=RP(On),LP=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,p=Ps(On,r),[g,v]=f.useState(null),y=Ee(t,C=>v(C)),w=f.useRef(null),x=f.useRef(""),j=p.viewport,_=s.content-s.viewport,S=Ct(u),N=Ct(c),k=pm(m,10);function b(C){if(w.current){const I=C.clientX-w.current.left,A=C.clientY-w.current.top;d({x:I,y:A})}}return f.useEffect(()=>{const C=I=>{const A=I.target;(g==null?void 0:g.contains(A))&&S(I,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[j,g,_,S]),f.useEffect(N,[s,N]),kl(g,k),kl(p.content,k),n.jsx(m9,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Ct(i),onThumbPointerUp:Ct(o),onThumbPositionChange:N,onThumbPointerDown:Ct(l),children:n.jsx(ye.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ee(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),w.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),b(C))}),onPointerMove:ee(e.onPointerMove,b),onPointerUp:ee(e.onPointerUp,C=>{const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),of="ScrollAreaThumb",$P=f.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=FP(of,e.__scopeScrollArea);return n.jsx(Xt,{present:r||a.hasThumb,children:n.jsx(p9,{ref:t,...s})})}),p9=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Ps(of,r),o=FP(of,r),{onThumbPositionChange:l}=o,c=Ee(t,m=>o.onThumbChange(m)),d=f.useRef(void 0),u=pm(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const p=x9(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),n.jsx(ye.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ee(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),g=m.clientX-p.left,v=m.clientY-p.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:ee(e.onPointerUp,o.onThumbPointerUp)})});$P.displayName=of;var Fy="ScrollAreaCorner",UP=f.forwardRef((e,t)=>{const r=Ps(Fy,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(g9,{...e,ref:t}):null});UP.displayName=Fy;var g9=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Ps(Fy,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return kl(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),kl(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ye.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lf(e){return e?parseInt(e,10):0}function BP(e,t){const r=e/t;return isNaN(r)?0:r}function mm(e){const t=BP(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function v9(e,t,r,s="ltr"){const a=mm(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return zP([c,d],m)(e)}function nb(e,t,r="ltr"){const s=mm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=vv(e,c);return zP([0,o],[0,l])(d)}function zP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function VP(e,t){return e>0&&e<t}var x9=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function pm(e,t){const r=Ct(e),s=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),f.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function kl(e,t){const r=Ct(t);Mt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var WP=OP,y9=MP,w9=UP;const gm=f.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(WP,{ref:s,className:W("relative overflow-hidden",e),...r,children:[n.jsx(y9,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(vm,{}),n.jsx(w9,{})]}));gm.displayName=WP.displayName;const vm=f.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(My,{ref:s,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx($P,{className:"relative flex-1 rounded-full bg-border"})}));vm.displayName=My.displayName;function j9(){var p;const{currentArea:e}=io(),[t,r]=f.useState([]),[s,a]=f.useState([]),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!0);f.useEffect(()=>{async function g(){const{data:v}=await O.from("categories").select("id, name, slug, icon").eq("type","business").eq("active",!0);a(v||[])}g()},[]),f.useEffect(()=>{async function g(){u(!0);let v=O.from("businesses").select(`
          id, name, slug, short_description, cover_image,
          rating, review_count, verified, featured, address, category_id,
          categories (name, color)
        `).eq("active",!0).order("featured",{ascending:!1}).order("rating",{ascending:!1});e&&(v=v.eq("service_area_id",e.id)),i&&(v=v.eq("category_id",i)),l.trim()&&(v=v.ilike("name",`%${l}%`));const{data:y,error:w}=await v;w?console.error("Error fetching businesses:",w):r(y||[]),u(!1)}g()},[e,i,l]);const m=t.filter(g=>g.featured),h=t.filter(g=>!g.featured);return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Businesses"}),n.jsx(P,{variant:"outline",size:"icon",children:n.jsx(SN,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(J,{placeholder:"Search businesses...",className:"pl-10 h-12 bg-secondary border-0",value:l,onChange:g=>c(g.target.value)})]}),n.jsxs(gm,{className:"w-full whitespace-nowrap",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:i===null?"default":"outline",size:"sm",onClick:()=>o(null),children:"All"}),s.map(g=>n.jsx(P,{variant:i===g.id?"default":"outline",size:"sm",onClick:()=>o(g.id),children:g.name},g.id))]}),n.jsx(vm,{orientation:"horizontal"})]}),d?n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(g=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"h-36 w-full rounded-lg"}),n.jsx(ve,{className:"h-4 w-3/4"}),n.jsx(ve,{className:"h-3 w-1/2"})]},g))}):t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground",children:"No businesses found"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try changing your location or search terms"})]}):n.jsxs(n.Fragment,{children:[m.length>0&&n.jsxs("section",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Featured"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(g=>n.jsx(Yi,{business:g},g.id))})]}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:i?(p=s.find(g=>g.id===i))==null?void 0:p.name:"All Businesses"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:h.map(g=>n.jsx(Yi,{business:g,variant:"compact"},g.id))})]})]})]}),n.jsx(cn,{})]})}var qP="AlertDialog",[b9,uH]=wr(qP,[x2]),oa=x2(),HP=e=>{const{__scopeAlertDialog:t,...r}=e,s=oa(t);return n.jsx(uy,{...s,...r,modal:!0})};HP.displayName=qP;var _9="AlertDialogTrigger",KP=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=oa(r);return n.jsx(D2,{...a,...s,ref:t})});KP.displayName=_9;var N9="AlertDialogPortal",GP=e=>{const{__scopeAlertDialog:t,...r}=e,s=oa(t);return n.jsx(hy,{...s,...r})};GP.displayName=N9;var S9="AlertDialogOverlay",YP=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=oa(r);return n.jsx(Td,{...a,...s,ref:t})});YP.displayName=S9;var Go="AlertDialogContent",[k9,C9]=b9(Go),E9=G1("AlertDialogContent"),QP=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=oa(r),o=f.useRef(null),l=Ee(t,o),c=f.useRef(null);return n.jsx(o8,{contentName:Go,titleName:ZP,docsSlug:"alert-dialog",children:n.jsx(k9,{scope:r,cancelRef:c,children:n.jsxs(Ad,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ee(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(E9,{children:s}),n.jsx(T9,{contentRef:o})]})})})});QP.displayName=Go;var ZP="AlertDialogTitle",JP=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=oa(r);return n.jsx(Rd,{...a,...s,ref:t})});JP.displayName=ZP;var XP="AlertDialogDescription",eT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=oa(r);return n.jsx(Od,{...a,...s,ref:t})});eT.displayName=XP;var P9="AlertDialogAction",tT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=oa(r);return n.jsx(sm,{...a,...s,ref:t})});tT.displayName=P9;var rT="AlertDialogCancel",sT=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=C9(rT,r),i=oa(r),o=Ee(t,a);return n.jsx(sm,{...i,...s,ref:o})});sT.displayName=rT;var T9=({contentRef:e})=>{const t=`\`${Go}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Go}\` by passing a \`${XP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Go}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},A9=HP,R9=KP,O9=GP,nT=YP,aT=QP,iT=tT,oT=sT,lT=JP,cT=eT;const es=A9,Id=R9,D9=O9,dT=f.forwardRef(({className:e,...t},r)=>n.jsx(nT,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));dT.displayName=nT.displayName;const Dr=f.forwardRef(({className:e,...t},r)=>n.jsxs(D9,{children:[n.jsx(dT,{}),n.jsx(aT,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Dr.displayName=aT.displayName;const Mr=({className:e,...t})=>n.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});Mr.displayName="AlertDialogHeader";const Ir=({className:e,...t})=>n.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ir.displayName="AlertDialogFooter";const Fr=f.forwardRef(({className:e,...t},r)=>n.jsx(lT,{ref:r,className:W("text-lg font-semibold",e),...t}));Fr.displayName=lT.displayName;const Lr=f.forwardRef(({className:e,...t},r)=>n.jsx(cT,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Lr.displayName=cT.displayName;const $r=f.forwardRef(({className:e,...t},r)=>n.jsx(iT,{ref:r,className:W(td(),e),...t}));$r.displayName=iT.displayName;const Ur=f.forwardRef(({className:e,...t},r)=>n.jsx(oT,{ref:r,className:W(td({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ur.displayName=oT.displayName;function M9({products:e,onOrderProduct:t}){return!e||e.length===0?n.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[n.jsx(Tn,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No products available yet"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Products & Items"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(r=>n.jsxs(G,{className:"overflow-hidden border-border",children:[r.image&&n.jsx("div",{className:"aspect-square overflow-hidden bg-muted",children:n.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}),n.jsxs(Y,{className:"p-3 space-y-2",children:[r.category&&n.jsx(fe,{variant:"secondary",className:"text-xs",children:r.category}),n.jsx("h4",{className:"font-medium text-sm text-foreground line-clamp-1",children:r.name}),r.description&&n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r.description}),n.jsx("div",{className:"flex items-center gap-2",children:r.discount_price?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"font-semibold text-primary",children:["",r.discount_price]}),n.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["",r.price]})]}):n.jsxs("span",{className:"font-semibold text-primary",children:["",r.price]})}),n.jsx(P,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>t(r),children:"Order / Enquire"})]})]},r.id))})]})}var Se=function(){return Se=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Se.apply(this,arguments)};function I9(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function uT(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Fd(e){return e.mode==="multiple"}function Ld(e){return e.mode==="range"}function xm(e){return e.mode==="single"}var F9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function L9(e,t){return Fe(e,"LLLL y",t)}function $9(e,t){return Fe(e,"d",t)}function U9(e,t){return Fe(e,"LLLL",t)}function B9(e){return"".concat(e)}function z9(e,t){return Fe(e,"cccccc",t)}function V9(e,t){return Fe(e,"yyyy",t)}var W9=Object.freeze({__proto__:null,formatCaption:L9,formatDay:$9,formatMonthCaption:U9,formatWeekNumber:B9,formatWeekdayName:z9,formatYearCaption:V9}),q9=function(e,t,r){return Fe(e,"do MMMM (EEEE)",r)},H9=function(){return"Month: "},K9=function(){return"Go to next month"},G9=function(){return"Go to previous month"},Y9=function(e,t){return Fe(e,"cccc",t)},Q9=function(e){return"Week n. ".concat(e)},Z9=function(){return"Year: "},J9=Object.freeze({__proto__:null,labelDay:q9,labelMonthDropdown:H9,labelNext:K9,labelPrevious:G9,labelWeekNumber:Q9,labelWeekday:Y9,labelYearDropdown:Z9});function X9(){var e="buttons",t=F9,r=vy,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:W9,labels:J9,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function eV(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Pr(s):t&&(i=new Date(t,0,1)),a?o=am(a):r&&(o=new Date(r,11,31)),{fromDate:i?vl(i):void 0,toDate:o?vl(o):void 0}}var hT=f.createContext(void 0);function tV(e){var t,r=e.initialProps,s=X9(),a=eV(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(xm(r)||Fd(r)||Ld(r))&&(c=r.onSelect);var d=Se(Se(Se({},s),r),{captionLayout:l,classNames:Se(Se({},s.classNames),r.classNames),components:Se({},r.components),formatters:Se(Se({},s.formatters),r.formatters),fromDate:i,labels:Se(Se({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Se(Se({},s.modifiers),r.modifiers),modifiersClassNames:Se(Se({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Se(Se({},s.styles),r.styles),toDate:o});return n.jsx(hT.Provider,{value:d,children:e.children})}function dt(){var e=f.useContext(hT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fT(e){var t=dt(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function rV(e){return n.jsx("svg",Se({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mT(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=dt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:rV;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function sV(e){var t,r=dt(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var m=[];if(sB(s,a))for(var h=Pr(s),p=s.getMonth();p<=a.getMonth();p++)m.push(_p(h,p));else for(var h=Pr(new Date),p=0;p<=11;p++)m.push(_p(h,p));var g=function(y){var w=Number(y.target.value),x=_p(Pr(e.displayMonth),w);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:mT;return n.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getMonth(),children:l(y,{locale:o})},y.getMonth())})})}function nV(e){var t,r=e.displayMonth,s=dt(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,h=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),v=p;v<=g;v++)h.push(Ej(eE(new Date),v));var y=function(x){var j=Ej(Pr(r),Number(x.target.value));e.onChange(j)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:mT;return n.jsx(w,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:r.getFullYear(),caption:u(r,{locale:o}),children:h.map(function(x){return n.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function aV(e,t){var r=f.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function iV(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&yl(i,a)<0){var d=-1*(c-1);a=rn(i,d)}return o&&yl(a,o)<0&&(a=o),Pr(a)}function oV(){var e=dt(),t=iV(e),r=aV(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Pr(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function lV(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=Pr(e),i=Pr(rn(a,s)),o=yl(i,a),l=[],c=0;c<o;c++){var d=rn(a,c);l.push(d)}return r&&(l=l.reverse()),l}function cV(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Pr(e);if(!r)return rn(l,o);var c=yl(r,e);if(!(c<i))return rn(l,o)}}function dV(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Pr(e);if(!r)return rn(l,-o);var c=yl(l,r);if(!(c<=0))return rn(l,-o)}}var pT=f.createContext(void 0);function uV(e){var t=dt(),r=oV(),s=r[0],a=r[1],i=lV(s,t),o=cV(s,t),l=dV(s,t),c=function(m){return i.some(function(h){return xy(m,h)})},d=function(m,h){c(m)||(h&&iE(m,h)?a(rn(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(pT.Provider,{value:u,children:e.children})}function $d(){var e=f.useContext(pT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function ab(e){var t,r=dt(),s=r.classNames,a=r.styles,i=r.components,o=$d().goToMonth,l=function(u){o(rn(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:fT,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(sV,{onChange:l,displayMonth:e.displayMonth}),n.jsx(nV,{onChange:l,displayMonth:e.displayMonth})]})}function hV(e){return n.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fV(e){return n.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var cf=f.forwardRef(function(e,t){var r=dt(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Se(Se({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Se({},e,{ref:t,type:"button",className:o,style:l}))});function mV(e){var t,r,s=dt(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),y=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:fV,w=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:hV;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(cf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(y,{className:o.nav_icon,style:l.nav_icon}):n.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(cf,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(w,{className:o.nav_icon,style:l.nav_icon}):n.jsx(y,{className:o.nav_icon,style:l.nav_icon})})]})}function ib(e){var t=dt().numberOfMonths,r=$d(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return xy(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),h=function(){s&&i(s)},p=function(){a&&i(a)};return n.jsx(mV,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:s,onPreviousClick:h,onNextClick:p})}function pV(e){var t,r=dt(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:fT,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(ab,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(ab,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(ib,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ib,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function gV(e){var t=dt(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function vV(e,t,r){for(var s=r?Qi(new Date):sn(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Nr(s,i);a.push(o)}return a}function xV(){var e=dt(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=vV(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function yV(){var e,t=dt(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:xV;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function wV(e){var t=dt(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var Ly=f.createContext(void 0);function jV(e){if(!Fd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(Ly.Provider,{value:t,children:e.children})}return n.jsx(bV,{initialProps:e.initialProps,children:e.children})}function bV(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,m){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,m);var g=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!g){var v=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!v){var y=s?uT([],s):[];if(u.selected){var w=y.findIndex(function(x){return Gr(d,x)});y.splice(w,1)}else y.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,y,d,u,m)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,m=s.some(function(h){return Gr(h,d)});return!!(u&&!m)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(Ly.Provider,{value:c,children:r})}function $y(){var e=f.useContext(Ly);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function _V(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?Gr(a,e)&&Gr(s,e)?void 0:Gr(a,e)?{from:a,to:void 0}:Gr(s,e)?void 0:dv(s,e)?{from:e,to:a}:{from:s,to:e}:a?dv(e,a)?{from:a,to:e}:{from:e,to:a}:s?iE(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Uy=f.createContext(void 0);function NV(e){if(!Ld(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(Uy.Provider,{value:t,children:e.children})}return n.jsx(SV,{initialProps:e.initialProps,children:e.children})}function SV(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,g,v){var y,w;(y=t.onDayClick)===null||y===void 0||y.call(t,p,g,v);var x=_V(p,s);(w=t.onSelect)===null||w===void 0||w.call(t,x,p,g,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Gr(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:bp(i,l-1),before:Nr(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Nr(i,l-1)}),!i&&o&&u.disabled.push({after:bp(o,l-1),before:Nr(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Nr(i,-c+1)}),u.disabled.push({after:Nr(i,c-1)})),i&&o){var m=jn(o,i)+1,h=c-m;u.disabled.push({before:bp(i,h)}),u.disabled.push({after:Nr(o,h)})}!i&&o&&(u.disabled.push({before:Nr(o,-c+1)}),u.disabled.push({after:Nr(o,c-1)}))}return n.jsx(Uy.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function By(){var e=f.useContext(Uy);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function th(e){return Array.isArray(e)?uT([],e):e!==void 0?[e]:[]}function kV(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=th(a)}),t}var nn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(nn||(nn={}));var CV=nn.Selected,Ln=nn.Disabled,EV=nn.Hidden,PV=nn.Today,Cp=nn.RangeEnd,Ep=nn.RangeMiddle,Pp=nn.RangeStart,TV=nn.Outside;function AV(e,t,r){var s,a=(s={},s[CV]=th(e.selected),s[Ln]=th(e.disabled),s[EV]=th(e.hidden),s[PV]=[e.today],s[Cp]=[],s[Ep]=[],s[Pp]=[],s[TV]=[],s);return e.fromDate&&a[Ln].push({before:e.fromDate}),e.toDate&&a[Ln].push({after:e.toDate}),Fd(e)?a[Ln]=a[Ln].concat(t.modifiers[Ln]):Ld(e)&&(a[Ln]=a[Ln].concat(r.modifiers[Ln]),a[Pp]=r.modifiers[Pp],a[Ep]=r.modifiers[Ep],a[Cp]=r.modifiers[Cp]),a}var gT=f.createContext(void 0);function RV(e){var t=dt(),r=$y(),s=By(),a=AV(t,r,s),i=kV(t.modifiers),o=Se(Se({},a),i);return n.jsx(gT.Provider,{value:o,children:e.children})}function vT(){var e=f.useContext(gT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function OV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function DV(e){return!!(e&&typeof e=="object"&&"from"in e)}function MV(e){return!!(e&&typeof e=="object"&&"after"in e)}function IV(e){return!!(e&&typeof e=="object"&&"before"in e)}function FV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function LV(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=jn(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=jn(e,s)>=0&&jn(a,e)>=0;return o}return a?Gr(a,e):s?Gr(s,e):!1}function $V(e){return py(e)}function UV(e){return Array.isArray(e)&&e.every(py)}function BV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if($V(r))return Gr(e,r);if(UV(r))return r.includes(e);if(DV(r))return LV(e,r);if(FV(r))return r.dayOfWeek.includes(e.getDay());if(OV(r)){var s=jn(r.before,e),a=jn(r.after,e),i=s>0,o=a<0,l=dv(r.before,r.after);return l?o&&i:i||o}return MV(r)?jn(e,r.after)>0:IV(r)?jn(r.before,e)>0:typeof r=="function"?r(e):!1})}function zy(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return BV(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!xy(e,r)&&(a.outside=!0),a}function zV(e,t){for(var r=Pr(e[0]),s=am(e[e.length-1]),a,i,o=r;o<=s;){var l=zy(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Nr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Nr(o,1)}return i||a}var VV=365;function xT(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,h={day:Nr,week:cv,month:rn,year:W8,startOfWeek:function(y){return a.ISOWeek?Qi(y):sn(y,{locale:m,weekStartsOn:c})},endOfWeek:function(y){return a.ISOWeek?tE(y):gy(y,{locale:m,weekStartsOn:c})}},p=h[r](e,s==="after"?1:-1);s==="before"&&d?p=q8([d,p]):s==="after"&&u&&(p=H8([u,p]));var g=!0;if(i){var v=zy(p,i);g=!v.disabled&&!v.hidden}return g?p:l.count>VV?l.lastFocused:xT(p,{moveBy:r,direction:s,context:a,modifiers:i,retry:Se(Se({},l),{count:l.count+1})})}var yT=f.createContext(void 0);function WV(e){var t=$d(),r=vT(),s=f.useState(),a=s[0],i=s[1],o=f.useState(),l=o[0],c=o[1],d=zV(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),i(void 0)},h=function(y){i(y)},p=dt(),g=function(y,w){if(a){var x=xT(a,{moveBy:y,direction:w,context:p,modifiers:r});Gr(a,x)||(t.goToDate(x,a),h(x))}},v={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return n.jsx(yT.Provider,{value:v,children:e.children})}function Vy(){var e=f.useContext(yT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function qV(e,t){var r=vT(),s=zy(e,r,t);return s}var Wy=f.createContext(void 0);function HV(e){if(!xm(e.initialProps)){var t={selected:void 0};return n.jsx(Wy.Provider,{value:t,children:e.children})}return n.jsx(KV,{initialProps:e.initialProps,children:e.children})}function KV(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(Wy.Provider,{value:a,children:r})}function wT(){var e=f.useContext(Wy);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function GV(e,t){var r=dt(),s=wT(),a=$y(),i=By(),o=Vy(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,m=o.blur,h=o.focus,p=o.focusMonthBefore,g=o.focusMonthAfter,v=o.focusYearBefore,y=o.focusYearAfter,w=o.focusStartOfWeek,x=o.focusEndOfWeek,j=function($){var E,M,Q,oe;xm(r)?(E=s.onDayClick)===null||E===void 0||E.call(s,e,t,$):Fd(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,$):Ld(r)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,$):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,e,t,$)},_=function($){var E;h(e),(E=r.onDayFocus)===null||E===void 0||E.call(r,e,t,$)},S=function($){var E;m(),(E=r.onDayBlur)===null||E===void 0||E.call(r,e,t,$)},N=function($){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,e,t,$)},k=function($){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,e,t,$)},b=function($){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,e,t,$)},C=function($){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,e,t,$)},I=function($){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,e,t,$)},A=function($){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,e,t,$)},L=function($){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,e,t,$)},Z=function($){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,e,t,$)},z=function($){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,e,t,$)},R=function($){var E;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),d();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),u();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():p();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?y():g();break;case"Home":$.preventDefault(),$.stopPropagation(),w();break;case"End":$.preventDefault(),$.stopPropagation(),x();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,e,t,$)},D={onClick:j,onFocus:_,onBlur:S,onKeyDown:R,onKeyUp:z,onMouseEnter:N,onMouseLeave:k,onPointerEnter:b,onPointerLeave:C,onTouchCancel:I,onTouchEnd:A,onTouchMove:L,onTouchStart:Z};return D}function YV(){var e=dt(),t=wT(),r=$y(),s=By(),a=xm(e)?t.selected:Fd(e)?r.selected:Ld(e)?s.selected:void 0;return a}function QV(e){return Object.values(nn).includes(e)}function ZV(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(QV(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function JV(e,t){var r=Se({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Se(Se({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function XV(e,t,r){var s,a,i,o=dt(),l=Vy(),c=qV(e,t),d=GV(e,c),u=YV(),m=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var N;c.outside||l.focusedDay&&m&&Gr(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,m,c.outside]);var h=ZV(o,c).join(" "),p=JV(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:wV,y=n.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),w={style:p,className:h,children:y,role:"gridcell"},x=l.focusTarget&&Gr(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&Gr(l.focusedDay,e),_=Se(Se(Se({},w),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=j||x?0:-1,s)),d),S={isButton:m,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:w};return S}function e7(e){var t=f.useRef(null),r=XV(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(cf,Se({name:"day",ref:t},r.buttonProps)):n.jsx("div",Se({},r.divProps))}function t7(e){var t=e.number,r=e.dates,s=dt(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var m=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return n.jsx(cf,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function r7(e){var t,r,s=dt(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:e7,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:t7,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:m})},eB(m))})]})}function ob(e,t,r){for(var s=r!=null&&r.ISOWeek?tE(t):gy(t,r),a=r!=null&&r.ISOWeek?Qi(e):sn(e,r),i=jn(s,a),o=[],l=0;l<=i;l++)o.push(Nr(a,l));var c=o.reduce(function(d,u){var m=r!=null&&r.ISOWeek?rE(u):nE(u,r),h=d.find(function(p){return p.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function s7(e,t){var r=ob(Pr(e),am(e),t);if(t!=null&&t.useFixedWeeks){var s=rB(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=cv(i,6-s),l=ob(cv(i,1),o,t);r.push.apply(r,l)}}return r}function n7(e){var t,r,s,a=dt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,g=s7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:yV,y=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:r7,w=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:gV;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(v,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return n.jsx(y,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),n.jsx(w,{displayMonth:e.displayMonth})]})}function a7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var i7=a7()?f.useLayoutEffect:f.useEffect,Tp=!1,o7=0;function lb(){return"react-day-picker-".concat(++o7)}function l7(e){var t,r=e??(Tp?lb():null),s=f.useState(r),a=s[0],i=s[1];return i7(function(){a===null&&i(lb())},[]),f.useEffect(function(){Tp===!1&&(Tp=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function c7(e){var t,r,s=dt(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=$d().displayMonths,d=l7(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],h=o.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(m.push(i.caption_start),h=Se(Se({},h),o.caption_start)),g&&(m.push(i.caption_end),h=Se(Se({},h),o.caption_end)),v&&(m.push(i.caption_between),h=Se(Se({},h),o.caption_between));var y=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:pV;return n.jsxs("div",{className:m.join(" "),style:h,children:[n.jsx(y,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(n7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function d7(e){var t=dt(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function u7(e){var t,r,s=e.initialProps,a=dt(),i=Vy(),o=$d(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=Se(Se({},a.styles.root),a.style),h=Object.keys(s).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var y;return Se(Se({},g),(y={},y[v]=s[v],y))},{}),p=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:d7;return n.jsx("div",Se({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},h,{children:n.jsx(p,{children:o.displayMonths.map(function(g,v){return n.jsx(c7,{displayIndex:v,displayMonth:g},v)})})}))}function h7(e){var t=e.children,r=I9(e,["children"]);return n.jsx(tV,{initialProps:r,children:n.jsx(uV,{children:n.jsx(HV,{initialProps:r,children:n.jsx(jV,{initialProps:r,children:n.jsx(NV,{initialProps:r,children:n.jsx(RV,{children:n.jsx(WV,{children:t})})})})})})})}function f7(e){return n.jsx(h7,Se({},e,{children:n.jsx(u7,{initialProps:e})}))}function Ec({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(f7,{showOutsideDays:r,className:W("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:W(td({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:W(td({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(vd,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(Sn,{className:"h-4 w-4"})},...s})}Ec.displayName="Calendar";var ym="Popover",[jT,hH]=wr(ym,[si]),Ud=si(),[m7,ui]=jT(ym),bT=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Ud(t),c=f.useRef(null),[d,u]=f.useState(!1),[m,h]=Pn({prop:s,defaultProp:a??!1,onChange:i,caller:ym});return n.jsx(Lx,{...l,children:n.jsx(m7,{scope:t,contentId:Zs(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};bT.displayName=ym;var _T="PopoverAnchor",p7=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ui(_T,r),i=Ud(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(yd,{...i,...s,ref:t})});p7.displayName=_T;var NT="PopoverTrigger",ST=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ui(NT,r),i=Ud(r),o=Ee(t,a.triggerRef),l=n.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":TT(a.open),...s,ref:o,onClick:ee(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(yd,{asChild:!0,...i,children:l})});ST.displayName=NT;var qy="PopoverPortal",[g7,v7]=jT(qy,{forceMount:void 0}),kT=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=ui(qy,t);return n.jsx(g7,{scope:t,forceMount:r,children:n.jsx(Xt,{present:r||i.open,children:n.jsx(Al,{asChild:!0,container:a,children:s})})})};kT.displayName=qy;var Cl="PopoverContent",CT=f.forwardRef((e,t)=>{const r=v7(Cl,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=ui(Cl,e.__scopePopover);return n.jsx(Xt,{present:s||i.open,children:i.modal?n.jsx(y7,{...a,ref:t}):n.jsx(w7,{...a,ref:t})})});CT.displayName=Cl;var x7=Ha("PopoverContent.RemoveScroll"),y7=f.forwardRef((e,t)=>{const r=ui(Cl,e.__scopePopover),s=f.useRef(null),a=Ee(t,s),i=f.useRef(!1);return f.useEffect(()=>{const o=s.current;if(o)return Zf(o)},[]),n.jsx(Cd,{as:x7,allowPinchZoom:!0,children:n.jsx(ET,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),w7=f.forwardRef((e,t)=>{const r=ui(Cl,e.__scopePopover),s=f.useRef(!1),a=f.useRef(!1);return n.jsx(ET,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ET=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,h=ui(Cl,r),p=Ud(r);return Yf(),n.jsx(Sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(so,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(If,{"data-state":TT(h.open),role:"dialog",id:h.contentId,...p,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PT="PopoverClose",j7=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ui(PT,r);return n.jsx(ye.button,{type:"button",...s,ref:t,onClick:ee(e.onClick,()=>a.onOpenChange(!1))})});j7.displayName=PT;var b7="PopoverArrow",_7=f.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ud(r);return n.jsx(Ff,{...a,...s,ref:t})});_7.displayName=b7;function TT(e){return e?"open":"closed"}var N7=bT,S7=ST,k7=kT,AT=CT;const rh=N7,sh=S7,Pc=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(k7,{children:n.jsx(AT,{ref:a,align:t,sideOffset:r,className:W("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Pc.displayName=AT.displayName;const C7=[{value:"morning",label:"Morning (8AM - 12PM)"},{value:"afternoon",label:"Afternoon (12PM - 4PM)"},{value:"evening",label:"Evening (4PM - 8PM)"},{value:"night",label:"Night (8PM - 11PM)"}];function E7({businessType:e,onBookSlot:t}){const[r,s]=f.useState(),[a,i]=f.useState(""),[o,l]=f.useState(2),[c,d]=f.useState(1),u=e==="hotel",m=()=>{!r||!a||t({date:r,timeSlot:a,people:o,...u&&{rooms:c}})};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:u?"Book a Room":"Reserve a Table"}),n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(Rt,{className:"w-4 h-4"}),"Select Date"]}),n.jsxs(rh,{children:[n.jsx(sh,{asChild:!0,children:n.jsx(P,{variant:"outline",className:W("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:r?Fe(r,"PPP"):"Pick a date"})}),n.jsx(Pc,{className:"w-auto p-0",align:"start",children:n.jsx(Ec,{mode:"single",selected:r,onSelect:s,disabled:h=>h<new Date,initialFocus:!0,className:"pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(Ol,{className:"w-4 h-4"}),"Time Slot"]}),n.jsxs(st,{value:a,onValueChange:i,children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select time slot"})}),n.jsx(Xe,{children:C7.map(h=>n.jsx(be,{value:h.value,children:h.label},h.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(Hi,{className:"w-4 h-4"}),"Number of ",u?"Guests":"People"]}),n.jsx(J,{type:"number",min:1,max:20,value:o,onChange:h=>l(parseInt(h.target.value)||1)})]}),u&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(B,{className:"flex items-center gap-2",children:[n.jsx(u4,{className:"w-4 h-4"}),"Number of Rooms"]}),n.jsx(J,{type:"number",min:1,max:10,value:c,onChange:h=>d(parseInt(h.target.value)||1)})]}),n.jsx(P,{className:"w-full",onClick:m,disabled:!r||!a,children:u?"Reserve Now":"Book a Slot"})]})]})}const P7=[{icon:Af,title:"Inquiry",description:"Contact the agency via call, WhatsApp, or our platform."},{icon:NN,title:"Planning",description:"Discuss dates, budget, preferences, and requirements."},{icon:kn,title:"Confirmation",description:"Finalize package, price, and detailed itinerary."},{icon:Ze,title:"Service",description:"Agency delivers the tour/service as planned."}];function T7({packages:e,onContactAgency:t,onSelectPackage:r}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"How This Agency Works"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"We help you plan and experience the best of Ukhrul. Here's how we work together:"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:P7.map((s,a)=>n.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary/10 text-primary",children:n.jsx(s.icon,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["Step ",a+1]}),n.jsx("h4",{className:"font-semibold text-sm text-foreground",children:s.title}),n.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]},s.title))})]}),e&&e.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[n.jsx(Yt,{className:"w-5 h-5"}),"Popular Packages"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(s=>n.jsxs(G,{className:"overflow-hidden border-border",children:[s.image&&n.jsx("div",{className:"aspect-video overflow-hidden bg-muted",children:n.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),n.jsxs(Y,{className:"p-4 space-y-2",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:s.name}),s.description&&n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description}),s.starting_price&&n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Starting from "}),n.jsxs("span",{className:"font-semibold text-primary",children:["",s.starting_price.toLocaleString()]})]}),n.jsx(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>r(s),children:"View Package"})]})]},s.id))})]}),n.jsxs(P,{onClick:t,className:"w-full",children:[n.jsx(Af,{className:"w-4 h-4 mr-2"}),"Contact / Book with Agency"]})]})}function A7({isOpen:e,onClose:t,business:r,products:s=[],packages:a=[]}){const{user:i}=wt(),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState(""),[h,p]=f.useState([]),[g,v]=f.useState(),[y,w]=f.useState(),[x,j]=f.useState(""),[_,S]=f.useState(2),[N,k]=f.useState(1),[b,C]=f.useState(""),[I,A]=f.useState(),L=r.business_type,Z=()=>{switch(L){case"cafe":case"restaurant":return"food";case"hotel":return"booking";case"agency":return"tour";default:return"product"}},z=(ne,Pe)=>{p(H=>{const Le=H.find(Te=>Te.productId===ne.id);if(Le){const Te=Le.quantity+Pe;return Te<=0?H.filter(ke=>ke.productId!==ne.id):H.map(ke=>ke.productId===ne.id?{...ke,quantity:Te}:ke)}else if(Pe>0)return[...H,{productId:ne.id,name:ne.name,price:ne.discount_price||ne.price,quantity:1}];return H})},R=ne=>{var Pe;return((Pe=h.find(H=>H.productId===ne))==null?void 0:Pe.quantity)||0},D=()=>h.reduce((ne,Pe)=>ne+Pe.price*Pe.quantity,0),$=()=>{switch(L){case"product":return{items:h,totalAmount:D(),customNotes:u};case"cafe":case"restaurant":return{items:h,totalAmount:D(),preferredTime:x,customNotes:u};case"hotel":return{checkInDate:g?Fe(g,"yyyy-MM-dd"):null,checkOutDate:y?Fe(y,"yyyy-MM-dd"):null,numRooms:N,numGuests:_,customNotes:u};case"agency":return{packageName:b||"Custom Request",travelDate:I?Fe(I,"yyyy-MM-dd"):null,numPeople:_,customNotes:u};default:return{customNotes:u}}},E=async()=>{if(!c.trim()){qu({title:"Contact required",description:"Please enter your phone number or WhatsApp",variant:"destructive"});return}l(!0);try{const ne={business_id:r.id,business_name:r.name,business_type:L,order_type:Z(),details:$(),user_contact:c,user_id:(i==null?void 0:i.id)||null},{error:Pe}=await O.from("dropee_orders").insert(ne);if(Pe)throw Pe;qu({title:"Order Placed!",description:"HashtagDropee will contact you shortly to confirm your order."}),t()}catch(ne){qu({title:"Order failed",description:ne.message,variant:"destructive"})}finally{l(!1)}},M=()=>n.jsxs("div",{className:"space-y-4",children:[s.length>0?n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.map(ne=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:ne.name}),n.jsxs("p",{className:"text-sm text-primary",children:["",ne.discount_price||ne.price]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>z(ne,-1),children:n.jsx(T4,{className:"h-4 w-4"})}),n.jsx("span",{className:"w-8 text-center font-medium",children:R(ne.id)}),n.jsx(P,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>z(ne,1),children:n.jsx(an,{className:"h-4 w-4"})})]})]},ne.id))}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No products listed. Use the custom order field below."}),h.length>0&&n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsxs("p",{className:"font-semibold",children:["Total: ",D().toLocaleString()]})})]}),Q=()=>n.jsxs("div",{className:"space-y-4",children:[M(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Preferred Pickup/Delivery Time"}),n.jsxs(st,{value:x,onValueChange:j,children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select time"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"asap",children:"As soon as possible"}),n.jsx(be,{value:"morning",children:"Morning (9AM - 12PM)"}),n.jsx(be,{value:"afternoon",children:"Afternoon (12PM - 4PM)"}),n.jsx(be,{value:"evening",children:"Evening (4PM - 8PM)"})]})]})]})]}),oe=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Check-in Date"}),n.jsxs(rh,{children:[n.jsx(sh,{asChild:!0,children:n.jsxs(P,{variant:"outline",className:W("w-full justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[n.jsx(Rt,{className:"mr-2 h-4 w-4"}),g?Fe(g,"PP"):"Select"]})}),n.jsx(Pc,{className:"w-auto p-0",children:n.jsx(Ec,{mode:"single",selected:g,onSelect:v,disabled:ne=>ne<new Date,className:"pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Check-out Date"}),n.jsxs(rh,{children:[n.jsx(sh,{asChild:!0,children:n.jsxs(P,{variant:"outline",className:W("w-full justify-start text-left font-normal",!y&&"text-muted-foreground"),children:[n.jsx(Rt,{className:"mr-2 h-4 w-4"}),y?Fe(y,"PP"):"Select"]})}),n.jsx(Pc,{className:"w-auto p-0",children:n.jsx(Ec,{mode:"single",selected:y,onSelect:w,disabled:ne=>ne<(g||new Date),className:"pointer-events-auto"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Rooms"}),n.jsx(J,{type:"number",min:1,value:N,onChange:ne=>k(parseInt(ne.target.value)||1)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Guests"}),n.jsx(J,{type:"number",min:1,value:_,onChange:ne=>S(parseInt(ne.target.value)||1)})]})]})]}),de=()=>n.jsxs("div",{className:"space-y-4",children:[a.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Select Package"}),n.jsxs(st,{value:b,onValueChange:C,children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Choose a package"})}),n.jsxs(Xe,{children:[a.map(ne=>n.jsx(be,{value:ne.name,children:ne.name},ne.id)),n.jsx(be,{value:"custom",children:"Custom Request"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Travel Date"}),n.jsxs(rh,{children:[n.jsx(sh,{asChild:!0,children:n.jsxs(P,{variant:"outline",className:W("w-full justify-start text-left font-normal",!I&&"text-muted-foreground"),children:[n.jsx(Rt,{className:"mr-2 h-4 w-4"}),I?Fe(I,"PPP"):"Pick a date"]})}),n.jsx(Pc,{className:"w-auto p-0",children:n.jsx(Ec,{mode:"single",selected:I,onSelect:A,disabled:ne=>ne<new Date,className:"pointer-events-auto"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Number of People"}),n.jsx(J,{type:"number",min:1,value:_,onChange:ne=>S(parseInt(ne.target.value)||1)})]})]}),_e=()=>{switch(L){case"cafe":case"restaurant":return Q();case"hotel":return oe();case"agency":return de();default:return M()}},ge=()=>{switch(L){case"cafe":case"restaurant":return"Order Food with #Dropee";case"hotel":return"Book Room with #Dropee";case"agency":return"Book Tour with #Dropee";default:return"Place Order with #Dropee"}};return n.jsx(qt,{open:e,onOpenChange:ne=>!ne&&t(),children:n.jsxs(It,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(Ft,{children:n.jsxs(Lt,{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"w-5 h-5 text-primary"}),"Order with #Dropee"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsx("p",{className:"font-medium text-foreground",children:r.name}),n.jsx(fe,{variant:"secondary",className:"mt-1",children:L})]}),_e(),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Special Requests / Notes"}),n.jsx(Dt,{placeholder:"Any special instructions or requests...",value:u,onChange:ne=>m(ne.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Your Contact (Phone/WhatsApp) *"}),n.jsx(J,{placeholder:"Enter your phone number",value:c,onChange:ne=>d(ne.target.value)})]}),n.jsxs(P,{className:"w-full",onClick:E,disabled:o,children:[o?n.jsx(ot,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Et,{className:"w-4 h-4 mr-2"}),ge()]})]})]})})}function R7({images:e,onChange:t,maxImages:r=3,className:s}){const[a,i]=f.useState(!1),o=async d=>{if(!d.type.startsWith("image/"))return F.error("Please upload an image file"),null;if(d.size>5*1024*1024)return F.error("Image must be less than 5MB"),null;const u=d.name.split(".").pop(),h=`reviews/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${u}`}`,{error:p}=await O.storage.from("images").upload(h,d);if(p)return console.error("Upload error:",p),F.error("Failed to upload image"),null;const{data:{publicUrl:g}}=O.storage.from("images").getPublicUrl(h);return g},l=async d=>{const u=d.target.files;if(!u||u.length===0)return;const m=r-e.length;if(m<=0){F.error(`Maximum ${r} images allowed`);return}const h=Array.from(u).slice(0,m);i(!0);const p=[];for(const g of h){const v=await o(g);v&&p.push(v)}i(!1),p.length>0&&t([...e,...p]),d.target.value=""},c=d=>{const u=e.filter((m,h)=>h!==d);t(u)};return n.jsxs("div",{className:W("space-y-3",s),children:[e.length>0&&n.jsx("div",{className:"flex gap-2 flex-wrap",children:e.map((d,u)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:d,alt:`Review image ${u+1}`,className:"h-20 w-20 object-cover rounded-lg border border-border"}),n.jsx("button",{type:"button",onClick:()=>c(u),className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-destructive text-destructive-foreground flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(ri,{className:"h-3 w-3"})})]},u))}),e.length<r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{type:"button",variant:"outline",size:"sm",disabled:a,onClick:()=>{var d;return(d=document.getElementById("review-image-input"))==null?void 0:d.click()},className:"gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_4,{className:"h-4 w-4"}),"Add Photos"]})}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length,"/",r," photos"]}),n.jsx("input",{id:"review-image-input",type:"file",accept:"image/*",multiple:!0,onChange:l,className:"hidden"})]})]})}const O7=co({rating:rz().min(1,"Please select a rating").max(5),comment:Cr().optional(),images:sz(Cr()).optional()});function RT({open:e,onOpenChange:t,businessId:r,placeId:s,itemName:a,onSuccess:i,editReview:o}){const{user:l}=wt(),[c,d]=f.useState(!1),[u,m]=f.useState(0),h=Li({resolver:$i(O7),defaultValues:{rating:0,comment:"",images:[]}});f.useEffect(()=>{o?h.reset({rating:o.rating,comment:o.comment||"",images:o.images||[]}):h.reset({rating:0,comment:"",images:[]})},[o,h]);const p=h.watch("rating"),g=h.watch("images")||[],v=async y=>{if(!l){F.error("Please sign in to submit a review");return}if(d(!0),o){const{error:w}=await O.from("reviews").update({rating:y.rating,comment:y.comment||null,images:y.images||[]}).eq("id",o.id);if(d(!1),w){F.error("Failed to update review");return}F.success("Review updated!")}else{const{error:w}=await O.from("reviews").insert({business_id:r||null,place_id:s||null,user_id:l.id,rating:y.rating,comment:y.comment||null,images:y.images||[]});if(d(!1),w){w.code==="23505"?F.error("You have already reviewed this"):F.error("Failed to submit review");return}F.success("Review submitted!")}h.reset(),t(!1),i==null||i()};return n.jsx(qt,{open:e,onOpenChange:t,children:n.jsxs(It,{className:"sm:max-w-md",children:[n.jsxs(Ft,{children:[n.jsx(Lt,{children:o?"Edit Review":"Write a Review"}),n.jsxs(nm,{children:["Share your experience at ",a]})]}),n.jsx(Ui,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-6",children:[n.jsx(pr,{control:h.control,name:"rating",render:({field:y})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Rating"}),n.jsx(ir,{children:n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(w=>n.jsx("button",{type:"button",className:"p-1 transition-transform hover:scale-110",onMouseEnter:()=>m(w),onMouseLeave:()=>m(0),onClick:()=>y.onChange(w),children:n.jsx(yt,{className:W("h-8 w-8 transition-colors",(u||p)>=w?"fill-primary text-primary":"text-muted-foreground")})},w))})}),n.jsx(or,{})]})}),n.jsx(pr,{control:h.control,name:"comment",render:({field:y})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Your Review (Optional)"}),n.jsx(ir,{children:n.jsx(Dt,{placeholder:"Share details about your experience...",className:"min-h-[100px] resize-none",...y})}),n.jsx(or,{})]})}),n.jsx(pr,{control:h.control,name:"images",render:({field:y})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Photos (Optional)"}),n.jsx(ir,{children:n.jsx(R7,{images:g,onChange:y.onChange,maxImages:3})}),n.jsx(or,{})]})}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(P,{type:"submit",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),o?"Updating...":"Submitting..."]}):o?"Update Review":"Submit Review"})]})]})})]})})}function D7(){const{slug:e}=jd(),{user:t}=wt(),{isSaved:r,toggleSave:s}=Dd(),[a,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState([]),[h,p]=f.useState([]),[g,v]=f.useState(!0),[y,w]=f.useState(!1),[x,j]=f.useState(!1),[_,S]=f.useState(null);f.useEffect(()=>{async function R(){if(!e)return;const{data:D,error:$}=await O.from("businesses").select(`
          id, name, slug, description, short_description, cover_image, images,
          rating, review_count, verified, address, phone, whatsapp, email, website,
          location_lat, location_lng, business_type, has_products, can_take_bookings,
          categories (name, slug, color),
          service_areas (name)
        `).eq("slug",e).eq("active",!0).maybeSingle();if($){console.error("Error fetching business:",$),F.error("Failed to load business");return}if(D){i(D);const{data:E}=await O.from("reviews").select("id, rating, comment, images, created_at, user_id").eq("business_id",D.id).order("created_at",{ascending:!1}).limit(10);if(E&&E.length>0){const Q=E.map(ge=>ge.user_id),{data:oe}=await O.from("profiles").select("id, full_name").in("id",Q),de=new Map((oe==null?void 0:oe.map(ge=>[ge.id,ge.full_name]))||[]),_e=E.map(ge=>({...ge,reviewer_name:de.get(ge.user_id)||null}));l(_e)}else l([]);if(D.has_products){const{data:Q}=await O.from("products").select("id, name, description, price, discount_price, image, category").eq("business_id",D.id).eq("available",!0);d(Q||[])}if(D.business_type==="agency"){const{data:Q}=await O.from("popular_packages").select("id, name, description, starting_price, image").eq("business_id",D.id);m(Q||[])}const{data:M}=await O.from("business_offers").select("id, title, description, offer_type, discount_percentage, discount_amount, image, valid_until").eq("business_id",D.id).eq("is_active",!0).or("valid_until.is.null,valid_until.gte."+new Date().toISOString()).order("created_at",{ascending:!1}).limit(5);p(M||[])}v(!1)}R()},[e]);const N=async()=>{if(!t){F.error("Please sign in to save businesses");return}if(!a)return;const{error:R}=await s("business",a.id);R?F.error("Failed to update saved items"):F.success(r("business",a.id)?"Removed from saved":"Saved!")},k=()=>{a!=null&&a.phone&&(window.location.href=`tel:${a.phone}`)},b=()=>{if(a!=null&&a.whatsapp){const R=a.whatsapp.replace(/\D/g,"");window.open(`https://wa.me/${R}`,"_blank")}},C=()=>{a!=null&&a.location_lat&&(a!=null&&a.location_lng)?window.open(`https://www.google.com/maps/dir/?api=1&destination=${a.location_lat},${a.location_lng}`,"_blank"):a!=null&&a.address&&window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.address)}`,"_blank")},I=async()=>{if(navigator.share)try{await navigator.share({title:a==null?void 0:a.name,text:(a==null?void 0:a.short_description)||"",url:window.location.href})}catch{}else await navigator.clipboard.writeText(window.location.href),F.success("Link copied to clipboard")},A=R=>{w(!0)},L=R=>{F.success(`Booking request for ${R.people} people on ${R.date.toLocaleDateString()}`)},Z=()=>{if(!a)return null;const R=a.business_type;return R==="product"||a.has_products?n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsx(M9,{products:c,onOrderProduct:A})})}):["cafe","restaurant","hotel"].includes(R)&&a.can_take_bookings?n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsx(E7,{businessType:R,onBookSlot:L})})}):R==="agency"?n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsx(T7,{packages:u,onContactAgency:()=>w(!0),onSelectPackage:()=>w(!0)})})}):null};if(g)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(ve,{className:"h-64 w-full"}),n.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[n.jsx(ve,{className:"h-8 w-3/4"}),n.jsx(ve,{className:"h-4 w-1/2"}),n.jsx(ve,{className:"h-20 w-full"})]})]});if(!a)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Business not found"}),n.jsx(He,{to:"/businesses",children:n.jsx(P,{variant:"outline",children:"Browse businesses"})})]})});const z=r("business",a.id);return n.jsxs("div",{className:"min-h-screen bg-background pb-6",children:[n.jsxs("div",{className:"relative h-64 bg-muted",children:[a.cover_image?n.jsx("img",{src:a.cover_image,alt:a.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ze,{className:"h-16 w-16 text-muted-foreground"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"}),n.jsx(He,{to:"/businesses",className:"absolute top-4 left-4",children:n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",onClick:I,children:n.jsx(Th,{className:"h-5 w-5"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",onClick:N,children:n.jsx(no,{className:z?"h-5 w-5 fill-destructive text-destructive":"h-5 w-5"})})]})]}),n.jsxs("main",{className:"container mx-auto px-4 -mt-12 relative z-10 space-y-6",children:[n.jsx(G,{children:n.jsxs(Y,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:a.name}),a.verified&&n.jsx(bN,{className:"h-6 w-6 text-primary"})]}),a.categories&&n.jsx(fe,{variant:"secondary",className:"mt-2",children:a.categories.name})]}),a.review_count>0&&n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-5 w-5 fill-primary text-primary"}),n.jsx("span",{className:"text-xl font-bold text-foreground",children:Number(a.rating).toFixed(1)})]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.review_count," reviews"]})]})]}),a.short_description&&n.jsx("p",{className:"mt-4 text-muted-foreground",children:a.short_description}),n.jsxs("div",{className:"flex gap-2 mt-6 flex-wrap",children:[a.phone&&n.jsxs(P,{className:"flex-1 min-w-[100px] gap-2",onClick:k,children:[n.jsx(Qs,{className:"h-4 w-4"}),"Call"]}),a.whatsapp&&n.jsxs(P,{variant:"outline",className:"flex-1 min-w-[100px] gap-2",onClick:b,children:[n.jsx(Af,{className:"h-4 w-4"}),"WhatsApp"]}),n.jsxs(P,{variant:"default",className:"flex-1 min-w-[140px] gap-2 bg-accent hover:bg-accent/90 text-accent-foreground",onClick:()=>w(!0),children:[n.jsx(Et,{className:"h-4 w-4"}),"Order with #Dropee"]}),n.jsx(P,{variant:"outline",size:"icon",onClick:C,children:n.jsx(Jn,{className:"h-4 w-4"})})]})]})}),a.description&&n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"About"})}),n.jsx(Y,{className:"pt-0",children:n.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:a.description})})]}),h.length>0&&n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:" Special Offers"})}),n.jsx(Y,{className:"pt-0",children:n.jsx("div",{className:"space-y-3",children:h.map(R=>n.jsx("div",{className:"p-4 rounded-lg border border-primary/20 bg-primary/5",children:n.jsxs("div",{className:"flex items-start gap-4",children:[R.image&&n.jsx("img",{src:R.image,alt:R.title,className:"h-16 w-16 object-cover rounded-lg shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:R.title}),n.jsx(fe,{variant:"secondary",className:"text-xs capitalize",children:R.offer_type})]}),R.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(fe,{className:"bg-primary text-primary-foreground",children:R.discount_percentage?`${R.discount_percentage}% OFF`:`${R.discount_amount} OFF`}),R.valid_until&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Valid until ",new Date(R.valid_until).toLocaleDateString()]})]})]})]})},R.id))})})]}),Z(),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Contact & Location"})}),n.jsxs(Y,{className:"pt-0 space-y-4",children:[a.address&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ze,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-foreground",children:a.address}),a.service_areas&&n.jsx("p",{className:"text-sm text-muted-foreground",children:a.service_areas.name})]})]}),a.phone&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Qs,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("a",{href:`tel:${a.phone}`,className:"text-foreground hover:text-primary",children:a.phone})]}),a.website&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(CN,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Visit website"})]})]})]}),n.jsxs(G,{children:[n.jsxs(We,{className:"flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-lg",children:"Reviews"}),t&&n.jsx(P,{variant:"outline",size:"sm",onClick:()=>{S(null),j(!0)},children:"Write a review"})]}),n.jsx(Y,{className:"pt-0",children:o.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-6",children:"No reviews yet. Be the first to review!"}):n.jsx("div",{className:"space-y-4",children:o.map(R=>{var D,$;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(cs,{className:"h-10 w-10",children:n.jsx(ds,{children:(($=(D=R.reviewer_name)==null?void 0:D.charAt(0))==null?void 0:$.toUpperCase())||"U"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-foreground",children:R.reviewer_name||"Anonymous"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-4 w-4 fill-primary text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:R.rating})]}),(t==null?void 0:t.id)===R.user_id&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{S(R),j(!0)},children:n.jsx(Cs,{className:"h-3.5 w-3.5"})}),n.jsxs(es,{children:[n.jsx(Id,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",children:n.jsx(Xr,{className:"h-3.5 w-3.5"})})}),n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Review"}),n.jsx(Lr,{children:"Are you sure you want to delete this review? This action cannot be undone."})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:async()=>{const{error:E}=await O.from("reviews").delete().eq("id",R.id);E?F.error("Failed to delete review"):(F.success("Review deleted"),l(o.filter(M=>M.id!==R.id)))},children:"Delete"})]})]})]})]})]})]}),R.comment&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.comment}),R.images&&R.images.length>0&&n.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:R.images.map((E,M)=>n.jsx("img",{src:E,alt:`Review photo ${M+1}`,className:"h-16 w-16 object-cover rounded-md border border-border"},M))}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(R.created_at).toLocaleDateString()})]})]}),n.jsx(wn,{className:"mt-4"})]},R.id)})})})]})]}),n.jsx(A7,{isOpen:y,onClose:()=>w(!1),business:{id:a.id,name:a.name,business_type:a.business_type},products:c,packages:u}),n.jsx(RT,{open:x,onOpenChange:R=>{j(R),R||S(null)},businessId:a.id,itemName:a.name,editReview:_,onSuccess:async()=>{const{data:R}=await O.from("reviews").select("id, rating, comment, images, created_at, user_id").eq("business_id",a.id).order("created_at",{ascending:!1}).limit(10);if(R&&R.length>0){const D=R.map(M=>M.user_id),{data:$}=await O.from("profiles").select("id, full_name").in("id",D),E=new Map(($==null?void 0:$.map(M=>[M.id,M.full_name]))||[]);l(R.map(M=>({...M,reviewer_name:E.get(M.user_id)||null})))}else l([])}})]})}function M7(){var p;const{currentArea:e}=io(),[t,r]=f.useState([]),[s,a]=f.useState([]),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!0);f.useEffect(()=>{async function g(){const{data:v}=await O.from("categories").select("id, name, slug, icon").eq("type","place").eq("active",!0);a(v||[])}g()},[]),f.useEffect(()=>{async function g(){u(!0);let v=O.from("places").select(`
          id, name, slug, short_description, cover_image,
          rating, review_count, featured, address, difficulty_level,
          entry_fee, category_id,
          categories (name, color)
        `).eq("active",!0).order("featured",{ascending:!1}).order("rating",{ascending:!1});e&&(v=v.eq("service_area_id",e.id)),i&&(v=v.eq("category_id",i)),l.trim()&&(v=v.ilike("name",`%${l}%`));const{data:y,error:w}=await v;w?console.error("Error fetching places:",w):r(y||[]),u(!1)}g()},[e,i,l]);const m=t.filter(g=>g.featured),h=t.filter(g=>!g.featured);return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Places to Visit"}),n.jsx(P,{variant:"outline",size:"icon",children:n.jsx(SN,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),n.jsx(J,{placeholder:"Search places...",className:"pl-10 h-12 bg-secondary border-0",value:l,onChange:g=>c(g.target.value)})]}),n.jsxs(gm,{className:"w-full whitespace-nowrap",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:i===null?"default":"outline",size:"sm",onClick:()=>o(null),children:"All"}),s.map(g=>n.jsx(P,{variant:i===g.id?"default":"outline",size:"sm",onClick:()=>o(g.id),children:g.name},g.id))]}),n.jsx(vm,{orientation:"horizontal"})]}),n.jsx(yy,{page:"places"}),d?n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(g=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"h-36 w-full rounded-lg"}),n.jsx(ve,{className:"h-4 w-3/4"}),n.jsx(ve,{className:"h-3 w-1/2"})]},g))}):t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground",children:"No places found"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try changing your location or search terms"})]}):n.jsxs(n.Fragment,{children:[m.length>0&&n.jsxs("section",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Featured"}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(g=>n.jsx(gl,{place:g},g.id))})]}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:i?(p=s.find(g=>g.id===i))==null?void 0:p.name:"All Places"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:h.map(g=>n.jsx(gl,{place:g,variant:"compact"},g.id))})]})]})]}),n.jsx(cn,{})]})}const I7={parking:pd,food:V4,restroom:w4,guide:_s};function F7(){const{slug:e}=jd(),{user:t}=wt(),{isSaved:r,toggleSave:s}=Dd(),[a,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,m]=f.useState(!1),[h,p]=f.useState(null);f.useEffect(()=>{async function j(){if(!e)return;const{data:_,error:S}=await O.from("places").select(`
          id, name, slug, description, short_description, cover_image, images,
          rating, review_count, address, location_lat, location_lng,
          difficulty_level, best_time_to_visit, entry_fee, facilities, tips,
          categories (name, slug, color),
          service_areas (name)
        `).eq("slug",e).eq("active",!0).maybeSingle();if(S){console.error("Error fetching place:",S),F.error("Failed to load place");return}if(_){i(_);const{data:N}=await O.from("reviews").select("id, rating, comment, images, created_at, user_id").eq("place_id",_.id).order("created_at",{ascending:!1}).limit(10);if(N&&N.length>0){const k=N.map(I=>I.user_id),{data:b}=await O.from("profiles").select("id, full_name").in("id",k),C=new Map((b==null?void 0:b.map(I=>[I.id,I.full_name]))||[]);l(N.map(I=>({...I,reviewer_name:C.get(I.user_id)||null})))}else l([])}d(!1)}j()},[e]);const g=async()=>{if(!t){F.error("Please sign in to save places");return}if(!a)return;const{error:j}=await s("place",a.id);j?F.error("Failed to update saved items"):F.success(r("place",a.id)?"Removed from saved":"Saved!")},v=()=>{a!=null&&a.location_lat&&(a!=null&&a.location_lng)?window.open(`https://www.google.com/maps/dir/?api=1&destination=${a.location_lat},${a.location_lng}`,"_blank"):a!=null&&a.address&&window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.address)}`,"_blank")},y=async()=>{if(navigator.share)try{await navigator.share({title:a==null?void 0:a.name,text:(a==null?void 0:a.short_description)||"",url:window.location.href})}catch{}else await navigator.clipboard.writeText(window.location.href),F.success("Link copied to clipboard")},w=j=>{switch(j){case"easy":return"bg-green-500/10 text-green-600 border-green-200";case"moderate":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";case"challenging":return"bg-red-500/10 text-red-600 border-red-200";default:return"bg-muted text-muted-foreground"}};if(c)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(ve,{className:"h-64 w-full"}),n.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-4",children:[n.jsx(ve,{className:"h-8 w-3/4"}),n.jsx(ve,{className:"h-4 w-1/2"}),n.jsx(ve,{className:"h-20 w-full"})]})]});if(!a)return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"Place not found"}),n.jsx(He,{to:"/places",children:n.jsx(P,{variant:"outline",children:"Browse places"})})]})});const x=r("place",a.id);return n.jsxs("div",{className:"min-h-screen bg-background pb-6",children:[n.jsxs("div",{className:"relative h-64 bg-muted",children:[a.cover_image?n.jsx("img",{src:a.cover_image,alt:a.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Zn,{className:"h-16 w-16 text-muted-foreground"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"}),n.jsx(He,{to:"/places",className:"absolute top-4 left-4",children:n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",onClick:y,children:n.jsx(Th,{className:"h-5 w-5"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"bg-background/80 backdrop-blur-sm",onClick:g,children:n.jsx(no,{className:x?"h-5 w-5 fill-destructive text-destructive":"h-5 w-5"})})]})]}),n.jsxs("main",{className:"container mx-auto px-4 -mt-12 relative z-10 space-y-6",children:[n.jsx(G,{children:n.jsxs(Y,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:a.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.categories&&n.jsx(fe,{variant:"secondary",children:a.categories.name}),a.difficulty_level&&n.jsx(fe,{variant:"outline",className:W(w(a.difficulty_level)),children:a.difficulty_level})]})]}),a.review_count>0&&n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-5 w-5 fill-primary text-primary"}),n.jsx("span",{className:"text-xl font-bold text-foreground",children:Number(a.rating).toFixed(1)})]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.review_count," reviews"]})]})]}),a.short_description&&n.jsx("p",{className:"mt-4 text-muted-foreground",children:a.short_description}),n.jsxs("div",{className:"flex gap-2 mt-6",children:[n.jsxs(P,{className:"flex-1 gap-2",onClick:v,children:[n.jsx(Jn,{className:"h-4 w-4"}),"Get Directions"]}),n.jsx(P,{variant:"outline",size:"icon",onClick:y,children:n.jsx(Th,{className:"h-4 w-4"})})]})]})}),n.jsx(G,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.best_time_to_visit&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Rt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Best Time"}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:a.best_time_to_visit})]})]}),a.entry_fee!==null&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Rf,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Entry Fee"}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:a.entry_fee>0?`${a.entry_fee}`:"Free"})]})]}),a.difficulty_level&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Zn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Difficulty"}),n.jsx("p",{className:"text-sm font-medium text-foreground capitalize",children:a.difficulty_level})]})]}),a.address&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ze,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Location"}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:a.address})]})]})]})})}),a.description&&n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"About"})}),n.jsx(Y,{className:"pt-0",children:n.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:a.description})})]}),a.facilities&&a.facilities.length>0&&n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Facilities"})}),n.jsx(Y,{className:"pt-0",children:n.jsx("div",{className:"flex flex-wrap gap-3",children:a.facilities.map(j=>{const _=I7[j]||Cg;return n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-secondary",children:[n.jsx(_,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm text-foreground capitalize",children:j})]},j)})})})]}),a.tips&&n.jsxs(G,{children:[n.jsx(We,{children:n.jsxs(qe,{className:"text-lg flex items-center gap-2",children:[n.jsx(Cg,{className:"h-5 w-5 text-primary"}),"Tips"]})}),n.jsx(Y,{className:"pt-0",children:n.jsx("p",{className:"text-muted-foreground",children:a.tips})})]}),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Location"})}),n.jsxs(Y,{className:"pt-0 space-y-4",children:[a.address&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ze,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-foreground",children:a.address}),a.service_areas&&n.jsx("p",{className:"text-sm text-muted-foreground",children:a.service_areas.name})]})]}),n.jsxs(P,{variant:"outline",className:"w-full gap-2",onClick:v,children:[n.jsx(Jn,{className:"h-4 w-4"}),"Open in Google Maps"]})]})]}),n.jsxs(G,{children:[n.jsxs(We,{className:"flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-lg",children:"Reviews"}),t&&n.jsx(P,{variant:"outline",size:"sm",onClick:()=>{p(null),m(!0)},children:"Write a review"})]}),n.jsx(Y,{className:"pt-0",children:o.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Be the first to share your experience"})]}):n.jsx("div",{className:"space-y-4",children:o.map(j=>{var _,S;return n.jsxs("div",{className:"border-b border-border last:border-0 pb-4 last:pb-0",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(cs,{className:"h-10 w-10",children:n.jsx(ds,{children:((S=(_=j.reviewer_name)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())||"U"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-foreground",children:j.reviewer_name||"Anonymous"}),n.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((N,k)=>n.jsx(yt,{className:W("h-3 w-3",k<j.rating?"fill-primary text-primary":"text-muted")},k))})]}),(t==null?void 0:t.id)===j.user_id&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{p(j),m(!0)},children:n.jsx(Cs,{className:"h-3.5 w-3.5"})}),n.jsxs(es,{children:[n.jsx(Id,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",children:n.jsx(Xr,{className:"h-3.5 w-3.5"})})}),n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Review"}),n.jsx(Lr,{children:"Are you sure you want to delete this review? This action cannot be undone."})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:async()=>{const{error:N}=await O.from("reviews").delete().eq("id",j.id);N?F.error("Failed to delete review"):(F.success("Review deleted"),l(o.filter(k=>k.id!==j.id)))},children:"Delete"})]})]})]})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(j.created_at).toLocaleDateString()})]})]}),j.comment&&n.jsx("p",{className:"mt-2 text-muted-foreground text-sm",children:j.comment}),j.images&&j.images.length>0&&n.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:j.images.map((N,k)=>n.jsx("img",{src:N,alt:`Review photo ${k+1}`,className:"h-16 w-16 object-cover rounded-md border border-border"},k))})]},j.id)})})})]})]}),a&&n.jsx(RT,{open:u,onOpenChange:j=>{m(j),j||p(null)},placeId:a.id,itemName:a.name,editReview:h,onSuccess:async()=>{const{data:j}=await O.from("reviews").select("id, rating, comment, images, created_at, user_id").eq("place_id",a.id).order("created_at",{ascending:!1}).limit(10);if(j&&j.length>0){const _=j.map(k=>k.user_id),{data:S}=await O.from("profiles").select("id, full_name").in("id",_),N=new Map((S==null?void 0:S.map(k=>[k.id,k.full_name]))||[]);l(j.map(k=>({...k,reviewer_name:N.get(k.user_id)||null})))}else l([])}})]})}function L7({defaultValue:e="",onSearch:t,placeholder:r="Search businesses, places, events...",className:s,autoFocus:a=!1}){const i=Qt(),[o,l]=f.useState(e),c=u=>{u.preventDefault(),o.trim()&&(t?t(o.trim()):i(`/search?q=${encodeURIComponent(o.trim())}`))},d=()=>{l(""),t&&t("")};return n.jsx("form",{onSubmit:c,className:W("relative",s),children:n.jsxs("div",{className:"relative",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(J,{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:r,className:"pl-10 pr-10",autoFocus:a}),o&&n.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:d,children:n.jsx(ri,{className:"h-4 w-4"})})]})})}function $7(){const[e,t]=MS(),r=e.get("q")||"",[s,a]=f.useState({businesses:[],places:[],events:[]}),[i,o]=f.useState(!1),[l,c]=f.useState(!1);f.useEffect(()=>{r&&d(r)},[r]);const d=async h=>{o(!0),c(!0);const p=`%${h}%`,[g,v,y]=await Promise.all([O.from("businesses").select("*, categories(name, color)").eq("active",!0).or(`name.ilike.${p},short_description.ilike.${p},description.ilike.${p}`).limit(20),O.from("places").select("*, categories(name, color)").eq("active",!0).or(`name.ilike.${p},short_description.ilike.${p},description.ilike.${p}`).limit(20),O.from("events").select("*").eq("active",!0).or(`name.ilike.${p},short_description.ilike.${p},description.ilike.${p}`).limit(20)]);a({businesses:g.data||[],places:v.data||[],events:y.data||[]}),o(!1)},u=h=>{h?t({q:h}):(t({}),a({businesses:[],places:[],events:[]}),c(!1))},m=s.businesses.length+s.places.length+s.events.length;return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-4",children:"Search"}),n.jsx(L7,{defaultValue:r,onSearch:u,autoFocus:!r})]}),i?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>n.jsx(ve,{className:"h-32 w-full rounded-lg"},h))}):l?m===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No results found"}),n.jsx("p",{className:"text-muted-foreground",children:"Try searching for something else"})]}):n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[m," result",m!==1?"s":"",' for "',r,'"']}),n.jsxs(li,{defaultValue:"all",className:"w-full",children:[n.jsxs(ia,{className:"w-full grid grid-cols-4",children:[n.jsxs(pt,{value:"all",className:"text-xs",children:["All (",m,")"]}),n.jsxs(pt,{value:"businesses",className:"text-xs",children:[n.jsx(ea,{className:"h-3 w-3 mr-1"}),"(",s.businesses.length,")"]}),n.jsxs(pt,{value:"places",className:"text-xs",children:[n.jsx(Zn,{className:"h-3 w-3 mr-1"}),"(",s.places.length,")"]}),n.jsxs(pt,{value:"events",className:"text-xs",children:[n.jsx(Rt,{className:"h-3 w-3 mr-1"}),"(",s.events.length,")"]})]}),n.jsxs(xr,{value:"all",className:"mt-6 space-y-6",children:[s.businesses.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),"Businesses"]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.businesses.slice(0,4).map(h=>n.jsx(Yi,{business:h,variant:"compact"},h.id))})]}),s.places.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(Zn,{className:"h-4 w-4"}),"Places"]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.places.slice(0,4).map(h=>n.jsx(gl,{place:h,variant:"compact"},h.id))})]}),s.events.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-foreground mb-3 flex items-center gap-2",children:[n.jsx(Rt,{className:"h-4 w-4"}),"Events"]}),n.jsx("div",{className:"space-y-3",children:s.events.slice(0,3).map(h=>n.jsx(wl,{event:h},h.id))})]})]}),n.jsx(xr,{value:"businesses",className:"mt-6",children:s.businesses.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No businesses found"}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.businesses.map(h=>n.jsx(Yi,{business:h},h.id))})}),n.jsx(xr,{value:"places",className:"mt-6",children:s.places.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No places found"}):n.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.places.map(h=>n.jsx(gl,{place:h},h.id))})}),n.jsx(xr,{value:"events",className:"mt-6",children:s.events.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No events found"}):n.jsx("div",{className:"space-y-3",children:s.events.map(h=>n.jsx(wl,{event:h},h.id))})})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Search Ukhrul"}),n.jsx("p",{className:"text-muted-foreground",children:"Find businesses, places to visit, and events"})]})]}),n.jsx(cn,{})]})}function U7(){const e=Qt(),{user:t,loading:r}=wt(),[s,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0);f.useEffect(()=>{if(!r&&!t){e("/auth");return}t&&d()},[t,r,e]),f.useEffect(()=>{if(!t)return;const g=O.channel("delivery-orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"delivery_orders",filter:`user_id=eq.${t.id}`},v=>{v.eventType==="INSERT"?m():v.eventType==="UPDATE"&&o(y=>y.map(w=>w.id===v.new.id?{...w,...v.new}:w))}).subscribe();return()=>{O.removeChannel(g)}},[t]);const d=async()=>{c(!0),await Promise.all([u(),m()]),c(!1)},u=async()=>{const{data:g,error:v}=await O.from("dropee_orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});v||a(g||[])},m=async()=>{const{data:g,error:v}=await O.from("delivery_orders").select(`
        id, pickup_address, delivery_address, status, total_fee,
        agent_adjusted_fee, distance_km, weight_kg, created_at,
        dropee_services (name),
        delivery_agents!delivery_orders_assigned_agent_id_fkey (full_name, agent_code)
      `).eq("user_id",t.id).order("created_at",{ascending:!1});v||o(g||[])},h=g=>{switch(g){case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";case"agent_assigned":return"bg-blue-500/10 text-blue-600 border-blue-200";case"confirmed":return"bg-blue-500/10 text-blue-600 border-blue-200";case"picked_up":return"bg-purple-500/10 text-purple-600 border-purple-200";case"in_progress":return"bg-purple-500/10 text-purple-600 border-purple-200";case"in_transit":return"bg-indigo-500/10 text-indigo-600 border-indigo-200";case"delivered":return"bg-green-500/10 text-green-600 border-green-200";case"completed":return"bg-green-500/10 text-green-600 border-green-200";case"cancelled":return"bg-red-500/10 text-red-600 border-red-200";default:return"bg-muted text-muted-foreground"}},p=g=>["pending","agent_assigned","picked_up","in_transit"].includes(g);return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(He,{to:"/profile",children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-9 w-9",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"My Orders"})]}),n.jsxs(li,{defaultValue:"delivery",className:"w-full",children:[n.jsxs(ia,{className:"grid w-full grid-cols-2",children:[n.jsxs(pt,{value:"delivery",className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Delivery",i.length>0&&n.jsx(fe,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:i.length})]}),n.jsxs(pt,{value:"business",className:"flex items-center gap-2",children:[n.jsx(Tn,{className:"h-4 w-4"}),"Business",s.length>0&&n.jsx(fe,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:s.length})]})]}),n.jsx(xr,{value:"delivery",className:"mt-4",children:l?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx(ve,{className:"h-32 w-full rounded-lg"},g))}):i.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(Yt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No delivery orders yet"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Request a delivery from the Services page"}),n.jsx(P,{className:"mt-4",onClick:()=>e("/services"),children:"Browse Services"})]})}):n.jsx("div",{className:"space-y-4",children:i.map(g=>{var v,y,w;return n.jsxs(G,{className:"overflow-hidden",children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(qe,{className:"text-base",children:((v=g.dropee_services)==null?void 0:v.name)||"Delivery"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["#",g.id.slice(0,8).toUpperCase()]})]}),n.jsx(fe,{variant:"outline",className:h(g.status),children:((y=g.status)==null?void 0:y.replace(/_/g," "))||"Pending"})]})}),n.jsxs(Y,{className:"pt-0 space-y-3",children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mt-1.5 shrink-0"}),n.jsx("p",{className:"text-muted-foreground line-clamp-1",children:g.pickup_address})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary mt-1.5 shrink-0"}),n.jsx("p",{className:"text-muted-foreground line-clamp-1",children:g.delivery_address})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["",g.agent_adjusted_fee||g.total_fee]}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsxs("span",{className:"text-muted-foreground",children:[(w=g.distance_km)==null?void 0:w.toFixed(1)," km"]})]}),g.delivery_agents&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Agent: ",g.delivery_agents.agent_code]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:Fe(new Date(g.created_at),"MMM d, yyyy h:mm a")}),p(g.status)?n.jsxs(P,{size:"sm",onClick:()=>e(`/track/${g.id}`),children:[n.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Track"]}):n.jsx(P,{variant:"outline",size:"sm",onClick:()=>e(`/track/${g.id}`),children:"View Details"})]})]})]},g.id)})})}),n.jsx(xr,{value:"business",className:"mt-4",children:l?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx(ve,{className:"h-32 w-full rounded-lg"},g))}):s.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(Tn,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No business orders yet"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"When you place orders through Dropee businesses, they'll appear here"})]})}):n.jsx("div",{className:"space-y-4",children:s.map(g=>{var v;return n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-base",children:g.business_name}),n.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:g.order_type.replace("_"," ")})]}),n.jsx(fe,{variant:"outline",className:h(g.status||"pending"),children:((v=g.status)==null?void 0:v.replace("_"," "))||"Pending"})]})}),n.jsx(Y,{className:"pt-0",children:n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("p",{children:["Contact: ",g.user_contact]}),n.jsxs("p",{children:["Ordered: ",Fe(new Date(g.created_at),"MMM d, yyyy h:mm a")]})]})})]},g.id)})})})]})]}),n.jsx(cn,{})]})}function B7(){const e=Qt(),{user:t,loading:r}=wt(),[s,a]=f.useState([]),[i,o]=f.useState(!0);f.useEffect(()=>{if(!r&&!t){e("/auth");return}t&&l()},[t,r,e]);const l=async()=>{const{data:d,error:u}=await O.from("reviews").select("id, rating, comment, created_at, businesses(name, slug)").eq("user_id",t.id).order("created_at",{ascending:!1});u?console.error("Error fetching reviews:",u):a(d||[]),o(!1)},c=async d=>{const{error:u}=await O.from("reviews").delete().eq("id",d);u?F.error("Failed to delete review"):(F.success("Review deleted"),a(s.filter(m=>m.id!==d)))};return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(He,{to:"/profile",children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-9 w-9",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"My Reviews"})]}),i?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>n.jsx(ve,{className:"h-32 w-full rounded-lg"},d))}):s.length===0?n.jsx(G,{className:"border-dashed",children:n.jsxs(Y,{className:"p-12 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted mb-4",children:n.jsx(yt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Share your experiences by reviewing businesses you've visited"})]})}):n.jsx("div",{className:"space-y-4",children:s.map(d=>n.jsx(G,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[d.businesses&&n.jsx(He,{to:`/businesses/${d.businesses.slug}`,className:"font-medium text-foreground hover:text-primary transition-colors",children:d.businesses.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(u=>n.jsx(yt,{className:W("h-4 w-4",u<=d.rating?"fill-primary text-primary":"text-muted-foreground")},u))}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Fe(new Date(d.created_at),"MMM d, yyyy")})]}),d.comment&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:d.comment})]}),n.jsxs(es,{children:[n.jsx(Id,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:n.jsx(Xr,{className:"h-4 w-4"})})}),n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Review"}),n.jsx(Lr,{children:"Are you sure you want to delete this review? This action cannot be undone."})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:()=>c(d.id),children:"Delete"})]})]})]})]})})},d.id))})]}),n.jsx(cn,{})]})}const z7=co({full_name:Cr().min(2,"Name must be at least 2 characters"),phone:Cr().optional()}),V7=co({password:Cr().min(6,"Password must be at least 6 characters"),confirmPassword:Cr()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function W7(){const e=Qt(),{user:t,loading:r}=wt(),[s,a]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(!0),d=Li({resolver:$i(z7),defaultValues:{full_name:"",phone:""}}),u=Li({resolver:$i(V7),defaultValues:{password:"",confirmPassword:""}});f.useEffect(()=>{if(!r&&!t){e("/auth");return}t&&m()},[t,r,e]);const m=async()=>{const{data:g,error:v}=await O.from("profiles").select("full_name, phone").eq("id",t.id).single();!v&&g&&d.reset({full_name:g.full_name||"",phone:g.phone||""}),c(!1)},h=async g=>{a(!0);const{error:v}=await O.from("profiles").update({full_name:g.full_name,phone:g.phone||null}).eq("id",t.id);v?F.error("Failed to update profile"):F.success("Profile updated!"),a(!1)},p=async g=>{o(!0);const{error:v}=await O.auth.updateUser({password:g.password});v?F.error(v.message):(F.success("Password updated!"),u.reset()),o(!1)};return r||l?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsx(on,{}),n.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(He,{to:"/profile",children:n.jsx(P,{variant:"ghost",size:"icon",className:"h-9 w-9",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Settings"})]}),n.jsxs(G,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"h-5 w-5 text-primary"}),n.jsx(qe,{className:"text-lg",children:"Profile"})]}),n.jsx(pl,{children:"Update your personal information"})]}),n.jsx(Y,{children:n.jsx(Ui,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[n.jsx(pr,{control:d.control,name:"full_name",render:({field:g})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Full Name"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"John Doe",...g})}),n.jsx(or,{})]})}),n.jsx(pr,{control:d.control,name:"phone",render:({field:g})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Phone Number"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"+91 9876543210",...g})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})})})]}),n.jsxs(G,{children:[n.jsxs(We,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k4,{className:"h-5 w-5 text-primary"}),n.jsx(qe,{className:"text-lg",children:"Password"})]}),n.jsx(pl,{children:"Change your password"})]}),n.jsx(Y,{children:n.jsx(Ui,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(p),className:"space-y-4",children:[n.jsx(pr,{control:u.control,name:"password",render:({field:g})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"New Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...g})}),n.jsx(or,{})]})}),n.jsx(pr,{control:u.control,name:"confirmPassword",render:({field:g})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Confirm New Password"}),n.jsx(ir,{children:n.jsx(J,{placeholder:"",type:"password",...g})}),n.jsx(or,{})]})}),n.jsx(P,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})})})]}),n.jsx(wn,{}),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Account"})}),n.jsxs(Y,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email"}),n.jsx("span",{className:"text-foreground",children:t==null?void 0:t.email})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Member since"}),n.jsx("span",{className:"text-foreground",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]})]})]}),n.jsx(cn,{})]})}const q7=()=>{const e=ai();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},H7=[{icon:S4,label:"Dashboard",path:"/admin"},{icon:Et,label:"Dropee Services",path:"/admin/services"},{icon:Tn,label:"Delivery Orders",path:"/admin/delivery-orders"},{icon:ea,label:"Businesses",path:"/admin/businesses"},{icon:Yt,label:"Products",path:"/admin/products"},{icon:kx,label:"Offers",path:"/admin/offers"},{icon:Ze,label:"Places",path:"/admin/places"},{icon:Rt,label:"Events",path:"/admin/events"},{icon:Eg,label:"Categories",path:"/admin/categories"},{icon:CN,label:"Service Areas",path:"/admin/service-areas"},{icon:Ph,label:"Banners",path:"/admin/banners"},{icon:Hi,label:"Users",path:"/admin/users"},{icon:Hi,label:"Agents",path:"/admin/agents"},{icon:Tn,label:"Commerce Orders",path:"/admin/orders"},{icon:PN,label:"Reviews",path:"/admin/reviews"},{icon:Eg,label:"Promo Codes",path:"/admin/promo-codes"}];function K7({collapsed:e,onToggle:t}){const r=ai(),s=Qt();return n.jsxs("aside",{className:W("fixed left-0 top-0 z-40 h-screen border-r border-border bg-sidebar-background transition-all duration-300",e?"w-16":"w-64"),children:[n.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-sidebar-border px-4",children:[!e&&n.jsx(He,{to:"/admin",className:"text-lg font-semibold text-sidebar-foreground",children:"Admin Panel"}),n.jsx(P,{variant:"ghost",size:"icon",onClick:t,className:"text-sidebar-foreground hover:bg-sidebar-accent",children:e?n.jsx(EN,{className:"h-5 w-5"}):n.jsx(vd,{className:"h-5 w-5"})})]}),n.jsx(gm,{className:"h-[calc(100vh-8rem)]",children:n.jsx("nav",{className:"space-y-1 p-2",children:H7.map(a=>{const i=r.pathname===a.path||a.path!=="/admin"&&r.pathname.startsWith(a.path);return n.jsxs(He,{to:a.path,className:W("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",i?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",e&&"justify-center px-2"),children:[n.jsx(a.icon,{className:"h-5 w-5 shrink-0"}),!e&&n.jsx("span",{children:a.label})]},a.path)})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 border-t border-sidebar-border",children:n.jsxs(P,{variant:"ghost",className:W("w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent",e&&"justify-center px-2"),onClick:()=>s("/"),children:[n.jsx(Nx,{className:"h-5 w-5 shrink-0"}),!e&&n.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]})}function jr({children:e,title:t,description:r}){const{user:s,loading:a}=wt(),i=Qt(),[o,l]=f.useState(!1),[c,d]=f.useState(!0),[u,m]=f.useState(!1);return f.useEffect(()=>{async function h(){if(!s){d(!1);return}const{data:p,error:g}=await O.rpc("has_role",{_user_id:s.id,_role:"admin"});g?(console.error("Error checking admin role:",g),l(!1)):l(p===!0),d(!1)}a||h()},[s,a]),a||c?n.jsx("div",{className:"flex h-screen items-center justify-center bg-background",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?o?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(K7,{collapsed:u,onToggle:()=>m(!u)}),n.jsxs("div",{className:W("transition-all duration-300",u?"ml-16":"ml-64"),children:[n.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-background px-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-foreground",children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),n.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(He,{to:"/",children:[n.jsx(Nx,{className:"mr-2 h-4 w-4"}),"Back to Site"]})})]}),n.jsx("main",{className:"p-6",children:e})]})]}):n.jsxs("div",{className:"flex h-screen flex-col items-center justify-center gap-4 bg-background p-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin panel."}),n.jsx(P,{asChild:!0,children:n.jsx(He,{to:"/",children:"Return Home"})})]}):(i("/auth"),null)}function G7({title:e,value:t,icon:r,description:s,trend:a}){return n.jsx("div",{className:"rounded-lg border border-border bg-card p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),n.jsx("p",{className:"mt-1 text-3xl font-semibold text-card-foreground",children:t}),s&&n.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:s}),a&&n.jsxs("p",{className:W("mt-1 text-sm font-medium",a.positive?"text-green-600":"text-destructive"),children:[a.positive?"+":"",a.value,"% from last month"]})]}),n.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})}function Y7({stats:e}){return n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:e.map((t,r)=>n.jsx(G7,{...t},r))})}function Q7(){const[e,t]=f.useState({businesses:0,places:0,events:0,users:0,orders:0,reviews:0}),[r,s]=f.useState([]),[a,i]=f.useState(!0);f.useEffect(()=>{async function d(){const[u,m,h,p,g,v]=await Promise.all([O.from("businesses").select("id",{count:"exact",head:!0}),O.from("places").select("id",{count:"exact",head:!0}),O.from("events").select("id",{count:"exact",head:!0}),O.from("profiles").select("id",{count:"exact",head:!0}),O.from("dropee_orders").select("id",{count:"exact",head:!0}),O.from("reviews").select("id",{count:"exact",head:!0})]);t({businesses:u.count||0,places:m.count||0,events:h.count||0,users:p.count||0,orders:g.count||0,reviews:v.count||0});const{data:y}=await O.from("dropee_orders").select("id, business_name, order_type, status, created_at").order("created_at",{ascending:!1}).limit(5);s(y||[]),i(!1)}d()},[]);const o=[{title:"Total Businesses",value:e.businesses,icon:ea},{title:"Total Places",value:e.places,icon:Ze},{title:"Total Events",value:e.events,icon:Rt},{title:"Total Users",value:e.users,icon:Hi}],l=[{label:"Manage Businesses",path:"/admin/businesses",icon:ea},{label:"Manage Places",path:"/admin/places",icon:Ze},{label:"Manage Events",path:"/admin/events",icon:Rt},{label:"View Orders",path:"/admin/orders",icon:Tn},{label:"Moderate Reviews",path:"/admin/reviews",icon:PN},{label:"Manage Users",path:"/admin/users",icon:Hi}],c=d=>{const u={pending:"secondary",confirmed:"default",completed:"outline",cancelled:"destructive"};return n.jsx(fe,{variant:u[d]||"secondary",children:d})};return n.jsx(jr,{title:"Dashboard",description:"Overview of your platform",children:a?n.jsx("div",{className:"flex h-64 items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(Y7,{stats:o}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs(G,{children:[n.jsxs(We,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-lg",children:"Recent Orders"}),n.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:n.jsxs(He,{to:"/admin/orders",children:["View All ",n.jsx(jN,{className:"ml-2 h-4 w-4"})]})})]}),n.jsx(Y,{children:r.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders yet"}):n.jsx("div",{className:"space-y-3",children:r.map(d=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:d.business_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d.order_type})]}),c(d.status)]},d.id))})})]}),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Quick Actions"})}),n.jsx(Y,{children:n.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:l.map(d=>n.jsx(P,{variant:"outline",className:"justify-start",asChild:!0,children:n.jsxs(He,{to:d.path,children:[n.jsx(d.icon,{className:"mr-2 h-4 w-4"}),d.label]})},d.path))})})]})]})]})})}const OT=f.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:W("w-full caption-bottom text-sm",e),...t})}));OT.displayName="Table";const DT=f.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:W("[&_tr]:border-b",e),...t}));DT.displayName="TableHeader";const MT=f.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:W("[&_tr:last-child]:border-0",e),...t}));MT.displayName="TableBody";const Z7=f.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Z7.displayName="TableFooter";const fc=f.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:W("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));fc.displayName="TableRow";const _v=f.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_v.displayName="TableHead";const mc=f.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));mc.displayName="TableCell";const J7=f.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:W("mt-4 text-sm text-muted-foreground",e),...t}));J7.displayName="TableCaption";function ms({data:e,columns:t,searchPlaceholder:r="Search...",searchKey:s,pageSize:a=10,loading:i=!1,actions:o}){const[l,c]=f.useState(""),[d,u]=f.useState(1),[m,h]=f.useState(a),p=s?e.filter(w=>{const x=w[s];return typeof x=="string"?x.toLowerCase().includes(l.toLowerCase()):!0}):e,g=Math.ceil(p.length/m),v=(d-1)*m,y=p.slice(v,v+m);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s&&n.jsxs("div",{className:"relative max-w-sm flex-1",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(J,{placeholder:r,value:l,onChange:w=>{c(w.target.value),u(1)},className:"pl-9"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),n.jsxs(st,{value:String(m),onValueChange:w=>{h(Number(w)),u(1)},children:[n.jsx(Je,{className:"w-20",children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"10",children:"10"}),n.jsx(be,{value:"25",children:"25"}),n.jsx(be,{value:"50",children:"50"}),n.jsx(be,{value:"100",children:"100"})]})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),n.jsx("div",{className:"rounded-lg border border-border",children:n.jsxs(OT,{children:[n.jsx(DT,{children:n.jsxs(fc,{children:[t.map(w=>n.jsx(_v,{children:w.header},w.key)),o&&n.jsx(_v,{className:"w-24",children:"Actions"})]})}),n.jsx(MT,{children:i?n.jsx(fc,{children:n.jsx(mc,{colSpan:t.length+(o?1:0),className:"h-32 text-center text-muted-foreground",children:"Loading..."})}):y.length===0?n.jsx(fc,{children:n.jsx(mc,{colSpan:t.length+(o?1:0),className:"h-32 text-center text-muted-foreground",children:"No results found"})}):y.map(w=>n.jsxs(fc,{children:[t.map(x=>n.jsx(mc,{children:x.cell(w)},x.key)),o&&n.jsx(mc,{children:o(w)})]},w.id))})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",v+1," to ",Math.min(v+m,p.length)," of"," ",p.length," entries"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{variant:"outline",size:"sm",onClick:()=>u(w=>Math.max(1,w-1)),disabled:d===1,children:n.jsx(vd,{className:"h-4 w-4"})}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",d," of ",g||1]}),n.jsx(P,{variant:"outline",size:"sm",onClick:()=>u(w=>Math.min(g,w+1)),disabled:d>=g,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})]})}var wm="Switch",[X7,fH]=wr(wm),[eW,tW]=X7(wm),IT=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=f.useState(null),g=Ee(t,j=>p(j)),v=f.useRef(!1),y=h?u||!!h.closest("form"):!0,[w,x]=Pn({prop:a,defaultProp:i??!1,onChange:d,caller:wm});return n.jsxs(eW,{scope:r,checked:w,disabled:l,children:[n.jsx(ye.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":UT(w),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:ee(e.onClick,j=>{x(_=>!_),y&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),y&&n.jsx($T,{control:h,bubbles:!v.current,name:s,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});IT.displayName=wm;var FT="SwitchThumb",LT=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=tW(FT,r);return n.jsx(ye.span,{"data-state":UT(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});LT.displayName=FT;var rW="SwitchBubbleInput",$T=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=f.useRef(null),l=Ee(o,i),c=Py(r),d=Mx(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:s});p.call(u,r),u.dispatchEvent(g)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$T.displayName=rW;function UT(e){return e?"checked":"unchecked"}var BT=IT,sW=LT;const At=f.forwardRef(({className:e,...t},r)=>n.jsx(BT,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:n.jsx(sW,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));At.displayName=BT.displayName;const nW=["UtensilsCrossed","ShoppingBasket","FileText","Package","Truck","Bike","Car","Gift","Box","ShoppingCart","Coffee","Pill","Newspaper","Mail"],cb={name:"",slug:"",description:"",icon:"Package",price:"",active:!0,display_order:0,service_area_id:""};function aW(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState(cb),[g,v]=f.useState(!1);f.useEffect(()=>{y(),w()},[]);async function y(){i(!0);const{data:b,error:C}=await O.from("dropee_services").select("*").order("display_order",{ascending:!0});C?F.error("Failed to load services"):t(b||[]),i(!1)}async function w(){const{data:b}=await O.from("service_areas").select("id, name").eq("active",!0).order("name");s(b||[])}async function x(){if(!h.name||!h.price){F.error("Name and price are required");return}v(!0);const b=h.slug||h.name.toLowerCase().replace(/\s+/g,"-"),C={name:h.name,slug:b,description:h.description||null,icon:h.icon,price:h.price,active:h.active,display_order:h.display_order,service_area_id:h.service_area_id||null};let I;u?{error:I}=await O.from("dropee_services").update(C).eq("id",u.id):{error:I}=await O.from("dropee_services").insert(C),I?F.error("Failed to save service"):(F.success(u?"Service updated":"Service created"),l(!1),y()),v(!1)}async function j(){if(!u)return;const{error:b}=await O.from("dropee_services").delete().eq("id",u.id);b?F.error("Failed to delete service"):(F.success("Service deleted"),d(!1),y())}function _(){m(null),p(cb),l(!0)}function S(b){m(b),p({name:b.name,slug:b.slug,description:b.description||"",icon:b.icon,price:b.price,active:b.active,display_order:b.display_order,service_area_id:b.service_area_id||""}),l(!0)}function N(b){m(b),d(!0)}const k=[{key:"name",header:"Name",cell:b=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:b.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.slug})]})},{key:"icon",header:"Icon",cell:b=>n.jsx(fe,{variant:"outline",children:b.icon})},{key:"price",header:"Price",cell:b=>b.price},{key:"display_order",header:"Order",cell:b=>b.display_order},{key:"active",header:"Status",cell:b=>n.jsx(fe,{variant:b.active?"default":"secondary",children:b.active?"Active":"Inactive"})}];return n.jsxs(jr,{title:"Dropee Services",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:_,children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Service"]})}),n.jsx(ms,{data:e,columns:k,searchKey:"name",searchPlaceholder:"Search services...",loading:a,actions:b=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>S(b),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>N(b),children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ft,{children:[n.jsx(Lt,{children:u?"Edit Service":"Add Service"}),n.jsx(nm,{children:u?"Update the service details below.":"Fill in the details to create a new service."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:h.name,onChange:b=>p({...h,name:b.target.value}),placeholder:"Service name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:h.slug,onChange:b=>p({...h,slug:b.target.value}),placeholder:"auto-generated"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Description"}),n.jsx(Dt,{id:"description",value:h.description,onChange:b=>p({...h,description:b.target.value}),placeholder:"Service description",rows:3})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"icon",children:"Icon *"}),n.jsxs(st,{value:h.icon,onValueChange:b=>p({...h,icon:b}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsx(Xe,{children:nW.map(b=>n.jsx(be,{value:b,children:b},b))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"price",children:"Price *"}),n.jsx(J,{id:"price",value:h.price,onChange:b=>p({...h,price:b.target.value}),placeholder:"e.g., Starting from 30"})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"display_order",children:"Display Order"}),n.jsx(J,{id:"display_order",type:"number",value:h.display_order,onChange:b=>p({...h,display_order:parseInt(b.target.value)||0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"service_area",children:"Service Area"}),n.jsxs(st,{value:h.service_area_id||"all",onValueChange:b=>p({...h,service_area_id:b==="all"?"":b}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"All areas"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"all",children:"All areas"}),r.map(b=>n.jsx(be,{value:b.id,children:b.name},b.id))]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(At,{id:"active",checked:h.active,onCheckedChange:b=>p({...h,active:b})}),n.jsx(B,{htmlFor:"active",children:"Active"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:x,disabled:g||!h.name||!h.price,children:g?"Saving...":"Save"})]})]})}),n.jsx(es,{open:c,onOpenChange:d,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Service"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',u==null?void 0:u.name,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function Bd({value:e,onChange:t,folder:r="uploads",className:s}){const[a,i]=f.useState(!1),[o,l]=f.useState(!1),c=async p=>{if(!p.type.startsWith("image/")){F.error("Please upload an image file");return}if(p.size>5*1024*1024){F.error("File size must be less than 5MB");return}i(!0);const g=p.name.split(".").pop(),v=`${r}/${Date.now()}-${Math.random().toString(36).substring(7)}.${g}`,{error:y}=await O.storage.from("images").upload(v,p);if(y){console.error("Upload error:",y),F.error("Failed to upload image"),i(!1);return}const{data:{publicUrl:w}}=O.storage.from("images").getPublicUrl(v);t(w),i(!1),F.success("Image uploaded!")},d=f.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?l(!0):p.type==="dragleave"&&l(!1)},[]),u=f.useCallback(p=>{p.preventDefault(),p.stopPropagation(),l(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&c(p.dataTransfer.files[0])},[]),m=p=>{p.target.files&&p.target.files[0]&&c(p.target.files[0])},h=()=>{t("")};return e?n.jsx("div",{className:W("relative",s),children:n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-border bg-muted",children:[n.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),n.jsx(P,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:h,children:n.jsx(ri,{className:"h-4 w-4"})})]})}):n.jsx("div",{className:s,children:n.jsxs("div",{className:W("relative border-2 border-dashed rounded-lg p-6 transition-colors",o?"border-primary bg-primary/5":"border-border",a&&"opacity-50 pointer-events-none"),onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:u,children:[n.jsx(J,{type:"file",accept:"image/*",onChange:m,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:a}),n.jsx("div",{className:"flex flex-col items-center justify-center gap-2 text-center",children:a?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"h-8 w-8 text-primary animate-spin"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:n.jsx(Ph,{className:"h-6 w-6 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Drop an image here or click to upload"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, WEBP up to 5MB"})]})]})})]})})}const db={name:"",slug:"",short_description:"",description:"",category_id:"",service_area_id:"",business_type:"product",address:"",phone:"",email:"",website:"",whatsapp:"",cover_image:"",active:!0,featured:!1,verified:!1,has_products:!1,can_take_bookings:!1};function iW(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(null),[g,v]=f.useState(db),[y,w]=f.useState(!1);f.useEffect(()=>{x(),j(),_()},[]);async function x(){const{data:A,error:L}=await O.from("businesses").select("id, name, slug, short_description, category_id, business_type, active, featured, verified, rating, review_count").order("name");L?F.error("Failed to load businesses"):t(A||[]),l(!1)}async function j(){const{data:A}=await O.from("categories").select("id, name").eq("type","business").order("name");s(A||[])}async function _(){const{data:A}=await O.from("service_areas").select("id, name").eq("active",!0).order("name");i(A||[])}async function S(){w(!0);const A=g.slug||g.name.toLowerCase().replace(/\s+/g,"-");if(h){const{error:L}=await O.from("businesses").update({...g,slug:A}).eq("id",h.id);L?F.error("Failed to update business"):(F.success("Business updated"),d(!1),x())}else{const{error:L}=await O.from("businesses").insert({...g,slug:A});L?F.error("Failed to create business"):(F.success("Business created"),d(!1),x())}w(!1)}async function N(){if(!h)return;const{error:A}=await O.from("businesses").delete().eq("id",h.id);A?F.error("Failed to delete business"):(F.success("Business deleted"),m(!1),x())}async function k(A){const{error:L}=await O.from("businesses").update({active:!A.active}).eq("id",A.id);L?F.error("Failed to update status"):x()}async function b(A){const{error:L}=await O.from("businesses").update({featured:!A.featured}).eq("id",A.id);L?F.error("Failed to update featured status"):x()}function C(A){p(A),O.from("businesses").select("*").eq("id",A.id).single().then(({data:L})=>{L&&(v({name:L.name||"",slug:L.slug||"",short_description:L.short_description||"",description:L.description||"",category_id:L.category_id||"",service_area_id:L.service_area_id||"",business_type:L.business_type||"product",address:L.address||"",phone:L.phone||"",email:L.email||"",website:L.website||"",whatsapp:L.whatsapp||"",cover_image:L.cover_image||"",active:L.active??!0,featured:L.featured??!1,verified:L.verified??!1,has_products:L.has_products??!1,can_take_bookings:L.can_take_bookings??!1}),d(!0))})}const I=[{key:"name",header:"Name",cell:A=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:A.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.short_description})]})},{key:"type",header:"Type",cell:A=>n.jsx(fe,{variant:"outline",children:A.business_type||"N/A"})},{key:"rating",header:"Rating",cell:A=>{var L;return n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:((L=A.rating)==null?void 0:L.toFixed(1))||"0.0"}),n.jsxs("span",{className:"text-muted-foreground",children:["(",A.review_count||0,")"]})]})}},{key:"status",header:"Status",cell:A=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(fe,{variant:A.active?"default":"secondary",children:A.active?"Active":"Inactive"}),A.featured&&n.jsx(fe,{variant:"outline",children:"Featured"}),A.verified&&n.jsx(fe,{variant:"outline",children:"Verified"})]})}];return n.jsxs(jr,{title:"Businesses",description:"Manage all businesses on the platform",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:()=>{p(null),v(db),d(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Business"]})}),n.jsx(ms,{data:e,columns:I,searchKey:"name",searchPlaceholder:"Search businesses...",loading:o,actions:A=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>k(A),title:A.active?"Deactivate":"Activate",children:A.active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>b(A),title:A.featured?"Unfeature":"Feature",children:n.jsx(yt,{className:`h-4 w-4 ${A.featured?"fill-yellow-400 text-yellow-400":""}`})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>C(A),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{p(A),m(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:c,onOpenChange:d,children:n.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:h?"Edit Business":"Add Business"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:g.name,onChange:A=>v({...g,name:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:g.slug,onChange:A=>v({...g,slug:A.target.value}),placeholder:"auto-generated from name"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"short_description",children:"Short Description"}),n.jsx(J,{id:"short_description",value:g.short_description,onChange:A=>v({...g,short_description:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Full Description"}),n.jsx(Dt,{id:"description",rows:4,value:g.description,onChange:A=>v({...g,description:A.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"category",children:"Category"}),n.jsxs(st,{value:g.category_id,onValueChange:A=>v({...g,category_id:A}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select category"})}),n.jsx(Xe,{children:r.map(A=>n.jsx(be,{value:A.id,children:A.name},A.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"service_area",children:"Service Area *"}),n.jsxs(st,{value:g.service_area_id,onValueChange:A=>v({...g,service_area_id:A}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select service area"})}),n.jsx(Xe,{children:a.map(A=>n.jsx(be,{value:A.id,children:A.name},A.id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"business_type",children:"Business Type"}),n.jsxs(st,{value:g.business_type,onValueChange:A=>v({...g,business_type:A}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"product",children:"Product"}),n.jsx(be,{value:"service",children:"Service"}),n.jsx(be,{value:"agency",children:"Agency"})]})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"phone",children:"Phone"}),n.jsx(J,{id:"phone",value:g.phone,onChange:A=>v({...g,phone:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"whatsapp",children:"WhatsApp"}),n.jsx(J,{id:"whatsapp",value:g.whatsapp,onChange:A=>v({...g,whatsapp:A.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"email",children:"Email"}),n.jsx(J,{id:"email",type:"email",value:g.email,onChange:A=>v({...g,email:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"website",children:"Website"}),n.jsx(J,{id:"website",value:g.website,onChange:A=>v({...g,website:A.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"address",children:"Address"}),n.jsx(Dt,{id:"address",rows:2,value:g.address,onChange:A=>v({...g,address:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Cover Image"}),n.jsx(Bd,{value:g.cover_image,onChange:A=>v({...g,cover_image:A}),folder:"businesses"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:g.active,onCheckedChange:A=>v({...g,active:A})}),n.jsx(B,{children:"Active"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:g.featured,onCheckedChange:A=>v({...g,featured:A})}),n.jsx(B,{children:"Featured"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:g.verified,onCheckedChange:A=>v({...g,verified:A})}),n.jsx(B,{children:"Verified"})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:g.has_products,onCheckedChange:A=>v({...g,has_products:A})}),n.jsx(B,{children:"Has Products"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:g.can_take_bookings,onCheckedChange:A=>v({...g,can_take_bookings:A})}),n.jsx(B,{children:"Can Take Bookings"})]})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(P,{onClick:S,disabled:y||!g.name||!g.service_area_id,children:y?"Saving...":"Save"})]})]})}),n.jsx(es,{open:u,onOpenChange:m,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Business"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',h==null?void 0:h.name,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const ub={name:"",slug:"",short_description:"",description:"",category_id:"",address:"",cover_image:"",best_time_to_visit:"",difficulty_level:"",tips:"",entry_fee:0,active:!0,featured:!1};function oW(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState(ub),[g,v]=f.useState(!1);f.useEffect(()=>{y(),w()},[]);async function y(){const{data:b,error:C}=await O.from("places").select("id, name, slug, short_description, category_id, active, featured, rating, review_count").order("name");C?F.error("Failed to load places"):t(b||[]),i(!1)}async function w(){const{data:b}=await O.from("categories").select("id, name").eq("type","place").order("name");s(b||[])}async function x(){v(!0);const b=h.slug||h.name.toLowerCase().replace(/\s+/g,"-");if(u){const{error:C}=await O.from("places").update({...h,slug:b}).eq("id",u.id);C?F.error("Failed to update place"):(F.success("Place updated"),l(!1),y())}else{const{error:C}=await O.from("places").insert({...h,slug:b});C?F.error("Failed to create place"):(F.success("Place created"),l(!1),y())}v(!1)}async function j(){if(!u)return;const{error:b}=await O.from("places").delete().eq("id",u.id);b?F.error("Failed to delete place"):(F.success("Place deleted"),d(!1),y())}async function _(b){const{error:C}=await O.from("places").update({active:!b.active}).eq("id",b.id);C?F.error("Failed to update status"):y()}async function S(b){const{error:C}=await O.from("places").update({featured:!b.featured}).eq("id",b.id);C?F.error("Failed to update featured status"):y()}function N(b){m(b),O.from("places").select("*").eq("id",b.id).single().then(({data:C})=>{C&&(p({name:C.name||"",slug:C.slug||"",short_description:C.short_description||"",description:C.description||"",category_id:C.category_id||"",address:C.address||"",cover_image:C.cover_image||"",best_time_to_visit:C.best_time_to_visit||"",difficulty_level:C.difficulty_level||"",tips:C.tips||"",entry_fee:C.entry_fee||0,active:C.active??!0,featured:C.featured??!1}),l(!0))})}const k=[{key:"name",header:"Name",cell:b=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:b.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.short_description})]})},{key:"rating",header:"Rating",cell:b=>{var C;return n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:((C=b.rating)==null?void 0:C.toFixed(1))||"0.0"}),n.jsxs("span",{className:"text-muted-foreground",children:["(",b.review_count||0,")"]})]})}},{key:"status",header:"Status",cell:b=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(fe,{variant:b.active?"default":"secondary",children:b.active?"Active":"Inactive"}),b.featured&&n.jsx(fe,{variant:"outline",children:"Featured"})]})}];return n.jsxs(jr,{title:"Places",description:"Manage tourist places and attractions",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:()=>{m(null),p(ub),l(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Place"]})}),n.jsx(ms,{data:e,columns:k,searchKey:"name",searchPlaceholder:"Search places...",loading:a,actions:b=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>_(b),children:b.active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>S(b),children:n.jsx(yt,{className:`h-4 w-4 ${b.featured?"fill-yellow-400 text-yellow-400":""}`})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>N(b),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{m(b),d(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:u?"Edit Place":"Add Place"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:h.name,onChange:b=>p({...h,name:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:h.slug,onChange:b=>p({...h,slug:b.target.value}),placeholder:"auto-generated from name"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"short_description",children:"Short Description"}),n.jsx(J,{id:"short_description",value:h.short_description,onChange:b=>p({...h,short_description:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Full Description"}),n.jsx(Dt,{id:"description",rows:4,value:h.description,onChange:b=>p({...h,description:b.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"category",children:"Category"}),n.jsxs(st,{value:h.category_id,onValueChange:b=>p({...h,category_id:b}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select category"})}),n.jsx(Xe,{children:r.map(b=>n.jsx(be,{value:b.id,children:b.name},b.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"difficulty",children:"Difficulty Level"}),n.jsxs(st,{value:h.difficulty_level,onValueChange:b=>p({...h,difficulty_level:b}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select difficulty"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"easy",children:"Easy"}),n.jsx(be,{value:"moderate",children:"Moderate"}),n.jsx(be,{value:"difficult",children:"Difficult"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"address",children:"Address"}),n.jsx(Dt,{id:"address",rows:2,value:h.address,onChange:b=>p({...h,address:b.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"best_time",children:"Best Time to Visit"}),n.jsx(J,{id:"best_time",value:h.best_time_to_visit,onChange:b=>p({...h,best_time_to_visit:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"entry_fee",children:"Entry Fee"}),n.jsx(J,{id:"entry_fee",type:"number",value:h.entry_fee,onChange:b=>p({...h,entry_fee:Number(b.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"tips",children:"Tips"}),n.jsx(Dt,{id:"tips",rows:3,value:h.tips,onChange:b=>p({...h,tips:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"cover_image",children:"Cover Image URL"}),n.jsx(J,{id:"cover_image",value:h.cover_image,onChange:b=>p({...h,cover_image:b.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:h.active,onCheckedChange:b=>p({...h,active:b})}),n.jsx(B,{children:"Active"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:h.featured,onCheckedChange:b=>p({...h,featured:b})}),n.jsx(B,{children:"Featured"})]})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:x,disabled:g||!h.name,children:g?"Saving...":"Save"})]})]})}),n.jsx(es,{open:c,onOpenChange:d,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Place"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',u==null?void 0:u.name,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const hb={name:"",slug:"",short_description:"",description:"",category_id:"",event_date:"",start_time:"",end_time:"",venue:"",address:"",organizer:"",organizer_contact:"",entry_fee:0,cover_image:"",active:!0,featured:!1};function lW(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState(hb),[g,v]=f.useState(!1);f.useEffect(()=>{y(),w()},[]);async function y(){const{data:b,error:C}=await O.from("events").select("id, name, slug, short_description, event_date, venue, active, featured").order("event_date",{ascending:!1});C?F.error("Failed to load events"):t(b||[]),i(!1)}async function w(){const{data:b}=await O.from("categories").select("id, name").eq("type","event").order("name");s(b||[])}async function x(){v(!0);const b=h.slug||h.name.toLowerCase().replace(/\s+/g,"-");if(u){const{error:C}=await O.from("events").update({...h,slug:b}).eq("id",u.id);C?F.error("Failed to update event"):(F.success("Event updated"),l(!1),y())}else{const{error:C}=await O.from("events").insert({...h,slug:b});C?F.error("Failed to create event"):(F.success("Event created"),l(!1),y())}v(!1)}async function j(){if(!u)return;const{error:b}=await O.from("events").delete().eq("id",u.id);b?F.error("Failed to delete event"):(F.success("Event deleted"),d(!1),y())}async function _(b){const{error:C}=await O.from("events").update({active:!b.active}).eq("id",b.id);C?F.error("Failed to update status"):y()}async function S(b){const{error:C}=await O.from("events").update({featured:!b.featured}).eq("id",b.id);C?F.error("Failed to update featured status"):y()}function N(b){m(b),O.from("events").select("*").eq("id",b.id).single().then(({data:C})=>{C&&(p({name:C.name||"",slug:C.slug||"",short_description:C.short_description||"",description:C.description||"",category_id:C.category_id||"",event_date:C.event_date||"",start_time:C.start_time||"",end_time:C.end_time||"",venue:C.venue||"",address:C.address||"",organizer:C.organizer||"",organizer_contact:C.organizer_contact||"",entry_fee:C.entry_fee||0,cover_image:C.cover_image||"",active:C.active??!0,featured:C.featured??!1}),l(!0))})}const k=[{key:"name",header:"Event",cell:b=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:b.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.venue})]})},{key:"date",header:"Date",cell:b=>n.jsx("span",{className:"text-foreground",children:b.event_date?Fe(new Date(b.event_date),"MMM d, yyyy"):"N/A"})},{key:"status",header:"Status",cell:b=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(fe,{variant:b.active?"default":"secondary",children:b.active?"Active":"Inactive"}),b.featured&&n.jsx(fe,{variant:"outline",children:"Featured"})]})}];return n.jsxs(jr,{title:"Events",description:"Manage events and happenings",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:()=>{m(null),p(hb),l(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Event"]})}),n.jsx(ms,{data:e,columns:k,searchKey:"name",searchPlaceholder:"Search events...",loading:a,actions:b=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>_(b),children:b.active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>S(b),children:n.jsx(yt,{className:`h-4 w-4 ${b.featured?"fill-yellow-400 text-yellow-400":""}`})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>N(b),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{m(b),d(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:u?"Edit Event":"Add Event"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:h.name,onChange:b=>p({...h,name:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:h.slug,onChange:b=>p({...h,slug:b.target.value}),placeholder:"auto-generated"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"short_description",children:"Short Description"}),n.jsx(J,{id:"short_description",value:h.short_description,onChange:b=>p({...h,short_description:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Full Description"}),n.jsx(Dt,{id:"description",rows:4,value:h.description,onChange:b=>p({...h,description:b.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"event_date",children:"Event Date *"}),n.jsx(J,{id:"event_date",type:"date",value:h.event_date,onChange:b=>p({...h,event_date:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"start_time",children:"Start Time"}),n.jsx(J,{id:"start_time",type:"time",value:h.start_time,onChange:b=>p({...h,start_time:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"end_time",children:"End Time"}),n.jsx(J,{id:"end_time",type:"time",value:h.end_time,onChange:b=>p({...h,end_time:b.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"venue",children:"Venue"}),n.jsx(J,{id:"venue",value:h.venue,onChange:b=>p({...h,venue:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"category",children:"Category"}),n.jsxs(st,{value:h.category_id,onValueChange:b=>p({...h,category_id:b}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select category"})}),n.jsx(Xe,{children:r.map(b=>n.jsx(be,{value:b.id,children:b.name},b.id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"address",children:"Address"}),n.jsx(Dt,{id:"address",rows:2,value:h.address,onChange:b=>p({...h,address:b.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"organizer",children:"Organizer"}),n.jsx(J,{id:"organizer",value:h.organizer,onChange:b=>p({...h,organizer:b.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"organizer_contact",children:"Organizer Contact"}),n.jsx(J,{id:"organizer_contact",value:h.organizer_contact,onChange:b=>p({...h,organizer_contact:b.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"entry_fee",children:"Entry Fee"}),n.jsx(J,{id:"entry_fee",type:"number",value:h.entry_fee,onChange:b=>p({...h,entry_fee:Number(b.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"cover_image",children:"Cover Image URL"}),n.jsx(J,{id:"cover_image",value:h.cover_image,onChange:b=>p({...h,cover_image:b.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:h.active,onCheckedChange:b=>p({...h,active:b})}),n.jsx(B,{children:"Active"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:h.featured,onCheckedChange:b=>p({...h,featured:b})}),n.jsx(B,{children:"Featured"})]})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:x,disabled:g||!h.name||!h.event_date,children:g?"Saving...":"Save"})]})]})}),n.jsx(es,{open:c,onOpenChange:d,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Event"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',u==null?void 0:u.name,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const fb={name:"",slug:"",type:"business",icon:"",color:"",active:!0};function cW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(fb),[h,p]=f.useState(!1);f.useEffect(()=>{g()},[]);async function g(){const{data:S,error:N}=await O.from("categories").select("*").order("type").order("name");N?F.error("Failed to load categories"):t(S||[]),s(!1)}async function v(){p(!0);const S=u.slug||u.name.toLowerCase().replace(/\s+/g,"-");if(c){const{error:N}=await O.from("categories").update({...u,slug:S}).eq("id",c.id);N?F.error("Failed to update category"):(F.success("Category updated"),i(!1),g())}else{const{error:N}=await O.from("categories").insert({...u,slug:S});N?F.error("Failed to create category"):(F.success("Category created"),i(!1),g())}p(!1)}async function y(){if(!c)return;const{error:S}=await O.from("categories").delete().eq("id",c.id);S?F.error("Failed to delete category"):(F.success("Category deleted"),l(!1),g())}async function w(S){const{error:N}=await O.from("categories").update({active:!S.active}).eq("id",S.id);N?F.error("Failed to update status"):g()}function x(S){d(S),m({name:S.name,slug:S.slug,type:S.type,icon:S.icon||"",color:S.color||"",active:S.active??!0}),i(!0)}const j=S=>({business:"default",product:"secondary",place:"outline",event:"destructive"})[S]||"default",_=[{key:"name",header:"Name",cell:S=>n.jsxs("div",{className:"flex items-center gap-2",children:[S.color&&n.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:S.color}}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:S.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.slug})]})]})},{key:"type",header:"Type",cell:S=>n.jsx(fe,{variant:j(S.type),children:S.type})},{key:"icon",header:"Icon",cell:S=>n.jsx("span",{className:"text-muted-foreground",children:S.icon||"None"})},{key:"status",header:"Status",cell:S=>n.jsx(fe,{variant:S.active?"default":"secondary",children:S.active?"Active":"Inactive"})}];return n.jsxs(jr,{title:"Categories",description:"Manage categories for businesses, places, and events",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:()=>{d(null),m(fb),i(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),n.jsx(ms,{data:e,columns:_,searchKey:"name",searchPlaceholder:"Search categories...",loading:r,actions:S=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>w(S),children:S.active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>x(S),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{d(S),l(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"sm:max-w-md",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:c?"Edit Category":"Add Category"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:u.name,onChange:S=>m({...u,name:S.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:u.slug,onChange:S=>m({...u,slug:S.target.value}),placeholder:"auto-generated from name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"type",children:"Type *"}),n.jsxs(st,{value:u.type,onValueChange:S=>m({...u,type:S}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"business",children:"Business"}),n.jsx(be,{value:"product",children:"Product"}),n.jsx(be,{value:"place",children:"Place"}),n.jsx(be,{value:"event",children:"Event"})]})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"icon",children:"Icon"}),n.jsx(J,{id:"icon",value:u.icon,onChange:S=>m({...u,icon:S.target.value}),placeholder:"e.g., Store"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"color",children:"Color"}),n.jsx(J,{id:"color",type:"color",value:u.color||"#000000",onChange:S=>m({...u,color:S.target.value})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:u.active,onCheckedChange:S=>m({...u,active:S})}),n.jsx(B,{children:"Active"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(P,{onClick:v,disabled:h||!u.name,children:h?"Saving...":"Save"})]})]})}),n.jsx(es,{open:o,onOpenChange:l,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Category"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',c==null?void 0:c.name,'"? This may affect items using this category.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const mb={name:"",slug:"",center_lat:0,center_lng:0,radius_km:5,active:!0};function dW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(mb),[h,p]=f.useState(!1);f.useEffect(()=>{g()},[]);async function g(){const{data:_,error:S}=await O.from("service_areas").select("*").order("name");S?F.error("Failed to load service areas"):t(_||[]),s(!1)}async function v(){p(!0);const _=u.slug||u.name.toLowerCase().replace(/\s+/g,"-");if(c){const{error:S}=await O.from("service_areas").update({...u,slug:_}).eq("id",c.id);S?F.error("Failed to update service area"):(F.success("Service area updated"),i(!1),g())}else{const{error:S}=await O.from("service_areas").insert({...u,slug:_});S?F.error("Failed to create service area"):(F.success("Service area created"),i(!1),g())}p(!1)}async function y(){if(!c)return;const{error:_}=await O.from("service_areas").delete().eq("id",c.id);_?F.error("Failed to delete service area"):(F.success("Service area deleted"),l(!1),g())}async function w(_){const{error:S}=await O.from("service_areas").update({active:!_.active}).eq("id",_.id);S?F.error("Failed to update status"):g()}function x(_){d(_),m({name:_.name,slug:_.slug,center_lat:_.center_lat,center_lng:_.center_lng,radius_km:_.radius_km,active:_.active??!0}),i(!0)}const j=[{key:"name",header:"Name",cell:_=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:_.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_.slug})]})},{key:"coordinates",header:"Coordinates",cell:_=>n.jsxs("span",{className:"text-muted-foreground",children:[_.center_lat.toFixed(4),", ",_.center_lng.toFixed(4)]})},{key:"radius",header:"Radius",cell:_=>n.jsxs("span",{className:"text-foreground",children:[_.radius_km," km"]})},{key:"status",header:"Status",cell:_=>n.jsx(fe,{variant:_.active?"default":"secondary",children:_.active?"Active":"Inactive"})}];return n.jsxs(jr,{title:"Service Areas",description:"Manage service areas and coverage zones",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs(P,{onClick:()=>{d(null),m(mb),i(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Service Area"]})}),n.jsx(ms,{data:e,columns:j,searchKey:"name",searchPlaceholder:"Search service areas...",loading:r,actions:_=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>x(_),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{d(_),l(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"sm:max-w-md",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:c?"Edit Service Area":"Add Service Area"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Name *"}),n.jsx(J,{id:"name",value:u.name,onChange:_=>m({...u,name:_.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"slug",children:"Slug"}),n.jsx(J,{id:"slug",value:u.slug,onChange:_=>m({...u,slug:_.target.value}),placeholder:"auto-generated from name"})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"center_lat",children:"Center Latitude *"}),n.jsx(J,{id:"center_lat",type:"number",step:"any",value:u.center_lat,onChange:_=>m({...u,center_lat:Number(_.target.value)})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"center_lng",children:"Center Longitude *"}),n.jsx(J,{id:"center_lng",type:"number",step:"any",value:u.center_lng,onChange:_=>m({...u,center_lng:Number(_.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"radius_km",children:"Radius (km) *"}),n.jsx(J,{id:"radius_km",type:"number",value:u.radius_km,onChange:_=>m({...u,radius_km:Number(_.target.value)})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:u.active,onCheckedChange:_=>m({...u,active:_})}),n.jsx(B,{children:"Active"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(P,{onClick:v,disabled:h||!u.name,children:h?"Saving...":"Save"})]})]})}),n.jsx(es,{open:o,onOpenChange:l,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Service Area"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',c==null?void 0:c.name,'"? This may affect items in this area.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const pb={title:"",subtitle:"",image_url:"",link_url:"",link_text:"Learn More",page_placement:"explore",banner_type:"featured",display_order:0,is_active:!0,starts_at:"",ends_at:""},gb=[{value:"explore",label:"Explore Page"},{value:"places",label:"Places Page"},{value:"events",label:"Events Page"},{value:"businesses",label:"Businesses Page"}],uW=[{value:"featured",label:"Featured"},{value:"promotion",label:"Promotion"},{value:"announcement",label:"Announcement"}];function hW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(pb),[h,p]=f.useState(!1),[g,v]=f.useState("all");f.useEffect(()=>{y()},[g]);async function y(){let N=O.from("promotional_banners").select("*").order("display_order");g!=="all"&&(N=N.eq("page_placement",g));const{data:k,error:b}=await N;b?F.error("Failed to load banners"):t(k||[]),s(!1)}async function w(){p(!0);const N={...u,starts_at:u.starts_at||null,ends_at:u.ends_at||null};if(c){const{error:k}=await O.from("promotional_banners").update(N).eq("id",c.id);k?F.error("Failed to update banner"):(F.success("Banner updated"),i(!1),y())}else{const{error:k}=await O.from("promotional_banners").insert(N);k?F.error("Failed to create banner"):(F.success("Banner created"),i(!1),y())}p(!1)}async function x(){if(!c)return;const{error:N}=await O.from("promotional_banners").delete().eq("id",c.id);N?F.error("Failed to delete banner"):(F.success("Banner deleted"),l(!1),y())}async function j(N){const{error:k}=await O.from("promotional_banners").update({is_active:!N.is_active}).eq("id",N.id);k?F.error("Failed to update status"):y()}async function _(N,k){const b=e.findIndex(A=>A.id===N.id),C=k==="up"?b-1:b+1;if(C<0||C>=e.length)return;const I=e[C];await Promise.all([O.from("promotional_banners").update({display_order:I.display_order}).eq("id",N.id),O.from("promotional_banners").update({display_order:N.display_order}).eq("id",I.id)]),y()}function S(N){d(N),m({title:N.title,subtitle:N.subtitle||"",image_url:N.image_url||"",link_url:N.link_url||"",link_text:N.link_text||"Learn More",page_placement:N.page_placement,banner_type:N.banner_type,display_order:N.display_order,is_active:N.is_active,starts_at:N.starts_at?N.starts_at.split("T")[0]:"",ends_at:N.ends_at?N.ends_at.split("T")[0]:""}),i(!0)}return n.jsxs(jr,{title:"Banners",description:"Manage promotional banners across pages",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs(st,{value:g,onValueChange:v,children:[n.jsx(Je,{className:"w-48",children:n.jsx(nt,{placeholder:"Filter by page"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"all",children:"All Pages"}),gb.map(N=>n.jsx(be,{value:N.value,children:N.label},N.value))]})]}),n.jsxs(P,{onClick:()=>{d(null),m(pb),i(!0)},children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Banner"]})]}),r?n.jsx("div",{className:"flex h-64 items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):e.length===0?n.jsx("div",{className:"flex h-64 items-center justify-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No banners found"})}):n.jsx("div",{className:"space-y-3",children:e.map((N,k)=>n.jsx(G,{children:n.jsxs(Y,{className:"flex items-center gap-4 p-4",children:[N.image_url&&n.jsx("img",{src:N.image_url,alt:N.title,className:"h-16 w-24 rounded object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-foreground",children:N.title}),n.jsx(fe,{variant:"outline",children:N.page_placement}),n.jsx(fe,{variant:N.is_active?"default":"secondary",children:N.is_active?"Active":"Inactive"})]}),N.subtitle&&n.jsx("p",{className:"text-sm text-muted-foreground",children:N.subtitle})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>_(N,"up"),disabled:k===0,children:n.jsx(_N,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>_(N,"down"),disabled:k===e.length-1,children:n.jsx(Tf,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>j(N),children:N.is_active?n.jsx(Dl,{className:"h-4 w-4"}):n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>S(N),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{d(N),l(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})]})},N.id))})]}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:c?"Edit Banner":"Add Banner"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"title",children:"Title *"}),n.jsx(J,{id:"title",value:u.title,onChange:N=>m({...u,title:N.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"subtitle",children:"Subtitle"}),n.jsx(Dt,{id:"subtitle",rows:2,value:u.subtitle,onChange:N=>m({...u,subtitle:N.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"page_placement",children:"Page Placement *"}),n.jsxs(st,{value:u.page_placement,onValueChange:N=>m({...u,page_placement:N}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsx(Xe,{children:gb.map(N=>n.jsx(be,{value:N.value,children:N.label},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"banner_type",children:"Banner Type"}),n.jsxs(st,{value:u.banner_type,onValueChange:N=>m({...u,banner_type:N}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsx(Xe,{children:uW.map(N=>n.jsx(be,{value:N.value,children:N.label},N.value))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"image_url",children:"Image URL"}),n.jsx(J,{id:"image_url",value:u.image_url,onChange:N=>m({...u,image_url:N.target.value})})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"link_url",children:"Link URL"}),n.jsx(J,{id:"link_url",value:u.link_url,onChange:N=>m({...u,link_url:N.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"link_text",children:"Link Text"}),n.jsx(J,{id:"link_text",value:u.link_text,onChange:N=>m({...u,link_text:N.target.value})})]})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"starts_at",children:"Starts At"}),n.jsx(J,{id:"starts_at",type:"date",value:u.starts_at,onChange:N=>m({...u,starts_at:N.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"ends_at",children:"Ends At"}),n.jsx(J,{id:"ends_at",type:"date",value:u.ends_at,onChange:N=>m({...u,ends_at:N.target.value})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:u.is_active,onCheckedChange:N=>m({...u,is_active:N})}),n.jsx(B,{children:"Active"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(P,{onClick:w,disabled:h||!u.title,children:h?"Saving...":"Save"})]})]})}),n.jsx(es,{open:o,onOpenChange:l,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Banner"}),n.jsxs(Lr,{children:['Are you sure you want to delete "',c==null?void 0:c.title,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const fW=["admin","moderator","user","business_owner","agent"];function mW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,m]=f.useState(!1);f.useEffect(()=>{h()},[]);async function h(){const{data:x,error:j}=await O.from("profiles").select("*").order("created_at",{ascending:!1});if(j){F.error("Failed to load users"),s(!1);return}const{data:_,error:S}=await O.from("user_roles").select("user_id, role");if(S){F.error("Failed to load user roles"),s(!1);return}const N=new Map;_.forEach(b=>{const C=N.get(b.user_id)||[];N.set(b.user_id,[...C,b.role])});const k=(x||[]).map(b=>({...b,roles:N.get(b.id)||[]}));t(k),s(!1)}function p(x){l(x),d(x.roles),i(!0)}async function g(){if(!o)return;m(!0);const{data:x}=await O.from("user_roles").select("role").eq("user_id",o.id),j=(x||[]).map(N=>N.role),_=c.filter(N=>!j.includes(N)),S=j.filter(N=>!c.includes(N));for(const N of _){const{error:k}=await O.from("user_roles").insert({user_id:o.id,role:N});if(k){F.error(`Failed to add ${N} role`),m(!1);return}}for(const N of S){const{error:k}=await O.from("user_roles").delete().eq("user_id",o.id).eq("role",N);if(k){F.error(`Failed to remove ${N} role`),m(!1);return}}F.success("User roles updated"),i(!1),h(),m(!1)}function v(x){c.includes(x)?d(c.filter(j=>j!==x)):d([...c,x])}const y=x=>({admin:"destructive",moderator:"default",business_owner:"secondary",user:"outline",agent:"secondary"})[x],w=[{key:"user",header:"User",cell:x=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(cs,{className:"h-9 w-9",children:[n.jsx(tn,{src:x.avatar_url||void 0}),n.jsx(ds,{children:n.jsx(_s,{className:"h-4 w-4"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:x.full_name||"Unnamed User"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:x.phone||"No phone"})]})]})},{key:"roles",header:"Roles",cell:x=>n.jsx("div",{className:"flex flex-wrap gap-1",children:x.roles.length===0?n.jsx(fe,{variant:"outline",children:"No roles"}):x.roles.map(j=>n.jsx(fe,{variant:y(j),children:j.replace("_"," ")},j))})},{key:"points",header:"Points",cell:x=>n.jsx("span",{className:"text-foreground",children:x.points||0})},{key:"joined",header:"Joined",cell:x=>n.jsx("span",{className:"text-muted-foreground",children:x.created_at?new Date(x.created_at).toLocaleDateString():"N/A"})}];return n.jsxs(jr,{title:"Users",description:"Manage user accounts and roles",children:[n.jsx("div",{className:"space-y-4",children:n.jsx(ms,{data:e,columns:w,searchKey:"full_name",searchPlaceholder:"Search users...",loading:r,actions:x=>n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>p(x),children:n.jsx(Sc,{className:"h-4 w-4"})})})}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"sm:max-w-md",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:"Manage Roles"})}),n.jsxs("div",{className:"py-4",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsxs(cs,{className:"h-12 w-12",children:[n.jsx(tn,{src:(o==null?void 0:o.avatar_url)||void 0}),n.jsx(ds,{children:n.jsx(_s,{className:"h-6 w-6"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:(o==null?void 0:o.full_name)||"Unnamed User"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",o==null?void 0:o.id.slice(0,8),"..."]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(B,{children:"Roles"}),fW.map(x=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ry,{id:x,checked:c.includes(x),onCheckedChange:()=>v(x)}),n.jsxs(B,{htmlFor:x,className:"flex items-center gap-2 cursor-pointer",children:[x==="admin"&&n.jsx(I4,{className:"h-4 w-4 text-destructive"}),x==="moderator"&&n.jsx(Sc,{className:"h-4 w-4 text-primary"}),x==="business_owner"&&n.jsx(F4,{className:"h-4 w-4 text-muted-foreground"}),x==="user"&&n.jsx(_s,{className:"h-4 w-4 text-muted-foreground"}),x==="agent"&&n.jsx(Sc,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"capitalize",children:x.replace("_"," ")})]})]},x))]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(P,{onClick:g,disabled:u,children:u?"Saving...":"Save Roles"})]})]})})]})}const pW={bike:Ka,car:pd,foot:kN};function gW(){var S;const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(!1),[h,p]=f.useState({full_name:"",phone:"",email:"",avatar_url:"",vehicle_type:"bike",service_area_id:""});f.useEffect(()=>{g(),v()},[]);async function g(){i(!0);const{data:N,error:k}=await O.from("delivery_agents").select(`
        *,
        agent_availability (status)
      `).order("created_at",{ascending:!1});k?F.error("Failed to load agents"):t(N||[]),i(!1)}async function v(){const{data:N}=await O.from("service_areas").select("id, name").eq("active",!0);s(N||[])}async function y(N){const{error:k}=await O.from("delivery_agents").update({is_verified:!N.is_verified}).eq("id",N.id);k?F.error("Failed to update agent"):(F.success(N.is_verified?"Agent unverified":"Agent verified"),g())}async function w(N){const{error:k}=await O.from("delivery_agents").update({is_active:!N.is_active}).eq("id",N.id);k?F.error("Failed to update agent"):(F.success(N.is_active?"Agent deactivated":"Agent activated"),g())}function x(N){d(N),p({full_name:N.full_name,phone:N.phone||"",email:N.email||"",avatar_url:N.avatar_url||"",vehicle_type:N.vehicle_type,service_area_id:N.service_area_id||""}),l(!0)}async function j(){if(!c)return;if(!h.full_name.trim()){F.error("Full name is required");return}m(!0);const{error:N}=await O.from("delivery_agents").update({full_name:h.full_name.trim(),phone:h.phone.trim()||null,email:h.email.trim()||null,avatar_url:h.avatar_url||null,vehicle_type:h.vehicle_type,service_area_id:h.service_area_id||null}).eq("id",c.id);N?(F.error("Failed to update agent"),console.error(N)):(F.success("Agent updated"),g(),l(!1)),m(!1)}const _=[{key:"agent",header:"Agent",cell:N=>{const k=pW[N.vehicle_type]||Ka;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(cs,{className:"h-10 w-10",children:[n.jsx(tn,{src:N.avatar_url||void 0}),n.jsx(ds,{className:"bg-primary/10 text-primary",children:N.full_name.slice(0,2).toUpperCase()})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-foreground",children:N.full_name}),n.jsx(fe,{variant:"outline",className:"text-xs",children:N.agent_code})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(k,{className:"h-3 w-3"}),n.jsx("span",{children:N.vehicle_type}),N.phone&&n.jsxs("span",{children:[" ",N.phone]})]})]})]})}},{key:"status",header:"Status",cell:N=>{var C;const k=((C=N.agent_availability)==null?void 0:C.status)||"offline",b={online:"bg-green-500",busy:"bg-yellow-500",offline:"bg-muted"};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${b[k]}`}),n.jsx("span",{className:"capitalize text-foreground",children:k})]})}},{key:"rating",header:"Rating",cell:N=>{var k;return n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"text-foreground",children:((k=N.rating)==null?void 0:k.toFixed(1))||"0.0"})]})}},{key:"deliveries",header:"Deliveries",cell:N=>n.jsx("span",{className:"text-foreground",children:N.total_deliveries})},{key:"earnings",header:"Earnings",cell:N=>n.jsxs("span",{className:"text-foreground font-medium",children:["$",N.total_earnings.toFixed(2)]})},{key:"verified",header:"Verified",cell:N=>n.jsx(fe,{variant:N.is_verified?"default":"secondary",children:N.is_verified?"Verified":"Unverified"})},{key:"active",header:"Active",cell:N=>n.jsx(fe,{variant:N.is_active?"default":"destructive",children:N.is_active?"Active":"Inactive"})}];return n.jsxs(jr,{title:"Delivery Agents",description:"Manage delivery agents and their status",children:[n.jsx("div",{className:"space-y-4",children:n.jsx(ms,{data:e,columns:_,searchKey:"full_name",searchPlaceholder:"Search agents...",loading:a,actions:N=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>x(N),title:"Edit Agent",children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>y(N),title:N.is_verified?"Unverify":"Verify",children:N.is_verified?n.jsx(ri,{className:"h-4 w-4 text-destructive"}):n.jsx(gd,{className:"h-4 w-4 text-primary"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>w(N),title:N.is_active?"Deactivate":"Activate",children:n.jsx(Sc,{className:`h-4 w-4 ${N.is_active?"text-primary":"text-muted-foreground"}`})})]})})}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-w-lg",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:"Edit Agent Profile"})}),n.jsx("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:c&&n.jsxs(n.Fragment,{children:[n.jsx(G,{className:"bg-muted/50",children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(cs,{className:"h-16 w-16",children:[n.jsx(tn,{src:h.avatar_url||void 0}),n.jsx(ds,{className:"bg-primary/10 text-primary text-xl",children:h.full_name.slice(0,2).toUpperCase()})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold text-foreground",children:c.agent_code}),n.jsx(fe,{variant:c.is_verified?"default":"secondary",children:c.is_verified?"Verified":"Unverified"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Deliveries"}),n.jsx("p",{className:"font-medium text-foreground",children:c.total_deliveries})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Earnings"}),n.jsxs("p",{className:"font-medium text-foreground",children:["",c.total_earnings.toFixed(0)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Rating"}),n.jsxs("p",{className:"font-medium text-foreground flex items-center gap-1",children:[n.jsx(yt,{className:"h-3 w-3 text-yellow-500 fill-yellow-500"}),((S=c.rating)==null?void 0:S.toFixed(1))||"0.0"]})]})]})]})]})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Profile Image"}),n.jsx(Bd,{value:h.avatar_url,onChange:N=>p({...h,avatar_url:N}),folder:"agents"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"full_name",children:"Full Name *"}),n.jsx(J,{id:"full_name",value:h.full_name,onChange:N=>p({...h,full_name:N.target.value}),placeholder:"Agent's full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"phone",children:"Phone"}),n.jsx(J,{id:"phone",value:h.phone,onChange:N=>p({...h,phone:N.target.value}),placeholder:"+91 98765 43210"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"email",children:"Email"}),n.jsx(J,{id:"email",type:"email",value:h.email,onChange:N=>p({...h,email:N.target.value}),placeholder:"agent@email.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"vehicle_type",children:"Vehicle Type"}),n.jsxs(st,{value:h.vehicle_type,onValueChange:N=>p({...h,vehicle_type:N}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"bike",children:"Motorcycle"}),n.jsx(be,{value:"car",children:"Car"}),n.jsx(be,{value:"foot",children:"On Foot"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"service_area",children:"Service Area"}),n.jsxs(st,{value:h.service_area_id||"all",onValueChange:N=>p({...h,service_area_id:N==="all"?"":N}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"All areas"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"all",children:"All areas"}),r.map(N=>n.jsx(be,{value:N.id,children:N.name},N.id))]})]})]})]})}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:j,disabled:u,children:u?"Saving...":"Save Changes"})]})]})})]})}const vW=["pending","confirmed","processing","completed","cancelled"];function xW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,m]=f.useState(!1);f.useEffect(()=>{h()},[]);async function h(){const{data:x,error:j}=await O.from("dropee_orders").select("*").order("created_at",{ascending:!1});j?F.error("Failed to load orders"):t(x||[]),s(!1)}function p(x){l(x),d(x.status||"pending"),i(!0)}async function g(){if(!o)return;m(!0);const{error:x}=await O.from("dropee_orders").update({status:c}).eq("id",o.id);x?F.error("Failed to update status"):(F.success("Order status updated"),i(!1),h()),m(!1)}const v=x=>({pending:"secondary",confirmed:"default",processing:"default",completed:"outline",cancelled:"destructive"})[x]||"secondary",y=[{key:"order",header:"Order",cell:x=>n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:x.business_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:x.order_type})]})},{key:"contact",header:"Contact",cell:x=>n.jsx("span",{className:"text-foreground",children:x.user_contact})},{key:"status",header:"Status",cell:x=>n.jsx(fe,{variant:v(x.status||"pending"),children:x.status||"pending"})},{key:"date",header:"Date",cell:x=>n.jsx("span",{className:"text-muted-foreground",children:x.created_at?Fe(new Date(x.created_at),"MMM d, yyyy HH:mm"):"N/A"})}],w=x=>!x||typeof x!="object"||Array.isArray(x)?n.jsx("p",{className:"text-muted-foreground",children:"No details available"}):n.jsx("div",{className:"space-y-2",children:Object.entries(x).map(([j,_])=>n.jsxs("div",{className:"flex justify-between border-b border-border py-2",children:[n.jsxs("span",{className:"font-medium capitalize text-foreground",children:[j.replace(/_/g," "),":"]}),n.jsx("span",{className:"text-muted-foreground",children:String(_)})]},j))});return n.jsxs(jr,{title:"Orders",description:"View and manage customer orders",children:[n.jsx("div",{className:"space-y-4",children:n.jsx(ms,{data:e,columns:y,searchKey:"business_name",searchPlaceholder:"Search orders...",loading:r,actions:x=>n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>p(x),children:n.jsx(ti,{className:"h-4 w-4"})})})}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"sm:max-w-lg",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:"Order Details"})}),o&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Business:"}),n.jsx("span",{className:"text-muted-foreground",children:o.business_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Type:"}),n.jsx("span",{className:"text-muted-foreground",children:o.order_type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Contact:"}),n.jsx("span",{className:"text-muted-foreground",children:o.user_contact})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Date:"}),n.jsx("span",{className:"text-muted-foreground",children:o.created_at?Fe(new Date(o.created_at),"MMM d, yyyy HH:mm"):"N/A"})]})]}),n.jsxs("div",{className:"rounded-lg border border-border p-4",children:[n.jsx(B,{className:"mb-2 block",children:"Order Details"}),w(o.details)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Update Status"}),n.jsxs(st,{value:c,onValueChange:d,children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsx(Xe,{children:vW.map(x=>n.jsx(be,{value:x,children:n.jsx("span",{className:"capitalize",children:x})},x))})]})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Close"}),n.jsx(P,{onClick:g,disabled:u,children:u?"Updating...":"Update Status"})]})]})})]})}function yW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null);f.useEffect(()=>{u()},[]);async function u(){const{data:v,error:y}=await O.from("reviews").select("*").order("created_at",{ascending:!1});if(y){F.error("Failed to load reviews"),s(!1);return}const w=await Promise.all((v||[]).map(async x=>{let j="Unknown Business",_="Unknown User";if(x.business_id){const{data:N}=await O.from("businesses").select("name").eq("id",x.business_id).single();N&&(j=N.name)}const{data:S}=await O.from("profiles").select("full_name").eq("id",x.user_id).single();return S!=null&&S.full_name&&(_=S.full_name),{...x,business_name:j,user_name:_}}));t(w),s(!1)}async function m(){if(!c)return;const{error:v}=await O.from("reviews").delete().eq("id",c.id);v?F.error("Failed to delete review"):(F.success("Review deleted"),l(!1),u())}function h(v){d(v),i(!0)}const p=v=>n.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(y=>n.jsx(yt,{className:`h-4 w-4 ${y<=v?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},y))}),g=[{key:"review",header:"Review",cell:v=>n.jsxs("div",{className:"max-w-md",children:[n.jsx("p",{className:"line-clamp-2 text-foreground",children:v.comment||"No comment"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",v.user_name]})]})},{key:"business",header:"Business",cell:v=>n.jsx("span",{className:"text-foreground",children:v.business_name})},{key:"rating",header:"Rating",cell:v=>p(v.rating)},{key:"date",header:"Date",cell:v=>n.jsx("span",{className:"text-muted-foreground",children:v.created_at?Fe(new Date(v.created_at),"MMM d, yyyy"):"N/A"})}];return n.jsxs(jr,{title:"Reviews",description:"Moderate user reviews",children:[n.jsx("div",{className:"space-y-4",children:n.jsx(ms,{data:e,columns:g,searchKey:"comment",searchPlaceholder:"Search reviews...",loading:r,actions:v=>n.jsxs("div",{className:"flex gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>h(v),children:n.jsx(ti,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>{d(v),l(!0)},children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"sm:max-w-lg",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:"Review Details"})}),c&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:"Rating:"}),p(c.rating)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Business:"}),n.jsx("p",{className:"text-muted-foreground",children:c.business_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"User:"}),n.jsx("p",{className:"text-muted-foreground",children:c.user_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Comment:"}),n.jsx("p",{className:"mt-1 rounded-lg border border-border bg-muted/50 p-3 text-foreground",children:c.comment||"No comment provided"})]}),c.images&&c.images.length>0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Images:"}),n.jsx("div",{className:"mt-2 flex gap-2",children:c.images.map((v,y)=>n.jsx("img",{src:v,alt:`Review image ${y+1}`,className:"h-20 w-20 rounded-lg object-cover"},y))})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Helpful: ",c.helpful_count||0]}),n.jsx("span",{className:"text-muted-foreground",children:c.created_at?Fe(new Date(c.created_at),"MMM d, yyyy HH:mm"):"N/A"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Close"}),n.jsx(P,{variant:"destructive",onClick:()=>{i(!1),l(!0)},children:"Delete Review"})]})]})}),n.jsx(es,{open:o,onOpenChange:l,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Review"}),n.jsx(Lr,{children:"Are you sure you want to delete this review? This action cannot be undone."})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const vb={code:"",description:"",discount_type:"percentage",discount_value:10,min_order_value:0,max_uses:null,valid_from:"",valid_until:"",is_active:!0};function wW(){const[e,t]=f.useState([]),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(vb),[h,p]=f.useState(!1),{toast:g}=q1();f.useEffect(()=>{v()},[]);async function v(){const{data:k,error:b}=await O.from("promo_codes").select("*").order("created_at",{ascending:!1});b?(console.error("Error fetching promo codes:",b),g({title:"Error",description:"Failed to load promo codes",variant:"destructive"})):t(k||[]),s(!1)}function y(){d(null),m(vb),i(!0)}function w(k){d(k),m({code:k.code,description:k.description||"",discount_type:k.discount_type,discount_value:k.discount_value,min_order_value:k.min_order_value||0,max_uses:k.max_uses,valid_from:k.valid_from?k.valid_from.split("T")[0]:"",valid_until:k.valid_until?k.valid_until.split("T")[0]:"",is_active:k.is_active}),i(!0)}function x(k){d(k),l(!0)}async function j(){if(!u.code.trim()){g({title:"Error",description:"Promo code is required",variant:"destructive"});return}p(!0);const k={code:u.code.toUpperCase().trim(),description:u.description||null,discount_type:u.discount_type,discount_value:u.discount_value,min_order_value:u.min_order_value||0,max_uses:u.max_uses||null,valid_from:u.valid_from||null,valid_until:u.valid_until||null,is_active:u.is_active};let b;if(c){const{error:C}=await O.from("promo_codes").update(k).eq("id",c.id);b=C}else{const{error:C}=await O.from("promo_codes").insert(k);b=C}p(!1),b?(console.error("Error saving promo code:",b),g({title:"Error",description:b.message||"Failed to save promo code",variant:"destructive"})):(g({title:"Success",description:c?"Promo code updated":"Promo code created"}),i(!1),v())}async function _(){if(!c)return;const{error:k}=await O.from("promo_codes").delete().eq("id",c.id);k?(console.error("Error deleting promo code:",k),g({title:"Error",description:"Failed to delete promo code",variant:"destructive"})):(g({title:"Success",description:"Promo code deleted"}),l(!1),v())}async function S(k){const{error:b}=await O.from("promo_codes").update({is_active:!k.is_active}).eq("id",k.id);b?g({title:"Error",description:"Failed to update status",variant:"destructive"}):v()}const N=[{key:"code",header:"Code",cell:k=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rf,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-mono font-semibold",children:k.code})]})},{key:"discount",header:"Discount",cell:k=>n.jsx("div",{className:"flex items-center gap-1",children:k.discount_type==="percentage"?n.jsxs(n.Fragment,{children:[n.jsx(kx,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{children:[k.discount_value,"%"]})]}):n.jsx(n.Fragment,{children:n.jsxs("span",{children:["",k.discount_value]})})})},{key:"usage",header:"Usage",cell:k=>n.jsxs("span",{children:[k.current_uses,k.max_uses?` / ${k.max_uses}`:""]})},{key:"validity",header:"Valid Until",cell:k=>k.valid_until?Fe(new Date(k.valid_until),"dd MMM yyyy"):"No expiry"},{key:"status",header:"Status",cell:k=>n.jsx(fe,{variant:k.is_active?"default":"secondary",children:k.is_active?"Active":"Inactive"})}];return n.jsxs(jr,{title:"Promo Codes",description:"Manage coupon and promo codes",children:[n.jsx("div",{className:"mb-4 flex justify-end",children:n.jsxs(P,{onClick:y,children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Promo Code"]})}),n.jsx(ms,{data:e,columns:N,searchKey:"code",searchPlaceholder:"Search promo codes...",loading:r,actions:k=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{checked:k.is_active,onCheckedChange:()=>S(k)}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>w(k),children:n.jsx(R4,{className:"h-4 w-4"})}),n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>x(k),children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})}),n.jsx(qt,{open:a,onOpenChange:i,children:n.jsxs(It,{className:"max-w-md",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:c?"Edit Promo Code":"Create Promo Code"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"code",children:"Promo Code *"}),n.jsx(J,{id:"code",placeholder:"e.g., SAVE20",value:u.code,onChange:k=>m({...u,code:k.target.value.toUpperCase()})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Description"}),n.jsx(Dt,{id:"description",placeholder:"Description for internal use",value:u.description,onChange:k=>m({...u,description:k.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Discount Type"}),n.jsxs(st,{value:u.discount_type,onValueChange:k=>m({...u,discount_type:k}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"percentage",children:"Percentage (%)"}),n.jsx(be,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"discount_value",children:"Discount Value *"}),n.jsx(J,{id:"discount_value",type:"number",min:"0",value:u.discount_value,onChange:k=>m({...u,discount_value:Number(k.target.value)})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"min_order_value",children:"Min Order Value ()"}),n.jsx(J,{id:"min_order_value",type:"number",min:"0",value:u.min_order_value||"",onChange:k=>m({...u,min_order_value:Number(k.target.value)||0})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"max_uses",children:"Max Uses (leave empty for unlimited)"}),n.jsx(J,{id:"max_uses",type:"number",min:"1",value:u.max_uses||"",onChange:k=>m({...u,max_uses:k.target.value?Number(k.target.value):null})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"valid_from",children:"Valid From"}),n.jsx(J,{id:"valid_from",type:"date",value:u.valid_from,onChange:k=>m({...u,valid_from:k.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"valid_until",children:"Valid Until"}),n.jsx(J,{id:"valid_until",type:"date",value:u.valid_until,onChange:k=>m({...u,valid_until:k.target.value})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(At,{id:"is_active",checked:u.is_active,onCheckedChange:k=>m({...u,is_active:k})}),n.jsx(B,{htmlFor:"is_active",children:"Active"})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(P,{onClick:j,disabled:h,children:h?"Saving...":"Save"})]})]})}),n.jsx(es,{open:o,onOpenChange:l,children:n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Promo Code?"}),n.jsxs(Lr,{children:['Are you sure you want to delete the promo code "',c==null?void 0:c.code,'"? This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:_,children:"Delete"})]})]})})]})}const xb={pending:"bg-yellow-500/20 text-yellow-600",agent_assigned:"bg-blue-500/20 text-blue-600",picked_up:"bg-purple-500/20 text-purple-600",in_transit:"bg-cyan-500/20 text-cyan-600",delivered:"bg-green-500/20 text-green-600",cancelled:"bg-destructive/20 text-destructive"},yb={pending:"Pending",agent_assigned:"Agent Assigned",picked_up:"Picked Up",in_transit:"In Transit",delivered:"Delivered",cancelled:"Cancelled"};function wb(e,t){if(!e)return"Unknown";const s=e/25*60,i=Math.ceil(s+({pending:15,agent_assigned:10,picked_up:5,in_transit:0}[t]||0));return i<60?`~${i} mins`:`~${Math.floor(i/60)}h ${i%60}m`}function jW(){var I,A,L,Z,z,R;const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(""),[g,v]=f.useState(""),[y,w]=f.useState("new");f.useEffect(()=>{x(),j()},[]);async function x(){i(!0);const{data:D,error:$}=await O.from("delivery_orders").select(`
        *,
        assigned_agent:delivery_agents!delivery_orders_assigned_agent_id_fkey (
          id, full_name, phone, avatar_url, agent_code,
          agent_availability (status)
        ),
        preferred_agent:delivery_agents!delivery_orders_preferred_agent_id_fkey (
          id, full_name, agent_code,
          agent_availability (status)
        )
      `).order("created_at",{ascending:!1});$?(F.error("Failed to load orders"),console.error($)):t(D||[]),i(!1)}async function j(){const{data:D,error:$}=await O.from("delivery_agents").select(`
        id, full_name, phone, avatar_url, agent_code, is_active, is_verified,
        agent_availability (status)
      `).eq("is_active",!0).eq("is_verified",!0);if($){console.error("Error fetching agents:",$);return}const E=[];for(const M of D||[]){const{count:Q}=await O.from("delivery_orders").select("*",{count:"exact",head:!0}).eq("assigned_agent_id",M.id).in("status",["agent_assigned","picked_up","in_transit"]);E.push({...M,active_orders_count:Q||0})}s(E)}async function _(D){m(!0);const $=r.find(E=>{var M;return((M=E.agent_availability)==null?void 0:M.status)==="online"&&E.active_orders_count===0});if(!$){F.error("No free agents available"),m(!1);return}await S(D,$.id)}async function S(D,$){m(!0);const{error:E}=await O.from("delivery_orders").update({assigned_agent_id:$,status:"agent_assigned"}).eq("id",D);E?(F.error("Failed to assign agent"),console.error(E)):(F.success("Agent assigned successfully"),x(),j(),d(!1)),m(!1)}async function N(D,$){const{error:E}=await O.from("delivery_orders").update({status:$}).eq("id",D);E?F.error("Failed to update order status"):(F.success("Order status updated"),x())}const k=e.filter(D=>{if(!(D.pickup_address.toLowerCase().includes(g.toLowerCase())||D.delivery_address.toLowerCase().includes(g.toLowerCase())||D.pickup_contact_name.toLowerCase().includes(g.toLowerCase())||D.delivery_contact_name.toLowerCase().includes(g.toLowerCase())))return!1;switch(y){case"new":return D.status==="pending";case"active":return["agent_assigned","picked_up","in_transit"].includes(D.status);case"completed":return D.status==="delivered";case"cancelled":return D.status==="cancelled";default:return!0}}),b=D=>{switch(D){case"online":return"bg-green-500";case"busy":return"bg-yellow-500";default:return"bg-muted"}};function C(D){l(D),p(D.assigned_agent_id||""),d(!0)}return n.jsxs(jr,{title:"Delivery Orders",description:"Manage all delivery orders, assign agents, and track deliveries",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative max-w-sm",children:[n.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(J,{placeholder:"Search orders...",value:g,onChange:D=>v(D.target.value),className:"pl-9"})]}),n.jsxs(li,{value:y,onValueChange:w,children:[n.jsxs(ia,{children:[n.jsxs(pt,{value:"new",children:["New (",e.filter(D=>D.status==="pending").length,")"]}),n.jsxs(pt,{value:"active",children:["Active (",e.filter(D=>["agent_assigned","picked_up","in_transit"].includes(D.status)).length,")"]}),n.jsxs(pt,{value:"completed",children:["Completed (",e.filter(D=>D.status==="delivered").length,")"]}),n.jsxs(pt,{value:"cancelled",children:["Cancelled (",e.filter(D=>D.status==="cancelled").length,")"]})]}),n.jsx(xr,{value:y,className:"mt-4",children:a?n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(D=>n.jsx(ve,{className:"h-48"},D))}):k.length===0?n.jsx(G,{children:n.jsx(Y,{className:"py-12 text-center text-muted-foreground",children:"No orders found"})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(D=>{var $,E,M;return n.jsxs(G,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C(D),children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(fe,{className:xb[D.status],children:yb[D.status]}),n.jsxs("span",{className:"text-lg font-bold text-foreground",children:["",(($=D.total_fee)==null?void 0:$.toFixed(0))||""]})]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ze,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),n.jsx("span",{className:"text-foreground line-clamp-1",children:D.pickup_address})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Ze,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"}),n.jsx("span",{className:"text-foreground line-clamp-1",children:D.delivery_address})]})]}),D.assigned_agent?n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsxs(cs,{className:"h-8 w-8",children:[n.jsx(tn,{src:D.assigned_agent.avatar_url||void 0}),n.jsx(ds,{className:"text-xs bg-primary/10 text-primary",children:D.assigned_agent.full_name.slice(0,2).toUpperCase()})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:D.assigned_agent.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${b((E=D.assigned_agent.agent_availability)==null?void 0:E.status)}`}),n.jsx("span",{className:"capitalize",children:((M=D.assigned_agent.agent_availability)==null?void 0:M.status)||"offline"})]})]}),D.status!=="delivered"&&D.status!=="cancelled"&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",wb(D.distance_km,D.status)]})]}):D.preferred_agent?n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(_s,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Preferred: ",D.preferred_agent.full_name," (",D.preferred_agent.agent_code,")"]})]}):n.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[n.jsxs(P,{size:"sm",variant:"default",onClick:Q=>{Q.stopPropagation(),_(D.id)},children:[n.jsx(Pg,{className:"h-3 w-3 mr-1"}),"Auto"]}),n.jsx(P,{size:"sm",variant:"outline",onClick:Q=>{Q.stopPropagation(),C(D)},children:"Manual"})]}),D.status==="delivered"&&D.proof_of_delivery_images&&D.proof_of_delivery_images.length>0&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground pt-2 border-t",children:[n.jsx(Ph,{className:"h-3 w-3"}),n.jsxs("span",{children:[D.proof_of_delivery_images.length," proof image(s)"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2",children:[n.jsx("span",{children:Fe(new Date(D.created_at),"MMM d, h:mm a")}),D.urgency==="urgent"&&n.jsx(fe,{variant:"destructive",className:"text-xs",children:"Urgent"})]})]})]},D.id)})})})]})]}),n.jsx(qt,{open:c,onOpenChange:d,children:n.jsx(It,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:o&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{children:n.jsxs(Lt,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Order Details"}),n.jsx(fe,{className:xb[o.status],children:yb[o.status]})]})}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4 text-green-500"}),"Pickup"]})}),n.jsxs(Y,{className:"text-sm space-y-1",children:[n.jsx("p",{className:"font-medium text-foreground",children:o.pickup_contact_name}),n.jsx("p",{className:"text-muted-foreground",children:o.pickup_address}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"h-3 w-3"}),o.pickup_contact_phone]})]})]}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ze,{className:"h-4 w-4 text-red-500"}),"Delivery"]})}),n.jsxs(Y,{className:"text-sm space-y-1",children:[n.jsx("p",{className:"font-medium text-foreground",children:o.delivery_contact_name}),n.jsx("p",{className:"text-muted-foreground",children:o.delivery_address}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Qs,{className:"h-3 w-3"}),o.delivery_contact_phone]})]})]})]}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Package Details"]})}),n.jsx(Y,{className:"text-sm",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(B,{className:"text-muted-foreground",children:"Description"}),n.jsx("p",{className:"text-foreground",children:o.package_description||"N/A"})]}),n.jsxs("div",{children:[n.jsx(B,{className:"text-muted-foreground",children:"Weight"}),n.jsxs("p",{className:"text-foreground",children:[o.weight_kg||1," kg"]})]}),n.jsxs("div",{children:[n.jsx(B,{className:"text-muted-foreground",children:"Distance"}),n.jsxs("p",{className:"text-foreground",children:[((I=o.distance_km)==null?void 0:I.toFixed(1))||""," km"]})]}),n.jsxs("div",{children:[n.jsx(B,{className:"text-muted-foreground",children:"Total Fee"}),n.jsxs("p",{className:"text-foreground font-bold",children:["",((A=o.total_fee)==null?void 0:A.toFixed(0))||""]})]}),o.is_fragile&&n.jsx("div",{children:n.jsx(fe,{variant:"secondary",children:"Fragile"})}),o.promo_code&&n.jsxs("div",{children:[n.jsx(B,{className:"text-muted-foreground",children:"Promo Code"}),n.jsx("p",{className:"text-foreground",children:o.promo_code})]})]})})]}),o.status==="pending"&&n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Assign Agent"]})}),n.jsxs(Y,{className:"space-y-4",children:[o.preferred_agent&&n.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"User's Preferred Agent:"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-foreground",children:o.preferred_agent.full_name}),n.jsx(fe,{variant:"outline",children:o.preferred_agent.agent_code}),n.jsx("span",{className:`h-2 w-2 rounded-full ${b((L=o.preferred_agent.agent_availability)==null?void 0:L.status)}`}),n.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:((Z=o.preferred_agent.agent_availability)==null?void 0:Z.status)||"offline"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Select Agent"}),n.jsxs(st,{value:h,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Choose an agent..."})}),n.jsx(Xe,{children:r.map(D=>{var $;return n.jsx(be,{value:D.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${b(($=D.agent_availability)==null?void 0:$.status)}`}),n.jsxs("span",{children:[D.full_name," (",D.agent_code,")"]}),n.jsxs("span",{className:"text-muted-foreground",children:[" ",D.active_orders_count," active"]})]})},D.id)})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(P,{onClick:()=>_(o.id),disabled:u,children:[n.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Auto-Assign Free Agent"]}),n.jsx(P,{variant:"outline",onClick:()=>h&&S(o.id,h),disabled:!h||u,children:"Assign Selected"})]})]})]}),o.assigned_agent&&n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Assigned Agent"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(cs,{className:"h-12 w-12",children:[n.jsx(tn,{src:o.assigned_agent.avatar_url||void 0}),n.jsx(ds,{className:"bg-primary/10 text-primary",children:o.assigned_agent.full_name.slice(0,2).toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:o.assigned_agent.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(fe,{variant:"outline",children:o.assigned_agent.agent_code}),n.jsx("span",{className:`h-2 w-2 rounded-full ${b((z=o.assigned_agent.agent_availability)==null?void 0:z.status)}`}),n.jsx("span",{className:"capitalize",children:((R=o.assigned_agent.agent_availability)==null?void 0:R.status)||"offline"})]}),o.assigned_agent.phone&&n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[n.jsx(Qs,{className:"h-3 w-3"}),o.assigned_agent.phone]})]}),o.status!=="delivered"&&o.status!=="cancelled"&&n.jsxs("div",{className:"ml-auto text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"font-medium text-foreground",children:wb(o.distance_km,o.status)})]})]})})]}),o.proof_of_delivery_images&&o.proof_of_delivery_images.length>0&&n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ph,{className:"h-4 w-4"}),"Delivery Proof"]})}),n.jsx(Y,{children:n.jsx("div",{className:"flex gap-2 overflow-x-auto",children:o.proof_of_delivery_images.map((D,$)=>n.jsx("img",{src:D,alt:`Proof ${$+1}`,className:"h-24 w-24 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open(D,"_blank")},$))})})]}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ol,{className:"h-4 w-4"}),"Timeline"]})}),n.jsxs(Y,{className:"text-sm space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-foreground",children:Fe(new Date(o.created_at),"MMM d, yyyy h:mm a")})]}),o.pickup_time&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Picked Up"}),n.jsx("span",{className:"text-foreground",children:Fe(new Date(o.pickup_time),"MMM d, yyyy h:mm a")})]}),o.delivery_time&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Delivered"}),n.jsx("span",{className:"text-foreground",children:Fe(new Date(o.delivery_time),"MMM d, yyyy h:mm a")})]})]})]})]}),n.jsxs(dr,{children:[o.status==="pending"&&n.jsxs(P,{variant:"destructive",onClick:()=>N(o.id,"cancelled"),children:[n.jsx(p4,{className:"h-4 w-4 mr-2"}),"Cancel Order"]}),o.status==="in_transit"&&n.jsxs(P,{onClick:()=>N(o.id,"delivered"),children:[n.jsx(kn,{className:"h-4 w-4 mr-2"}),"Mark Delivered"]})]})]})})})]})}function bW(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState("all"),[g,v]=f.useState({name:"",description:"",price:"",discount_price:"",image:"",category:"",available:!0,business_id:""});f.useEffect(()=>{y(),w()},[h]);async function y(){i(!0);let b=O.from("products").select(`
        *,
        business:businesses (name)
      `).order("created_at",{ascending:!1});h!=="all"&&(b=b.eq("business_id",h));const{data:C,error:I}=await b;I?F.error("Failed to load products"):t(C||[]),i(!1)}async function w(){const{data:b}=await O.from("businesses").select("id, name").eq("active",!0).order("name");s(b||[])}function x(){m(null),v({name:"",description:"",price:"",discount_price:"",image:"",category:"",available:!0,business_id:h!=="all"?h:""}),l(!0)}function j(b){var C;m(b),v({name:b.name,description:b.description||"",price:b.price.toString(),discount_price:((C=b.discount_price)==null?void 0:C.toString())||"",image:b.image||"",category:b.category||"",available:b.available??!0,business_id:b.business_id}),l(!0)}async function _(){if(!g.name.trim()||!g.price||!g.business_id){F.error("Please fill in required fields");return}d(!0);const b={name:g.name.trim(),description:g.description.trim()||null,price:parseFloat(g.price),discount_price:g.discount_price?parseFloat(g.discount_price):null,image:g.image||null,category:g.category.trim()||null,available:g.available,business_id:g.business_id};if(u){const{error:C}=await O.from("products").update(b).eq("id",u.id);C?F.error("Failed to update product"):(F.success("Product updated"),y(),l(!1))}else{const{error:C}=await O.from("products").insert(b);C?F.error("Failed to create product"):(F.success("Product created"),y(),l(!1))}d(!1)}async function S(b){const{error:C}=await O.from("products").delete().eq("id",b.id);C?F.error("Failed to delete product"):(F.success("Product deleted"),y())}async function N(b){const{error:C}=await O.from("products").update({available:!b.available}).eq("id",b.id);C?F.error("Failed to update product"):y()}const k=[{key:"product",header:"Product",cell:b=>n.jsxs("div",{className:"flex items-center gap-3",children:[b.image?n.jsx("img",{src:b.image,alt:b.name,className:"h-12 w-12 object-cover rounded-lg"}):n.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg flex items-center justify-center",children:n.jsx(Yt,{className:"h-6 w-6 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:b.name}),b.category&&n.jsx(fe,{variant:"outline",className:"text-xs mt-1",children:b.category})]})]})},{key:"business",header:"Business",cell:b=>{var C;return n.jsx("span",{className:"text-foreground",children:((C=b.business)==null?void 0:C.name)||""})}},{key:"price",header:"Price",cell:b=>n.jsx("div",{children:b.discount_price?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-foreground font-medium",children:["",b.discount_price]}),n.jsxs("span",{className:"text-muted-foreground line-through ml-2",children:["",b.price]})]}):n.jsxs("span",{className:"text-foreground font-medium",children:["",b.price]})})},{key:"available",header:"Available",cell:b=>n.jsx(At,{checked:b.available,onCheckedChange:()=>N(b)})}];return n.jsxs(jr,{title:"Products",description:"Manage products across all businesses",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs(st,{value:h,onValueChange:p,children:[n.jsx(Je,{className:"w-[250px]",children:n.jsx(nt,{placeholder:"Filter by business"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"all",children:"All Businesses"}),r.map(b=>n.jsx(be,{value:b.id,children:b.name},b.id))]})]}),n.jsxs(P,{onClick:x,children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),n.jsx(ms,{data:e,columns:k,searchKey:"name",searchPlaceholder:"Search products...",loading:a,actions:b=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>j(b),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsxs(es,{children:[n.jsx(Id,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"icon",children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})}),n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Product?"}),n.jsxs(Lr,{children:['This will permanently delete "',b.name,'". This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:()=>S(b),children:"Delete"})]})]})]})]})})]}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-w-lg",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:u?"Edit Product":"Add Product"})}),n.jsxs("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"business_id",children:"Business *"}),n.jsxs(st,{value:g.business_id,onValueChange:b=>v({...g,business_id:b}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select a business"})}),n.jsx(Xe,{children:r.map(b=>n.jsx(be,{value:b.id,children:b.name},b.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"name",children:"Product Name *"}),n.jsx(J,{id:"name",value:g.name,onChange:b=>v({...g,name:b.target.value}),placeholder:"Product name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Description"}),n.jsx(Dt,{id:"description",value:g.description,onChange:b=>v({...g,description:b.target.value}),placeholder:"Product description",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"price",children:"Price *"}),n.jsx(J,{id:"price",type:"number",value:g.price,onChange:b=>v({...g,price:b.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"discount_price",children:"Discount Price"}),n.jsx(J,{id:"discount_price",type:"number",value:g.discount_price,onChange:b=>v({...g,discount_price:b.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"category",children:"Category"}),n.jsx(J,{id:"category",value:g.category,onChange:b=>v({...g,category:b.target.value}),placeholder:"e.g., Electronics, Clothing"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Product Image"}),n.jsx(Bd,{value:g.image,onChange:b=>v({...g,image:b}),folder:"products"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(B,{htmlFor:"available",children:"Available for sale"}),n.jsx(At,{id:"available",checked:g.available,onCheckedChange:b=>v({...g,available:b})})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:_,disabled:c,children:c?"Saving...":"Save"})]})]})})]})}const jb=[{value:"daily",label:"Daily Deal"},{value:"weekly",label:"Weekly Special"},{value:"monthly",label:"Monthly Offer"},{value:"flash",label:"Flash Sale"}];function _W(){const[e,t]=f.useState([]),[r,s]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState("all"),[g,v]=f.useState({business_id:"",title:"",description:"",offer_type:"daily",discount_percentage:"",discount_amount:"",image:"",valid_from:"",valid_until:"",is_active:!0});f.useEffect(()=>{y(),w()},[h]);async function y(){i(!0);let C=O.from("business_offers").select(`
        *,
        business:businesses (name)
      `).order("created_at",{ascending:!1});h!=="all"&&(C=C.eq("business_id",h));const{data:I,error:A}=await C;A?(F.error("Failed to load offers"),console.error(A)):t(I||[]),i(!1)}async function w(){const{data:C}=await O.from("businesses").select("id, name").eq("active",!0).order("name");s(C||[])}function x(){m(null),v({business_id:h!=="all"?h:"",title:"",description:"",offer_type:"daily",discount_percentage:"",discount_amount:"",image:"",valid_from:"",valid_until:"",is_active:!0}),l(!0)}function j(C){var I,A;m(C),v({business_id:C.business_id,title:C.title,description:C.description||"",offer_type:C.offer_type,discount_percentage:((I=C.discount_percentage)==null?void 0:I.toString())||"",discount_amount:((A=C.discount_amount)==null?void 0:A.toString())||"",image:C.image||"",valid_from:C.valid_from?Fe(new Date(C.valid_from),"yyyy-MM-dd'T'HH:mm"):"",valid_until:C.valid_until?Fe(new Date(C.valid_until),"yyyy-MM-dd'T'HH:mm"):"",is_active:C.is_active}),l(!0)}async function _(){if(!g.title.trim()||!g.business_id){F.error("Please fill in required fields");return}if(!g.discount_percentage&&!g.discount_amount){F.error("Please provide either discount percentage or amount");return}d(!0);const C={business_id:g.business_id,title:g.title.trim(),description:g.description.trim()||null,offer_type:g.offer_type,discount_percentage:g.discount_percentage?parseFloat(g.discount_percentage):null,discount_amount:g.discount_amount?parseFloat(g.discount_amount):null,image:g.image||null,valid_from:g.valid_from?new Date(g.valid_from).toISOString():null,valid_until:g.valid_until?new Date(g.valid_until).toISOString():null,is_active:g.is_active};if(u){const{error:I}=await O.from("business_offers").update(C).eq("id",u.id);I?(F.error("Failed to update offer"),console.error(I)):(F.success("Offer updated"),y(),l(!1))}else{const{error:I}=await O.from("business_offers").insert(C);I?(F.error("Failed to create offer"),console.error(I)):(F.success("Offer created"),y(),l(!1))}d(!1)}async function S(C){const{error:I}=await O.from("business_offers").delete().eq("id",C.id);I?F.error("Failed to delete offer"):(F.success("Offer deleted"),y())}async function N(C){const{error:I}=await O.from("business_offers").update({is_active:!C.is_active}).eq("id",C.id);I?F.error("Failed to update offer"):y()}const k=C=>{var I;return((I=jb.find(A=>A.value===C))==null?void 0:I.label)||C},b=[{key:"offer",header:"Offer",cell:C=>n.jsxs("div",{className:"flex items-center gap-3",children:[C.image?n.jsx("img",{src:C.image,alt:C.title,className:"h-12 w-12 object-cover rounded-lg"}):n.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg flex items-center justify-center",children:n.jsx(Eg,{className:"h-6 w-6 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:C.title}),n.jsx(fe,{variant:"outline",className:"text-xs mt-1",children:k(C.offer_type)})]})]})},{key:"business",header:"Business",cell:C=>{var I;return n.jsx("span",{className:"text-foreground",children:((I=C.business)==null?void 0:I.name)||""})}},{key:"discount",header:"Discount",cell:C=>n.jsx("div",{className:"flex items-center gap-1",children:C.discount_percentage?n.jsxs(n.Fragment,{children:[n.jsx(kx,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{className:"text-foreground font-medium",children:[C.discount_percentage,"% off"]})]}):C.discount_amount?n.jsxs("span",{className:"text-foreground font-medium",children:["",C.discount_amount," off"]}):""})},{key:"validity",header:"Valid Until",cell:C=>n.jsx("span",{className:"text-foreground",children:C.valid_until?Fe(new Date(C.valid_until),"MMM d, yyyy"):"No expiry"})},{key:"active",header:"Active",cell:C=>n.jsx(At,{checked:C.is_active,onCheckedChange:()=>N(C)})}];return n.jsxs(jr,{title:"Business Offers",description:"Create and manage promotional offers for businesses",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs(st,{value:h,onValueChange:p,children:[n.jsx(Je,{className:"w-[250px]",children:n.jsx(nt,{placeholder:"Filter by business"})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"all",children:"All Businesses"}),r.map(C=>n.jsx(be,{value:C.id,children:C.name},C.id))]})]}),n.jsxs(P,{onClick:x,children:[n.jsx(an,{className:"mr-2 h-4 w-4"}),"Create Offer"]})]}),n.jsx(ms,{data:e,columns:b,searchKey:"title",searchPlaceholder:"Search offers...",loading:a,actions:C=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>j(C),children:n.jsx(Cs,{className:"h-4 w-4"})}),n.jsxs(es,{children:[n.jsx(Id,{asChild:!0,children:n.jsx(P,{variant:"ghost",size:"icon",children:n.jsx(Xr,{className:"h-4 w-4 text-destructive"})})}),n.jsxs(Dr,{children:[n.jsxs(Mr,{children:[n.jsx(Fr,{children:"Delete Offer?"}),n.jsxs(Lr,{children:['This will permanently delete "',C.title,'". This action cannot be undone.']})]}),n.jsxs(Ir,{children:[n.jsx(Ur,{children:"Cancel"}),n.jsx($r,{onClick:()=>S(C),children:"Delete"})]})]})]})]})})]}),n.jsx(qt,{open:o,onOpenChange:l,children:n.jsxs(It,{className:"max-w-lg",children:[n.jsx(Ft,{children:n.jsx(Lt,{children:u?"Edit Offer":"Create Offer"})}),n.jsxs("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"business_id",children:"Business *"}),n.jsxs(st,{value:g.business_id,onValueChange:C=>v({...g,business_id:C}),children:[n.jsx(Je,{children:n.jsx(nt,{placeholder:"Select a business"})}),n.jsx(Xe,{children:r.map(C=>n.jsx(be,{value:C.id,children:C.name},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"title",children:"Offer Title *"}),n.jsx(J,{id:"title",value:g.title,onChange:C=>v({...g,title:C.target.value}),placeholder:"e.g., Weekend Special - 20% Off"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"description",children:"Description"}),n.jsx(Dt,{id:"description",value:g.description,onChange:C=>v({...g,description:C.target.value}),placeholder:"Offer details...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"offer_type",children:"Offer Type"}),n.jsxs(st,{value:g.offer_type,onValueChange:C=>v({...g,offer_type:C}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsx(Xe,{children:jb.map(C=>n.jsx(be,{value:C.value,children:C.label},C.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"discount_percentage",children:"Discount %"}),n.jsx(J,{id:"discount_percentage",type:"number",value:g.discount_percentage,onChange:C=>v({...g,discount_percentage:C.target.value}),placeholder:"10"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"discount_amount",children:"Or Fixed Amount ()"}),n.jsx(J,{id:"discount_amount",type:"number",value:g.discount_amount,onChange:C=>v({...g,discount_amount:C.target.value}),placeholder:"50"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"valid_from",children:"Valid From"}),n.jsx(J,{id:"valid_from",type:"datetime-local",value:g.valid_from,onChange:C=>v({...g,valid_from:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"valid_until",children:"Valid Until"}),n.jsx(J,{id:"valid_until",type:"datetime-local",value:g.valid_until,onChange:C=>v({...g,valid_until:C.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{children:"Offer Banner Image"}),n.jsx(Bd,{value:g.image,onChange:C=>v({...g,image:C}),folder:"offers"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(B,{htmlFor:"is_active",children:"Active"}),n.jsx(At,{id:"is_active",checked:g.is_active,onCheckedChange:C=>v({...g,is_active:C})})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(P,{onClick:_,disabled:c,children:c?"Saving...":"Save"})]})]})})]})}function NW(){var w,x,j,_;const e=Qt(),{user:t,signOut:r}=wt(),{isAgent:s,loading:a}=Bl(),[i,o]=f.useState(null),[l,c]=f.useState({pending:0,active:0,completedToday:0,earningsToday:0}),[d,u]=f.useState(!0),[m,h]=f.useState(!1);f.useEffect(()=>{if(!a&&!s){e("/");return}t&&s&&(p(),g())},[t,s,a,e]);async function p(){if(!t)return;const{data:S,error:N}=await O.from("delivery_agents").select(`
        id, agent_code, full_name, avatar_url, vehicle_type,
        rating, total_deliveries, total_earnings, is_available,
        agent_availability (status)
      `).eq("user_id",t.id).single();N?(console.error("Error fetching agent:",N),F.error("Failed to load agent profile")):o(S),u(!1)}async function g(){if(!t)return;const{data:S}=await O.from("delivery_agents").select("id").eq("user_id",t.id).single();if(!S)return;const N=new Date;N.setHours(0,0,0,0);const{count:k}=await O.from("delivery_orders").select("*",{count:"exact",head:!0}).eq("status","pending").or(`assigned_agent_id.is.null,preferred_agent_id.eq.${S.id}`),{count:b}=await O.from("delivery_orders").select("*",{count:"exact",head:!0}).eq("assigned_agent_id",S.id).in("status",["agent_assigned","picked_up","in_transit"]),{data:C}=await O.from("delivery_orders").select("total_fee, agent_adjusted_fee").eq("assigned_agent_id",S.id).eq("status","delivered").gte("delivery_time",N.toISOString()),I=(C==null?void 0:C.length)||0,A=(C==null?void 0:C.reduce((L,Z)=>L+(Z.agent_adjusted_fee||Z.total_fee||0),0))||0;c({pending:k||0,active:b||0,completedToday:I,earningsToday:A})}async function v(){var k;if(!i)return;h(!0);const S=((k=i.agent_availability)==null?void 0:k.status)==="online"?"offline":"online",{error:N}=await O.from("agent_availability").update({status:S,last_seen_at:new Date().toISOString()}).eq("agent_id",i.id);N?F.error("Failed to update status"):(F.success(`You are now ${S}`),p()),h(!1)}if(a||d)return n.jsxs("div",{className:"min-h-screen bg-background p-4 space-y-4",children:[n.jsx(ve,{className:"h-32 w-full"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ve,{className:"h-24"}),n.jsx(ve,{className:"h-24"}),n.jsx(ve,{className:"h-24"}),n.jsx(ve,{className:"h-24"})]})]});const y=((w=i==null?void 0:i.agent_availability)==null?void 0:w.status)==="online";return n.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[n.jsxs("div",{className:"bg-primary text-primary-foreground p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-foreground/20 flex items-center justify-center font-bold text-lg",children:((x=i==null?void 0:i.full_name)==null?void 0:x.slice(0,2).toUpperCase())||"AG"}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-lg",children:i==null?void 0:i.full_name}),n.jsx(fe,{variant:"outline",className:"text-primary-foreground border-primary-foreground/50",children:i==null?void 0:i.agent_code})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>e("/"),title:"Back to Site",children:n.jsx(Nx,{className:"h-5 w-5"})}),n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>r(),children:n.jsx(Sx,{className:"h-5 w-5"})})]})]}),n.jsx(G,{className:"bg-primary-foreground/10 border-primary-foreground/20",children:n.jsxs(Y,{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`h-3 w-3 rounded-full ${y?"bg-green-400 animate-pulse":"bg-muted"}`}),n.jsx("span",{className:"font-medium",children:y?"Online - Accepting Orders":"Offline"})]}),n.jsx(At,{checked:y,onCheckedChange:v,disabled:m})]})})]}),n.jsxs("main",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(h4,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.pending})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(Et,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Active"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.active})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(kn,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Today"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.completedToday})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(Eh,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Earnings"})]}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",l.earningsToday]})]})})]}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsx(qe,{className:"text-base",children:"Lifetime Stats"})}),n.jsxs(Y,{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-1",children:[n.jsx(yt,{className:"h-5 w-5 fill-yellow-500"}),n.jsx("span",{className:"font-bold text-lg",children:((j=i==null?void 0:i.rating)==null?void 0:j.toFixed(1))||"0.0"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rating"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-lg text-foreground",children:(i==null?void 0:i.total_deliveries)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Deliveries"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold text-lg text-primary",children:["",((_=i==null?void 0:i.total_earnings)==null?void 0:_.toLocaleString())||0]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Earned"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(P,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2",onClick:()=>e("/agent/orders"),children:[n.jsx(Yt,{className:"h-6 w-6"}),n.jsx("span",{children:"View Orders"}),l.pending>0&&n.jsx(fe,{variant:"destructive",className:"absolute -top-2 -right-2",children:l.pending})]}),n.jsxs(P,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2",onClick:()=>e("/agent/active"),children:[n.jsx(Et,{className:"h-6 w-6"}),n.jsx("span",{children:"Active Delivery"})]}),n.jsxs(P,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2",onClick:()=>e("/agent/earnings"),children:[n.jsx(Eh,{className:"h-6 w-6"}),n.jsx("span",{children:"Earnings"})]}),n.jsxs(P,{variant:"outline",className:"h-auto py-4 flex flex-col gap-2",onClick:()=>e("/agent/profile"),children:[n.jsx(_s,{className:"h-6 w-6"}),n.jsx("span",{children:"Profile"})]})]})]})]})}function SW(){var Z,z;const e=Qt(),{user:t}=wt(),{isAgent:r,loading:s}=Bl(),[a,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(!0),[u,m]=f.useState("pending"),[h,p]=f.useState(null),[g,v]=f.useState("accept"),[y,w]=f.useState(""),[x,j]=f.useState(""),[_,S]=f.useState(!1);f.useEffect(()=>{if(!s&&!r){e("/");return}t&&r&&N()},[t,r,s]),f.useEffect(()=>{if(o){k();const R=O.channel("agent-orders").on("postgres_changes",{event:"*",schema:"public",table:"delivery_orders"},()=>{k()}).subscribe();return()=>{O.removeChannel(R)}}},[o,u]);async function N(){if(!t)return;const{data:R}=await O.from("delivery_agents").select("id").eq("user_id",t.id).single();R&&l(R.id)}async function k(){if(!o)return;d(!0);let R=O.from("delivery_orders").select(`
        id, pickup_address, pickup_contact_name, pickup_contact_phone,
        delivery_address, delivery_contact_name, delivery_contact_phone,
        package_description, weight_kg, is_fragile, weather_condition,
        urgency, distance_km, total_fee, agent_adjusted_fee, status,
        created_at, preferred_agent_id, assigned_agent_id,
        dropee_services (name)
      `).order("created_at",{ascending:!1});u==="pending"?R=R.eq("status","pending"):u==="active"?R=R.eq("assigned_agent_id",o).in("status",["agent_assigned","picked_up","in_transit"]):u==="completed"&&(R=R.eq("assigned_agent_id",o).eq("status","delivered").limit(20));const{data:D,error:$}=await R;$?console.error("Error fetching orders:",$):i(D),d(!1)}function b(R,D){var $;p(R),v(D),w((($=R.total_fee)==null?void 0:$.toString())||""),j("")}async function C(){if(!(!h||!o)){S(!0);try{const R=y?parseFloat(y):h.total_fee,D=R!==h.total_fee,{error:$}=await O.from("delivery_orders").update({assigned_agent_id:o,status:"agent_assigned",agent_adjusted_fee:D?R:null,fee_adjustment_reason:D?x:null}).eq("id",h.id);if($)throw $;const{error:E}=await O.from("agent_order_responses").insert({order_id:h.id,agent_id:o,action:D?"counter_offer":"accepted",proposed_fee:D?R:null,response_message:x||null});if(E)throw E;F.success("Order accepted!"),p(null),k()}catch(R){F.error("Failed to accept order",{description:R.message})}finally{S(!1)}}}async function I(){if(!(!h||!o)){S(!0);try{const{error:R}=await O.from("agent_order_responses").insert({order_id:h.id,agent_id:o,action:"declined",response_message:x||null});if(R)throw R;F.success("Order declined"),p(null),k()}catch(R){F.error("Failed to decline order",{description:R.message})}finally{S(!1)}}}async function A(R,D){const{error:$}=await O.from("delivery_orders").update({status:D,...D==="picked_up"?{pickup_time:new Date().toISOString()}:{}}).eq("id",R);$?F.error("Failed to update status"):(F.success(`Order marked as ${D.replace("_"," ")}`),k())}const L=R=>{var $;const D=R.preferred_agent_id===o;return R.assigned_agent_id,n.jsx(G,{className:"overflow-hidden",children:n.jsxs(Y,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fe,{variant:R.urgency==="urgent"?"destructive":"secondary",children:R.urgency}),D&&n.jsx(fe,{variant:"outline",className:"text-primary border-primary",children:"Preferred"}),R.is_fragile&&n.jsxs(fe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[n.jsx(Fi,{className:"h-3 w-3 mr-1"})," Fragile"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Fe(new Date(R.created_at),"dd MMM, h:mm a")})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-lg text-primary",children:["",R.agent_adjusted_fee||R.total_fee]}),R.agent_adjusted_fee&&n.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["",R.total_fee]})]})]}),R.dropee_services&&n.jsx("p",{className:"text-sm font-medium text-foreground",children:R.dropee_services.name}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:R.pickup_address}),n.jsx("p",{className:"text-muted-foreground",children:R.pickup_contact_name})]})]}),n.jsx("div",{className:"ml-2.5 border-l-2 border-dashed border-muted h-4"}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:n.jsx(Ze,{className:"h-3 w-3 text-red-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:R.delivery_address}),n.jsx("p",{className:"text-muted-foreground",children:R.delivery_contact_name})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[($=R.distance_km)==null?void 0:$.toFixed(1)," km"]}),n.jsxs("span",{children:[R.weight_kg," kg"]}),R.package_description&&n.jsx("span",{className:"truncate",children:R.package_description})]}),u==="pending"&&n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>b(R,"decline"),children:[n.jsx(ri,{className:"h-4 w-4 mr-1"})," Decline"]}),n.jsxs(P,{size:"sm",className:"flex-1",onClick:()=>b(R,"accept"),children:[n.jsx(gd,{className:"h-4 w-4 mr-1"})," Accept"]})]}),u==="active"&&n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(P,{variant:"outline",size:"sm",onClick:()=>window.open(`tel:${R.pickup_contact_phone}`),children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"outline",size:"sm",onClick:()=>window.open(`tel:${R.delivery_contact_phone}`),children:n.jsx(_s,{className:"h-4 w-4"})}),R.status==="agent_assigned"&&n.jsx(P,{size:"sm",className:"flex-1",onClick:()=>A(R.id,"picked_up"),children:"Mark Picked Up"}),R.status==="picked_up"&&n.jsx(P,{size:"sm",className:"flex-1",onClick:()=>A(R.id,"in_transit"),children:"Start Delivery"}),R.status==="in_transit"&&n.jsx(P,{size:"sm",className:"flex-1",onClick:()=>e(`/agent/complete/${R.id}`),children:"Complete Delivery"})]})]})},R.id)};return s?n.jsxs("div",{className:"min-h-screen bg-background p-4 space-y-4",children:[n.jsx(ve,{className:"h-12 w-full"}),n.jsx(ve,{className:"h-32 w-full"}),n.jsx(ve,{className:"h-32 w-full"})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>e("/agent"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Orders"})]})}),n.jsxs(li,{value:u,onValueChange:m,className:"w-full",children:[n.jsxs(ia,{className:"w-full justify-start rounded-none border-b bg-background h-12 p-0",children:[n.jsx(pt,{value:"pending",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-primary",children:"Pending"}),n.jsx(pt,{value:"active",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-primary",children:"Active"}),n.jsx(pt,{value:"completed",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-primary",children:"Completed"})]}),n.jsx("div",{className:"p-4 space-y-4",children:c?Array.from({length:3}).map((R,D)=>n.jsx(ve,{className:"h-48 w-full"},D)):a.length===0?n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center text-muted-foreground",children:[n.jsx(Yt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsxs("p",{children:["No ",u," orders"]})]})}):a.map(L)})]}),n.jsx(qt,{open:!!h,onOpenChange:()=>p(null),children:n.jsxs(It,{children:[n.jsx(Ft,{children:n.jsx(Lt,{children:g==="accept"?"Accept Order":"Decline Order"})}),h&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current Fee"}),n.jsxs("span",{className:"font-bold",children:["",h.total_fee]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(Z=h.distance_km)==null?void 0:Z.toFixed(1)," km  ",h.weight_kg," kg"]})]}),g==="accept"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(B,{children:"Adjust Fee (Optional)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx(J,{type:"number",value:y,onChange:R=>w(R.target.value),placeholder:(z=h.total_fee)==null?void 0:z.toString()})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave as-is to accept at current fee"})]}),y&&parseFloat(y)!==h.total_fee&&n.jsxs("div",{children:[n.jsx(B,{children:"Reason for Adjustment"}),n.jsx(Dt,{value:x,onChange:R=>j(R.target.value),placeholder:"e.g., Steep hill, heavy traffic area...",rows:2})]})]}),g==="decline"&&n.jsxs("div",{children:[n.jsx(B,{children:"Reason (Optional)"}),n.jsx(Dt,{value:x,onChange:R=>j(R.target.value),placeholder:"Why are you declining this order?",rows:2})]})]}),n.jsxs(dr,{children:[n.jsx(P,{variant:"outline",onClick:()=>p(null),children:"Cancel"}),g==="accept"?n.jsxs(P,{onClick:C,disabled:_,children:[_?n.jsx(ot,{className:"h-4 w-4 animate-spin mr-2"}):null,"Accept Order"]}):n.jsxs(P,{variant:"destructive",onClick:I,disabled:_,children:[_?n.jsx(ot,{className:"h-4 w-4 animate-spin mr-2"}):null,"Decline Order"]})]})]})})]})}function kW({orderId:e,agentId:t,isActive:r,trackingStatus:s,intervalMs:a=15e3}){const[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState(null),[m,h]=f.useState("unknown"),p=f.useRef(null),g=f.useRef(null),v=f.useRef(0);f.useEffect(()=>{"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(S=>{h(S.state),S.onchange=()=>{h(S.state)}}).catch(()=>{h("unknown")})},[]);const y=f.useCallback(async S=>{const N=Date.now();if(N-v.current<a-1e3)return;v.current=N;const k={order_id:e,agent_id:t,lat:S.coords.latitude,lng:S.coords.longitude,heading:S.coords.heading||0,speed:S.coords.speed?S.coords.speed*3.6:0,status:s,timestamp:new Date().toISOString()};o({lat:k.lat,lng:k.lng,heading:k.heading,speed:k.speed,accuracy:S.coords.accuracy,timestamp:N});const{error:b}=await O.from("delivery_tracking").insert(k);b?(console.error("Failed to upload location:",b),u("Failed to upload location")):u(null)},[e,t,s,a]),w=f.useCallback(S=>{y(S)},[y]),x=f.useCallback(S=>{switch(S.code){case S.PERMISSION_DENIED:u("Location permission denied"),h("denied");break;case S.POSITION_UNAVAILABLE:u("Location unavailable");break;case S.TIMEOUT:u("Location request timed out");break;default:u("Unknown location error")}},[]),j=f.useCallback(()=>{if(!navigator.geolocation){u("Geolocation not supported");return}c(!0),u(null),navigator.geolocation.getCurrentPosition(w,x,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}),p.current=navigator.geolocation.watchPosition(w,x,{enableHighAccuracy:!0,timeout:3e4,maximumAge:1e4}),g.current=setInterval(()=>{navigator.geolocation.getCurrentPosition(w,x,{enableHighAccuracy:!0,timeout:1e4,maximumAge:5e3})},a)},[w,x,a]),_=f.useCallback(()=>{p.current!==null&&(navigator.geolocation.clearWatch(p.current),p.current=null),g.current&&(clearInterval(g.current),g.current=null),c(!1)},[]);return f.useEffect(()=>(r&&!l?j():!r&&l&&_(),()=>{_()}),[r]),f.useEffect(()=>()=>{_()},[]),{location:i,isTracking:l,error:d,permissionStatus:m,startTracking:j,stopTracking:_}}function CW(){var j,_;const e=Qt(),{user:t}=wt(),{isAgent:r,loading:s}=Bl(),[a,i]=f.useState(null),[o,l]=f.useState(!0),[c,d]=f.useState(null),u=(a==null?void 0:a.status)==="in_transit",{isTracking:m,location:h,error:p,permissionStatus:g}=kW({orderId:(a==null?void 0:a.id)||"",agentId:c||"",isActive:u&&!!c&&!!a,trackingStatus:"en_route_delivery"});f.useEffect(()=>{if(!s&&!r){e("/");return}t&&r&&v()},[t,r,s]);async function v(){if(!t)return;const{data:S}=await O.from("delivery_agents").select("id").eq("user_id",t.id).single();if(!S){l(!1),d(null);return}d(S.id);const{data:N,error:k}=await O.from("delivery_orders").select(`
        id, pickup_address, pickup_contact_name, pickup_contact_phone,
        delivery_address, delivery_contact_name, delivery_contact_phone,
        package_description, weight_kg, is_fragile, distance_km,
        total_fee, agent_adjusted_fee, status, pickup_time, created_at,
        dropee_services (name)
      `).eq("assigned_agent_id",S.id).in("status",["agent_assigned","picked_up","in_transit"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();!k&&N&&i(N),l(!1)}async function y(S){if(!a)return;const N={status:S};S==="picked_up"&&(N.pickup_time=new Date().toISOString());const{error:k}=await O.from("delivery_orders").update(N).eq("id",a.id);k?F.error("Failed to update status"):(F.success(`Status updated to ${S.replace("_"," ")}`),v())}const w=()=>{switch(a==null?void 0:a.status){case"agent_assigned":return 0;case"picked_up":return 1;case"in_transit":return 2;default:return 0}};if(s||o)return n.jsxs("div",{className:"min-h-screen bg-background p-4 space-y-4",children:[n.jsx(ve,{className:"h-12 w-full"}),n.jsx(ve,{className:"h-64 w-full"})]});if(!a)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>e("/agent"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Active Delivery"})]})}),n.jsx("div",{className:"p-4",children:n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(Et,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),n.jsx("h2",{className:"font-semibold text-lg mb-2",children:"No Active Delivery"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Accept an order to start delivering"}),n.jsx(P,{onClick:()=>e("/agent/orders"),children:"View Pending Orders"})]})})})]});const x=w();return n.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>e("/agent"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Active Delivery"})]})}),n.jsxs("main",{className:"p-4 space-y-4",children:[n.jsx(G,{children:n.jsx(Y,{className:"p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:["Accepted","Picked Up","In Transit","Delivered"].map((S,N)=>n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-xs font-medium ${N<=x?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:N<=x?n.jsx(kn,{className:"h-4 w-4"}):N+1}),n.jsx("span",{className:"text-xs mt-1 text-muted-foreground",children:S})]},S))})})}),u&&n.jsx(G,{className:m?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50",children:n.jsxs(Y,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(TN,{className:`h-4 w-4 ${m?"text-green-600":"text-yellow-600"}`}),m&&n.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-green-500 animate-ping"})]}),n.jsx("span",{className:`text-sm font-medium ${m?"text-green-700":"text-yellow-700"}`,children:m?"Location sharing active":"Location sharing paused"})]}),h&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(h.speed)," km/h"]})]}),p&&n.jsx("p",{className:"text-xs text-destructive mt-1",children:p}),g==="denied"&&n.jsx("p",{className:"text-xs text-destructive mt-1",children:"Please enable location permissions in your browser settings"})]})}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(qe,{className:"text-base",children:"Order Details"}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-bold text-lg text-primary",children:["",a.agent_adjusted_fee||a.total_fee]})})]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:((j=a.dropee_services)==null?void 0:j.name)||"Delivery"}),a.is_fragile&&n.jsxs(fe,{variant:"outline",className:"text-yellow-600",children:[n.jsx(Fi,{className:"h-3 w-3 mr-1"})," Fragile"]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[(_=a.distance_km)==null?void 0:_.toFixed(1)," km  ",a.weight_kg," kg",a.package_description&&`  ${a.package_description}`]}),a.pickup_time&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ol,{className:"h-4 w-4"}),"Picked up at ",Fe(new Date(a.pickup_time),"h:mm a")]})]})]}),n.jsxs(G,{className:x>=1?"opacity-60":"",children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-6 w-6 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})}),n.jsx(qe,{className:"text-base",children:"Pickup"}),x>=1&&n.jsx(kn,{className:"h-4 w-4 text-green-500 ml-auto"})]})}),n.jsxs(Y,{children:[n.jsx("p",{className:"font-medium",children:a.pickup_address}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:a.pickup_contact_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.pickup_contact_phone})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:"outline",size:"icon",onClick:()=>window.open(`tel:${a.pickup_contact_phone}`),children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"outline",size:"icon",onClick:()=>window.open(`https://maps.google.com/?q=${encodeURIComponent(a.pickup_address)}`),children:n.jsx(Jn,{className:"h-4 w-4"})})]})]})]})]}),n.jsxs(G,{className:x<1?"opacity-60":"",children:[n.jsx(We,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-6 w-6 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Ze,{className:"h-3 w-3 text-red-500"})}),n.jsx(qe,{className:"text-base",children:"Delivery"})]})}),n.jsxs(Y,{children:[n.jsx("p",{className:"font-medium",children:a.delivery_address}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:a.delivery_contact_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.delivery_contact_phone})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(P,{variant:"outline",size:"icon",onClick:()=>window.open(`tel:${a.delivery_contact_phone}`),children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(P,{variant:"outline",size:"icon",onClick:()=>window.open(`https://maps.google.com/?q=${encodeURIComponent(a.delivery_address)}`),children:n.jsx(Jn,{className:"h-4 w-4"})})]})]})]})]})]}),n.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t",children:[a.status==="agent_assigned"&&n.jsxs(P,{className:"w-full h-12 text-lg",onClick:()=>y("picked_up"),children:[n.jsx(Yt,{className:"h-5 w-5 mr-2"}),"Mark as Picked Up"]}),a.status==="picked_up"&&n.jsxs(P,{className:"w-full h-12 text-lg",onClick:()=>y("in_transit"),children:[n.jsx(Et,{className:"h-5 w-5 mr-2"}),"Start Delivery"]}),a.status==="in_transit"&&n.jsxs(P,{className:"w-full h-12 text-lg",onClick:()=>e(`/agent/complete/${a.id}`),children:[n.jsx(kn,{className:"h-5 w-5 mr-2"}),"Complete Delivery"]})]})]})}function EW(){const{orderId:e}=jd(),t=Qt(),{user:r}=wt(),s=f.useRef(null),a=f.useRef(null),[i,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(""),[m,h]=f.useState(!1),[p,g]=f.useState(null);f.useEffect(()=>(v(),()=>{y()}),[]);async function v(){try{const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});o(_),s.current&&(s.current.srcObject=_),g(null)}catch(_){console.error("Camera error:",_),g("Unable to access camera. Please grant camera permission.")}}function y(){i&&(i.getTracks().forEach(_=>_.stop()),o(null))}function w(){if(!s.current||!a.current)return;const _=s.current,S=a.current;S.width=_.videoWidth,S.height=_.videoHeight;const N=S.getContext("2d");if(N){N.drawImage(_,0,0);const k=S.toDataURL("image/jpeg",.8);c(k),y()}}function x(){c(null),v()}async function j(){if(!l||!e||!r){F.error("Please capture a photo of the delivery");return}h(!0);try{const{data:_}=await O.from("delivery_agents").select("id").eq("user_id",r.id).single();if(!_)throw new Error("Agent not found");const N=await(await fetch(l)).blob(),k=`${e}/${Date.now()}.jpg`,{error:b}=await O.storage.from("delivery-proofs").upload(k,N,{contentType:"image/jpeg"});b&&console.error("Upload error:",b);const{data:C}=O.storage.from("delivery-proofs").getPublicUrl(k),{error:I}=await O.from("delivery_orders").update({status:"delivered",delivery_time:new Date().toISOString(),delivery_notes:d||null,proof_of_delivery_images:C!=null&&C.publicUrl?[C.publicUrl]:[]}).eq("id",e);if(I)throw I;const{data:A}=await O.from("delivery_agents").select("total_deliveries, total_earnings").eq("id",_.id).single(),{data:L}=await O.from("delivery_orders").select("total_fee, agent_adjusted_fee").eq("id",e).single();if(A&&L){const Z=L.agent_adjusted_fee||L.total_fee||0;await O.from("delivery_agents").update({total_deliveries:(A.total_deliveries||0)+1,total_earnings:(A.total_earnings||0)+Z}).eq("id",_.id)}F.success("Delivery completed!"),t("/agent")}catch(_){F.error("Failed to complete delivery",{description:_.message})}finally{h(!1)}}return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>t("/agent/active"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Complete Delivery"})]})}),n.jsxs("main",{className:"p-4 space-y-4",children:[n.jsxs(G,{children:[n.jsx(We,{children:n.jsxs(qe,{className:"text-base flex items-center gap-2",children:[n.jsx(Xm,{className:"h-5 w-5"}),"Proof of Delivery"]})}),n.jsxs(Y,{children:[n.jsx("div",{className:"relative aspect-[4/3] bg-muted rounded-lg overflow-hidden",children:p?n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[n.jsx(Xm,{className:"h-12 w-12 text-muted-foreground mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p}),n.jsx(P,{variant:"outline",size:"sm",onClick:v,className:"mt-2",children:"Try Again"})]}):l?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:l,alt:"Captured delivery",className:"w-full h-full object-cover"}),n.jsxs(P,{variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:x,children:[n.jsx(M4,{className:"h-4 w-4 mr-1"}),"Retake"]})]}):n.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),n.jsx("canvas",{ref:a,className:"hidden"}),!l&&!p&&n.jsxs(P,{className:"w-full mt-4",size:"lg",onClick:w,children:[n.jsx(Xm,{className:"h-5 w-5 mr-2"}),"Capture Photo"]})]})]}),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-base",children:"Delivery Notes (Optional)"})}),n.jsx(Y,{children:n.jsx(Dt,{placeholder:"Any notes about the delivery...",value:d,onChange:_=>u(_.target.value),rows:3})})]}),n.jsxs(P,{className:"w-full h-14 text-lg",onClick:j,disabled:!l||m,children:[m?n.jsx(ot,{className:"h-5 w-5 animate-spin mr-2"}):n.jsx(kn,{className:"h-5 w-5 mr-2"}),m?"Completing...":"Complete Delivery"]})]})]})}function PW(){const e=Qt(),{user:t}=wt(),{isAgent:r,loading:s}=Bl(),[a,i]=f.useState([]),[o,l]=f.useState({today:0,week:0,month:0,total:0,deliveriesToday:0,deliveriesWeek:0,deliveriesMonth:0}),[c,d]=f.useState(!0),[u,m]=f.useState("week");f.useEffect(()=>{if(!s&&!r){e("/");return}t&&r&&h()},[t,r,s,u]);async function h(){if(!t)return;d(!0);const{data:p}=await O.from("delivery_agents").select("id, total_earnings").eq("user_id",t.id).single();if(!p){d(!1);return}const g=new Date;g.setHours(0,0,0,0);const v=sn(g),y=Pr(g),{data:w}=await O.from("delivery_orders").select("id, total_fee, agent_adjusted_fee, delivery_time, pickup_address, delivery_address").eq("assigned_agent_id",p.id).eq("status","delivered").not("delivery_time","is",null).order("delivery_time",{ascending:!1});if(w){let x=0,j=0,_=0,S=0,N=0,k=0;w.forEach(C=>{const I=C.agent_adjusted_fee||C.total_fee||0,A=new Date(C.delivery_time);A>=g&&(x+=I,S++),A>=v&&(j+=I,N++),A>=y&&(_+=I,k++)}),l({today:x,week:j,month:_,total:p.total_earnings||0,deliveriesToday:S,deliveriesWeek:N,deliveriesMonth:k});let b=w;u==="today"?b=w.filter(C=>new Date(C.delivery_time)>=g):u==="week"?b=w.filter(C=>new Date(C.delivery_time)>=v):u==="month"&&(b=w.filter(C=>new Date(C.delivery_time)>=y)),i(b)}d(!1)}return s||c?n.jsxs("div",{className:"min-h-screen bg-background p-4 space-y-4",children:[n.jsx(ve,{className:"h-12 w-full"}),n.jsx(ve,{className:"h-32 w-full"}),n.jsx(ve,{className:"h-24 w-full"})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>e("/agent"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Earnings"})]})}),n.jsxs("main",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(G,{className:"bg-primary/10 border-primary/20",children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary mb-1",children:[n.jsx(Eh,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Today"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",o.today]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.deliveriesToday," deliveries"]})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(Rt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"This Week"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",o.week]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.deliveriesWeek," deliveries"]})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(B4,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"This Month"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",o.month]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.deliveriesMonth," deliveries"]})]})}),n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"All Time"})]}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",o.total.toLocaleString()]})]})})]}),n.jsx(li,{value:u,onValueChange:m,children:n.jsxs(ia,{className:"w-full",children:[n.jsx(pt,{value:"today",className:"flex-1",children:"Today"}),n.jsx(pt,{value:"week",className:"flex-1",children:"Week"}),n.jsx(pt,{value:"month",className:"flex-1",children:"Month"})]})}),n.jsx("div",{className:"space-y-2",children:a.length===0?n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center text-muted-foreground",children:[n.jsx(Eh,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No earnings for this period"})]})}):a.map(p=>n.jsx(G,{children:n.jsx(Y,{className:"p-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-medium truncate",children:[p.pickup_address,"  ",p.delivery_address]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Fe(new Date(p.delivery_time),"dd MMM, h:mm a")})]}),n.jsxs("p",{className:"font-bold text-primary ml-2",children:["",p.agent_adjusted_fee||p.total_fee]})]})})},p.id))})]})]})}function TW(){var h;const e=Qt(),{user:t}=wt(),[r,s]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState({full_name:"",phone:"",email:"",avatar_url:"",vehicle_type:"bike"});f.useEffect(()=>{t&&u()},[t]);async function u(){if(!t)return;const{data:p,error:g}=await O.from("delivery_agents").select("*").eq("user_id",t.id).single();g?(F.error("Failed to load profile"),console.error("Error fetching agent profile:",g)):p&&(l(p),d({full_name:p.full_name||"",phone:p.phone||"",email:p.email||"",avatar_url:p.avatar_url||"",vehicle_type:p.vehicle_type||"bike"})),s(!1)}async function m(){if(!o)return;if(!c.full_name.trim()){F.error("Full name is required");return}i(!0);const{error:p}=await O.from("delivery_agents").update({full_name:c.full_name.trim(),phone:c.phone.trim()||null,email:c.email.trim()||null,avatar_url:c.avatar_url||null,vehicle_type:c.vehicle_type}).eq("id",o.id);p?(F.error("Failed to update profile"),console.error("Error updating profile:",p)):(F.success("Profile updated successfully"),u()),i(!1)}return r?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsx(ot,{className:"h-8 w-8 animate-spin text-primary"})}):o?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("header",{className:"sticky top-0 z-10 bg-background border-b border-border",children:n.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[n.jsx(P,{variant:"ghost",size:"icon",onClick:()=>e("/agent"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"My Profile"})]})}),n.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-2xl",children:[n.jsx(G,{className:"mb-6",children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx(B,{className:"text-sm text-muted-foreground mb-2 block",children:"Profile Photo"}),n.jsx("div",{className:"w-32",children:n.jsx(Bd,{value:c.avatar_url,onChange:p=>d({...c,avatar_url:p}),folder:"agents"})})]}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Agent Code:"}),n.jsx("span",{className:"font-mono font-semibold text-foreground",children:o.agent_code}),o.is_verified&&n.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Verified"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-1",children:[n.jsx(yt,{className:"h-4 w-4 fill-current"}),n.jsx("span",{className:"font-semibold",children:((h=o.rating)==null?void 0:h.toFixed(1))||"0.0"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Rating"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary mb-1",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"font-semibold",children:o.total_deliveries})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Deliveries"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 mb-1",children:[n.jsx(N4,{className:"h-4 w-4"}),n.jsx("span",{className:"font-semibold",children:o.total_earnings.toLocaleString()})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Earnings"})]})]})]})]})})}),n.jsxs(G,{children:[n.jsx(We,{children:n.jsx(qe,{className:"text-lg",children:"Edit Profile"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"full_name",children:"Full Name *"}),n.jsx(J,{id:"full_name",value:c.full_name,onChange:p=>d({...c,full_name:p.target.value}),placeholder:"Enter your full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"phone",children:"Phone Number"}),n.jsx(J,{id:"phone",value:c.phone,onChange:p=>d({...c,phone:p.target.value}),placeholder:"+91 98765 43210"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"email",children:"Email"}),n.jsx(J,{id:"email",type:"email",value:c.email,onChange:p=>d({...c,email:p.target.value}),placeholder:"agent@example.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(B,{htmlFor:"vehicle_type",children:"Vehicle Type"}),n.jsxs(st,{value:c.vehicle_type,onValueChange:p=>d({...c,vehicle_type:p}),children:[n.jsx(Je,{children:n.jsx(nt,{})}),n.jsxs(Xe,{children:[n.jsx(be,{value:"bike",children:"Motorcycle / Bike"}),n.jsx(be,{value:"car",children:"Car"}),n.jsx(be,{value:"foot",children:"On Foot"})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(P,{onClick:m,disabled:a,className:"w-full",children:a?n.jsxs(n.Fragment,{children:[n.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})})]})]})]})]}):n.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"No agent profile found"}),n.jsx(P,{onClick:()=>e("/agent"),children:"Back to Dashboard"})]})}function AW(e){const[t,r]=f.useState(null),[s,a]=f.useState(null),[i,o]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState(!0),[m,h]=f.useState(null),p=f.useCallback(async()=>{if(e){u(!0),h(null);try{const{data:g,error:v}=await O.from("delivery_orders").select("*").eq("id",e).single();if(v)throw v;if(r(g),g.assigned_agent_id){const{data:x,error:j}=await O.from("delivery_agents").select("id, full_name, agent_code, phone, avatar_url, vehicle_type, rating").eq("id",g.assigned_agent_id).single();!j&&x&&a(x)}const{data:y,error:w}=await O.from("delivery_tracking").select("*").eq("order_id",e).order("timestamp",{ascending:!1}).limit(10);!w&&y&&y.length>0&&(o(y[0]),c(y))}catch(g){h(g.message||"Failed to fetch order")}finally{u(!1)}}},[e]);return f.useEffect(()=>{if(!e)return;p();const g=O.channel(`order-tracking-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"delivery_orders",filter:`id=eq.${e}`},v=>{r(w=>w?{...w,...v.new}:v.new);const y=v.new;y.assigned_agent_id&&(!s||s.id!==y.assigned_agent_id)&&O.from("delivery_agents").select("id, full_name, agent_code, phone, avatar_url, vehicle_type, rating").eq("id",y.assigned_agent_id).single().then(({data:w})=>{w&&a(w)})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"delivery_tracking",filter:`order_id=eq.${e}`},v=>{const y=v.new;o(y),c(w=>[y,...w.slice(0,9)])}).subscribe();return()=>{O.removeChannel(g)}},[e]),{order:t,agent:s,latestLocation:i,locationHistory:l,loading:d,error:m,refetch:p}}const Tu=[{key:"pending",label:"Order Placed",icon:Yt},{key:"agent_assigned",label:"Agent Assigned",icon:_s},{key:"picked_up",label:"Picked Up",icon:Yt},{key:"in_transit",label:"In Transit",icon:Et},{key:"delivered",label:"Delivered",icon:Ze}],RW={pending:0,agent_assigned:1,picked_up:2,in_transit:3,delivered:4};function OW({status:e,pickupTime:t,deliveryTime:r}){const s=RW[e]??0;return n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Order Status"}),n.jsx("div",{className:"hidden sm:flex items-center justify-between",children:Tu.map((a,i)=>{const o=i<=s,l=i===s,c=a.icon;return n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsxs("div",{className:"flex items-center w-full",children:[i>0&&n.jsx("div",{className:W("flex-1 h-1 transition-colors",i<=s?"bg-primary":"bg-muted")}),n.jsx("div",{className:W("h-10 w-10 rounded-full flex items-center justify-center transition-all shrink-0",o?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",l&&"ring-4 ring-primary/20"),children:o&&i<s?n.jsx(kn,{className:"h-5 w-5"}):n.jsx(c,{className:"h-5 w-5"})}),i<Tu.length-1&&n.jsx("div",{className:W("flex-1 h-1 transition-colors",i<s?"bg-primary":"bg-muted")})]}),n.jsx("span",{className:W("text-xs mt-2 text-center",l?"text-primary font-medium":"text-muted-foreground"),children:a.label})]},a.key)})}),n.jsx("div",{className:"sm:hidden space-y-3",children:Tu.map((a,i)=>{const o=i<=s,l=i===s,c=a.icon;return n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:W("h-8 w-8 rounded-full flex items-center justify-center transition-all shrink-0",o?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",l&&"ring-4 ring-primary/20"),children:o&&i<s?n.jsx(kn,{className:"h-4 w-4"}):n.jsx(c,{className:"h-4 w-4"})}),i<Tu.length-1&&n.jsx("div",{className:W("w-0.5 h-6 mt-1 transition-colors",i<s?"bg-primary":"bg-muted")})]}),n.jsxs("div",{className:"pt-1",children:[n.jsx("p",{className:W("text-sm font-medium",l?"text-primary":o?"text-foreground":"text-muted-foreground"),children:a.label}),a.key==="picked_up"&&t&&n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t).toLocaleTimeString()}),a.key==="delivered"&&r&&n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(r).toLocaleTimeString()})]})]},a.key)})})]})}const DW={bike:Ka,motorcycle:Ka,car:pd,truck:Et,van:Et};function MW({agent:e}){const t=DW[e.vehicle_type.toLowerCase()]||Ka,r=e.full_name.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return n.jsx(G,{children:n.jsxs(Y,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(cs,{className:"h-14 w-14",children:[n.jsx(tn,{src:e.avatar_url||void 0,alt:e.full_name}),n.jsx(ds,{className:"text-lg",children:r})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold truncate",children:e.full_name}),n.jsx(fe,{variant:"secondary",className:"shrink-0 text-xs",children:e.agent_code})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.rating&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(yt,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),e.rating.toFixed(1)]}),n.jsxs("span",{className:"flex items-center gap-1 capitalize",children:[n.jsx(t,{className:"h-3.5 w-3.5"}),e.vehicle_type]})]})]})]}),e.phone&&n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs(P,{variant:"outline",className:"flex-1",onClick:()=>window.open(`tel:${e.phone}`),children:[n.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Call"]}),n.jsxs(P,{variant:"outline",className:"flex-1",onClick:()=>window.open(`https://wa.me/${e.phone.replace(/[^0-9]/g,"")}`),children:[n.jsx(Af,{className:"h-4 w-4 mr-2"}),"Message"]})]})]})})}const IW={en_route_pickup:"Heading to pickup",at_pickup:"At pickup location",en_route_delivery:"On the way to you",at_delivery:"Arriving now"};function FW({location:e,pickupAddress:t,deliveryAddress:r}){const s=()=>{e&&window.open(`https://www.google.com/maps?q=${e.lat},${e.lng}`,"_blank")},a=o=>{window.open(`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(o)}`,"_blank")};if(!e)return n.jsx(G,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(Ze,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Location tracking will begin when delivery starts"})]})})});const i=JU(new Date(e.timestamp),{addSuffix:!0});return n.jsx(G,{children:n.jsxs(Y,{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(TN,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-green-500 animate-ping"})]}),n.jsx("span",{className:"text-sm font-medium text-green-600",children:"Live Tracking"})]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(Ol,{className:"h-3 w-3"}),i]})]}),n.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[n.jsx("p",{className:"font-medium text-sm",children:IW[e.status]||"In transit"}),e.speed>0&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Moving at ",Math.round(e.speed)," km/h"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current coordinates: ",e.lat.toFixed(6),", ",e.lng.toFixed(6)]}),n.jsxs(P,{variant:"outline",size:"sm",className:"w-full",onClick:s,children:[n.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Open in Maps"]})]}),n.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"PICKUP"})]}),n.jsx("p",{className:"text-sm truncate",children:t})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"DELIVERY"})]}),n.jsx("p",{className:"text-sm truncate",children:r}),n.jsx(P,{variant:"link",size:"sm",className:"h-auto p-0 mt-1",onClick:()=>a(r),children:"Get directions"})]})]})]})})}function LW(){var m;const{orderId:e}=jd(),t=Qt(),{order:r,agent:s,latestLocation:a,loading:i,error:o,refetch:l}=AW(e||"");if(i)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ve,{className:"h-9 w-9 rounded bg-primary-foreground/20"}),n.jsx(ve,{className:"h-6 w-40 bg-primary-foreground/20"})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx(ve,{className:"h-32 w-full"}),n.jsx(ve,{className:"h-24 w-full"}),n.jsx(ve,{className:"h-48 w-full"})]})]});if(o||!r)return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:()=>t("/orders"),children:n.jsx(Tr,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-bold text-lg",children:"Track Order"})]})}),n.jsx("div",{className:"p-4",children:n.jsx(G,{children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(Fi,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Order Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o||"We couldn't find this order. It may have been deleted or you don't have permission to view it."}),n.jsx(P,{onClick:()=>t("/orders"),children:"Go to My Orders"})]})})})]});const c=r.status==="delivered",d=r.status==="cancelled",u=r.id.slice(0,8).toUpperCase();return n.jsxs("div",{className:"min-h-screen bg-background pb-6",children:[n.jsx("div",{className:"bg-primary text-primary-foreground p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(He,{to:"/orders",children:n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",children:n.jsx(Tr,{className:"h-5 w-5"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-lg",children:"Track Order"}),n.jsxs("p",{className:"text-xs text-primary-foreground/80",children:["#",u]})]})]}),n.jsx(P,{variant:"ghost",size:"icon",className:"text-primary-foreground",onClick:l,children:n.jsx(D4,{className:"h-5 w-5"})})]})}),n.jsxs("main",{className:"p-4 space-y-4",children:[c&&n.jsx(G,{className:"bg-green-50 border-green-200",children:n.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(Yt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-green-800",children:"Delivered!"}),r.delivery_time&&n.jsx("p",{className:"text-sm text-green-600",children:Fe(new Date(r.delivery_time),"MMM d, yyyy h:mm a")})]})]})}),d&&n.jsx(G,{className:"bg-red-50 border-red-200",children:n.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[n.jsx(Fi,{className:"h-10 w-10 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-red-800",children:"Order Cancelled"}),n.jsx("p",{className:"text-sm text-red-600",children:"This order has been cancelled"})]})]})}),n.jsx(G,{children:n.jsx(Y,{className:"p-4",children:n.jsx(OW,{status:r.status,pickupTime:r.pickup_time,deliveryTime:r.delivery_time})})}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground px-1",children:"Your Agent"}),n.jsx(MW,{agent:s})]}),!s&&r.status==="pending"&&n.jsx(G,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[n.jsx(Ol,{className:"h-5 w-5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:"Waiting for agent"}),n.jsx("p",{className:"text-sm",children:"An agent will be assigned soon"})]})]})})}),s&&!c&&!d&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground px-1",children:"Live Location"}),n.jsx(FW,{location:a,pickupAddress:r.pickup_address,deliveryAddress:r.delivery_address})]}),n.jsxs(G,{children:[n.jsx(We,{className:"pb-2",children:n.jsx(qe,{className:"text-base",children:"Order Details"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Fee"}),n.jsxs("span",{className:"font-bold text-lg",children:["",r.agent_adjusted_fee||r.total_fee]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mt-1.5 shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"PICKUP"}),n.jsx("p",{children:r.pickup_address}),n.jsx("p",{className:"text-muted-foreground",children:r.pickup_contact_name})]})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary mt-1.5 shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"DELIVERY"}),n.jsx("p",{children:r.delivery_address}),n.jsx("p",{className:"text-muted-foreground",children:r.delivery_contact_name})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsxs(fe,{variant:"outline",children:[(m=r.distance_km)==null?void 0:m.toFixed(1)," km"]}),n.jsxs(fe,{variant:"outline",children:[r.weight_kg," kg"]}),r.is_fragile&&n.jsxs(fe,{variant:"outline",className:"text-yellow-600 border-yellow-300",children:[n.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Fragile"]})]}),r.package_description&&n.jsx("p",{className:"text-sm text-muted-foreground pt-2 border-t",children:r.package_description}),n.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Ordered on ",Fe(new Date(r.created_at),"MMM d, yyyy h:mm a")]})]})]})]})]})}const $W=new u5,UW=()=>n.jsx(f5,{client:$W,children:n.jsx(OL,{children:n.jsx(IL,{children:n.jsxs(BI,{children:[n.jsx(SD,{}),n.jsx(sM,{}),n.jsx(dF,{children:n.jsxs(rF,{children:[n.jsx(Ie,{path:"/",element:n.jsx(iB,{})}),n.jsx(Ie,{path:"/auth",element:n.jsx(fz,{})}),n.jsx(Ie,{path:"/reset-password",element:n.jsx(pz,{})}),n.jsx(Ie,{path:"/profile",element:n.jsx(gz,{})}),n.jsx(Ie,{path:"/saved",element:n.jsx(vz,{})}),n.jsx(Ie,{path:"/search",element:n.jsx($7,{})}),n.jsx(Ie,{path:"/orders",element:n.jsx(U7,{})}),n.jsx(Ie,{path:"/reviews",element:n.jsx(B7,{})}),n.jsx(Ie,{path:"/settings",element:n.jsx(W7,{})}),n.jsx(Ie,{path:"/events",element:n.jsx(xz,{})}),n.jsx(Ie,{path:"/events/:slug",element:n.jsx(yz,{})}),n.jsx(Ie,{path:"/services",element:n.jsx(o9,{})}),n.jsx(Ie,{path:"/businesses",element:n.jsx(j9,{})}),n.jsx(Ie,{path:"/businesses/:slug",element:n.jsx(D7,{})}),n.jsx(Ie,{path:"/places",element:n.jsx(M7,{})}),n.jsx(Ie,{path:"/places/:slug",element:n.jsx(F7,{})}),n.jsx(Ie,{path:"/admin",element:n.jsx(Q7,{})}),n.jsx(Ie,{path:"/admin/services",element:n.jsx(aW,{})}),n.jsx(Ie,{path:"/admin/businesses",element:n.jsx(iW,{})}),n.jsx(Ie,{path:"/admin/places",element:n.jsx(oW,{})}),n.jsx(Ie,{path:"/admin/events",element:n.jsx(lW,{})}),n.jsx(Ie,{path:"/admin/categories",element:n.jsx(cW,{})}),n.jsx(Ie,{path:"/admin/service-areas",element:n.jsx(dW,{})}),n.jsx(Ie,{path:"/admin/banners",element:n.jsx(hW,{})}),n.jsx(Ie,{path:"/admin/users",element:n.jsx(mW,{})}),n.jsx(Ie,{path:"/admin/agents",element:n.jsx(gW,{})}),n.jsx(Ie,{path:"/admin/orders",element:n.jsx(xW,{})}),n.jsx(Ie,{path:"/admin/reviews",element:n.jsx(yW,{})}),n.jsx(Ie,{path:"/admin/promo-codes",element:n.jsx(wW,{})}),n.jsx(Ie,{path:"/admin/delivery-orders",element:n.jsx(jW,{})}),n.jsx(Ie,{path:"/admin/products",element:n.jsx(bW,{})}),n.jsx(Ie,{path:"/admin/offers",element:n.jsx(_W,{})}),n.jsx(Ie,{path:"/agent",element:n.jsx(NW,{})}),n.jsx(Ie,{path:"/agent/orders",element:n.jsx(SW,{})}),n.jsx(Ie,{path:"/agent/active",element:n.jsx(CW,{})}),n.jsx(Ie,{path:"/agent/complete/:orderId",element:n.jsx(EW,{})}),n.jsx(Ie,{path:"/agent/profile",element:n.jsx(TW,{})}),n.jsx(Ie,{path:"/agent/earnings",element:n.jsx(PW,{})}),n.jsx(Ie,{path:"/track/:orderId",element:n.jsx(LW,{})}),n.jsx(Ie,{path:"*",element:n.jsx(q7,{})})]})})]})})})});W1(document.getElementById("root")).render(n.jsx(UW,{}));
